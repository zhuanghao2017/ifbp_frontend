{"version":3,"sources":["webpack:///webpack/bootstrap 98c8c25a5cc3085602a2","webpack:///./js/index.js","webpack:///./js/dataSource.js","webpack:///./js/dataSourceInit.js","webpack:///./js/re_gridCompSort.js","webpack:///./js/gridCompEvent.js","webpack:///./js/re_gridCompTree.js","webpack:///./js/column.js","webpack:///./js/columnInit.js","webpack:///./js/gridComp.js","webpack:///./js/gridCompCreate.js","webpack:///./js/gridBrowser.js","webpack:///./js/gridCompCreateCal.js","webpack:///./js/gridCompGet.js","webpack:///./js/gridCompInit.js","webpack:///./js/gridCompOperateRow.js","webpack:///./js/gridCompRenderType.js","webpack:///./js/gridCompSet.js","webpack:///./js/gridCompWDChange.js","webpack:///./js/gridCompClick.js","webpack:///./js/gridCompOther.js","webpack:///./js/ut_utility.js","webpack:///./js/re_gridCompColMenu.js","webpack:///./js/re_gridCompDrag.js","webpack:///./js/re_gridCompEdit.js","webpack:///./js/re_gridCompEditForm.js","webpack:///./js/re_gridCompFixed.js","webpack:///./js/re_gridCompFormShow.js","webpack:///./js/re_gridCompHeaderLevel.js","webpack:///./js/re_gridCompLocalStorage.js","webpack:///./js/re_gridCompOverWidthHidden.js","webpack:///./js/re_gridCompSumRow.js","webpack:///./js/re_gridCompSwap.js"],"names":["old","$","fn","grid","options","data","gridComp","gridCompColumn","dataSource","noConflict","init","sortRows","dataSourceProto","prototype","basicSortRows","treeSortRows","getSumValue","pushChildRows","defaults","extend","rows","Array","hasParentRows","nothasParentRows","field","sortType","showTree","eidtRowIndex","oThis","dataType","getColumnByField","values","each","i","rowObj","value","valueIndex","push","sumValue","sumCol","v","attr","getInt","parseInt","getFloat","accAdd","parseFloat","precision","o","DicimalFormater","undefined","sort_initEventFun","id","on","e","target","closest","length","mouseUpX","clientX","mouseUpY","clientY","mouseDownX","mouseDownY","columnClickX","columnClickY","eleTh","hasClass","canSortable","sort_initGridEventFun","ele","$ele","sortable","getColumnAttr","ctrlKey","prioArray","index","domEle","$el","p","text","f","st","parent","$caret","find","removeClass","addClass","$flag","splice","remove","first","append","dataSourceObj","sortRowsByPrio","firstChild","insertAdjacentHTML","onSortFun","repairContent","afterGridDivsCreate","re_deleteOneRowTree","cancelSort","evalStr","by","eqCall","callee","arguments","a","b","v1","v2","isNaN","getString","rsl","localeCompare","sort","eval","re_basicSortRows","initEventFun","initGridEventFun","initContentDivEventFun","hasChecked","setAllRowUnSelect","setAllRowSelect","$input","$div","setRowUnselect","setRowSelect","scrollLeft","scrollTop","css","leftW","fixedWidth","onDblClickFun","isDblEvent","dblClickFun","clickFun","$tr","mousemoveIndex","trHoverFun","multiSelect","showNumCol","onContentOut","obj","gridObj","is","mouseoutIndex","rowIndex","re_initTree","gridOptions","re_initOptionsTree","re_clickFunTree","$target","$td","getTrIndex","row","rowChildIndex","getChildRowIndex","minus","plus","allChildRowIndex","getAllChildRowIndex","$tr1","editType","ss","re_addOneRowTree","l","hasParent","hasChildF","keyField","parentKeyField","keyValue","parentKeyValue","nowKeyValue","nowParentKeyValue","addRowParentIndex","parentChildLength","getAllChildRow","parentLevel","level","needTreeSort","$pTr","eq","openDiv","displayFlag","autoExpand","d","closeDiv","spanHtml","oldLeft","style","left","re_addOneRowTreeHasChildF","parentRowObj","hasChild","childRow","childRowIndex","parentRow","parentRowIndex","re_updateValueAtTree","force","vv","rowValue","deleteOneRow","addOneRow","getRowIndexByValue","allChildRow","getAllChildRowFun","result","getAllChildRowIndexFun","rowArry","apply","expandNode","expandNodeByIndex","getRowByIndex","parentExpand","parentIndex","needExpanedParent","whileRow","click","$Tr","firstDiv","re_treeSortRows","$this","nowLevel","childRowArray","childRowIndexArray","column","gridCompColumnProto","initTree","getBooleanOptions","width","canDrag","fixed","visible","canVisible","editable","editFormShow","format","headerLevel","hiddenLevel","gridDefault","columnWidth","renderType","firstColumn","getBoolean","initGrid","formatWidth","swapEle","cloneObj","updateLastRowFlag","updateNumColLastRowFlag","columnsVisibleFun","resetThVariable","resetThVariableDrag","resetThVariableHeaderLevel","headerFirstClassFun","setRenderType","setShowHeader","setColumnPrecision","setMultiSelect","setShowNumCol","isGridShow","clickFunTree","clickFunEdit","createDivs","repaintDivs","createGridDivs","repaintGridDivs","createColumnMenu","createHeader","createHeaderTable","createHeaderTableFixed","createHeaderDrag","createColgroup","createThead","createContent","createContentSumRow","createContentLeft","createContentLeftMultiSelectRow","createContentLeftNumColRow","createContentTable","createContentTableFixed","createNoRowsDiv","createContentRows","createContentRowsSumRow","createContentOneRow","createContentOneRowForIE","repaintRow","createContentOneRowTd","createContentOneRowTdForIE","setIntervalFun","editorRowChangeFun","countRowHeight","noRowsShowFun","afterRepaintGrid","resetScrollLeft","hideEditMenu","getIndexOfColumn","getVisibleIndexOfColumn","getNextVisibleInidexOfColumn","getSelectRows","getSelectRowsIndex","getFocusRow","getFocusRowIndex","getAllRows","initDefault","destroySelf","initOptions","initOptionsTree","initVariable","initDataSourceVariable","initWidthVariable","initGridCompColumn","initGridCompColumnVar","initGridCompColumnFun","initGridCompColumnColumnMenuFun","initGridCompColumnHeaderLevelFun","initGridCompColumnLoacl","initGridHiddenLevelColumn","initGridCompFixedColumn","setRequired","initDataSource","addOneRowTree","addOneRowTreeHasChildF","editClose","addRows","createContentOneRowFixed","updateEditRowIndex","repairSumRow","deleteOneRowTree","deleteRows","updateRow","updateValueAt","updateValueAtTree","updateValueAtEdit","setRowFocus","setRowUnFocus","resetNumCol","renderTypeFun","renderTypeByColumn","renderTypeSumRow","setColumnVisibleByColumn","setColumnVisibleByIndex","setCoulmnWidthByField","setColumnWidth","setDataSource","setDataSourceFun1","widthChangeFun","widthChangeGridFun","widthChangeGridFunFixed","widthChangeGridFunOverWidthHidden","heightChangeFun","contentWidthChange","gridCompProto","oldInitGridCompColumn","oldInitEventFun","oldInitGridEventFun","saveGridCompColumnArrToLocal","clearLocalData","oldInitEventFun_grag","oldInitGridEventFun_grag","dragStart","dragFun","dragEnd","headerThDrag","oldInitEventFun_edit","editRowFun","editRowIndexFun","editRow","editCell","nextEditShow","editValueChange","formEditCell","setEditType","setEditable","setGridEditType","setGridEditTypeAndEditRow","oldInitDefault","oldSetRequired","oldColumnsVisibleFun","createFromDivs","createFromContent","createFormContentRows","widthChangeFormFun","getLevelTitleByField","getLocalData","saveLocalData","getGridCompColumnArrFromLocal","oldInitEventFun_sort","oldInitGridEventFun_sort","createSumRow","createSumRowForIE","renderSumRow","oldInitEventFun_swap","oldInitGridEventFun_swap","swapColumnStart","swapColumnFun","swapColumnEnd","styleStr","str","innerHTML","height","htmlStr","document","body","appendChild","realtimeTableRows","createGridFlag","html","showType","wholeWidth","wrapStr","headerShowStr","showHeader","columnMenu","isIE8","multiWidth","numWidth","createFlag","positionStr","idStr","contentMinWidth","gridCompColumnArr","gridCompColumnFixedArr","visibleIndex","trStyle","maxHeaderLevel","headerHeight","vi","displayStyle","colorStype","headerColor","title","h","displayStr","bottonStr","countContentHeight","wh","offsetHeight","wholeHeight","contentHeight","exceptContentHeight","contentWidth","u","isIOS","hStr","multiSelectWidth","tmpcheck","setTimeout","cssStr","tableStyleStr","styleStr1","transMap","ml_no_rows","table","insertRow","setAttribute","display","tr","fixedtr","isIE9","fixedtable","className","fixclassName","deleteRow","begin","type","showValue","treeStyle","spanStr","iconStr","vStr","tdStyle","treeLeft","icon","replace","newCell","insertCell","$pDiv","gridBrowser","userAgent","navigator","ua","toLowerCase","s","match","isIE","mode","documentMode","onRowHover","afterCreate","call","rowHeight","j","flag","selectRows","selectRowsIndex","focusRow","focusRowIndex","allRows","transDefault","ml_show_column","ml_clear_set","ml_sum","ml_close","minColumnWidth","scrollBarHeight","basicGridCompColumnArr","columnMenuWidth","columnMenuHeight","gridCompLevelColumn","gridCompHiddenLevelColumnArr","overWidthVisibleColumnArr","cancelFocus","overWidthHiddenColumn","showSumRow","canSwap","formMaxWidth","columns","inte","setInterval","clearInterval","url","window","location","href","indexOf","substring","localStorageId","mouseMoveX","mouseMoveY","columnMenuMove","lastVisibleColumn","lastVisibleColumnWidth","createColumnMenuFlag","menuColumnsHeight","createFormFlag","$sd_storageData","selectRowsObj","contentRealWidth","fixedRealWidth","columnOptions","optionsWidth","realWidth","endFlag","$$tr","$$tbody","fixedTable","$$div","htmlStrmultiSelect","htmlStrNumCol","htmlStrFixed","rowObjArr","_content_multiSelect","opType","opIndex","num","focusRowObj","onRowDelete","indexs","indexss","oldValue","treeRowIndex","onValueChange","newValue","doms","selectDiv","rowTr","fixedRowTr","numColDiv","checked","children","onBeforeRowSelected","_input","ini","onRowSelected","onBeforeRowUnSelected","onRowUnSelected","onBeforeAllRowSelected","rowObjs","multiSelectDivs","numColDivs","contentTrs","fixContentTrs","onAllRowSelected","onBeforeAllRowUnSelected","onAllRowUnSelected","focus","onBeforeRowFocus","onRowFocus","onBeforeRowUnFocus","onRowUnFocus","numCols","end","rendered","isFixedColumn","sumRenderType","idSuffix","visibleColIndex","getElementById","notRowIndex","k","getAttribute","editColIndex","trIndex","td","span","element","dateRender","dateTimeRender","nextVisibleIndex","after","before","newContentW","w","newWidth","nowVisibleThIndex","oldWidth","changeWidth","cWidth","valuesArr","fields","valueObj","halfWholeWidth","oldH","contentH","newContentWidth","oldW","overWidthColumn","nowVisibleIndex","realW","eventname","dbFun","dbArg","Fun","Arg","currentEventName","cleanCurrEventName","clearTimeout","onBeforeClickFun","rowClickBan","count","attrLeftTotalWidth","attrWidth","attrRightTotalWidth","nowTh","gridColumn","oldMultiSelect","oldShowNumCol","e1","e2","n","next","prev","insertBefore","insertAfter","defaultValue","join","len","charAt","checkDicimalInvalid","digit","Math","pow","toFixed","r1","r2","m","toString","split","max","re_initGridCompColumnColumnMenuFun","column1","colMenu_initGridCompColumn","re_createColumnMenu","checkedStr","colMenu_initEventFun","top","sX","sH","columnsHeight","colMenu_initGridEventFun","onClearSetFun","ll","oldScrollTop","oldTop","stopPropagation","re_createHeaderDrag","drag_initEventFun","drag_initGridEventFun","dragFlag","dragW","dragStartX","$nowTh","nowThIndex","dragEndX","swapColumnFlag","re_resetThVariableDrag","re_hideEditMenu","re_clickFunEdit","colIndex","onBeforeEditFun","isFixedCol","parents","editRowObj","topIndex","t","formEditRenderFun","cell","borderBottom","color","table1","tr1","show","noneEditableFormShow","required","renderEditMemu","re_editClose","newEditObj","$Div","$nextTr","re_updateEditRowIndex","re_updateValueAtEdit","edit_initEventFun","$e","cusStr","customEditPanelClass","cArr","newEditType","$contentBody","editForm_initDefault","editForm_setRequired","hide","re_editorRowChangeFun","lengthb","substrCH","re_initGridCompFixedColumn","fixed_columnsVisibleFun","fixW","re_createHeaderTableFixed","re_createContentTableFixed","re_createContentOneRowFixed","re_widthChangeGridFunFixed","re_resetThVariableHeaderLevel","oldParentHeaderStr","parentWidth","parentHeaderStr","parentHeader","parentHeaderTitleStr","parentFlag","re_initGridCompColumnHeaderLevelFun","oldLength","slice","hiddenLevel1","hiddenLevel2","columnField","re_initGridCompColumnLoacl","localGridCompColumnArr","c","localStorage","getItem","setItem","storageDataStr","JSON","parse","saveSettimeout","strogeDataStr","stringify","defData","concat","re_initGridHiddenLevelColumn","re_widthChangeGridFunOverWidthHidden","columnWholeWidth","re_createContentRowsSumRow","re_createContentSumRow","contentStyle","role","re_repairSumRow","sumSpans","sumSpan","sumV","textAlign","re_renderTypeSumRow","swap_initEventFun","preventDefault","swap_initGridEventFun","swapColumnEle","swapColumnStartX","swapColumnStartY","nowGridCompColumn","$d","scrollWidth","paddingLeft","paddingRight","lineHeight","paddingTop","paddingBottom","prepend","insertAdjacentElement","swapColumnEndX","swapColumnEndY","changeX","changeY","$d1","offset","right","swapToColumnEle","swapColumnIndex","swapToColumnIndex","swapGridCompColumn"],"mappings":"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","file":"neoui-grid.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 98c8c25a5cc3085602a2\n **/","/*\r\n * 对象所支持的属性及默认值\r\n */\r\n\r\n import {dataSource}  from './dataSource';\r\n import {column as gridCompColumn}  from './column';\r\n import {gridComp}  from './gridComp';\r\n\r\nvar old = $.fn.grid;\r\n// 方法扩展\r\n$.fn.grid = function(options) {\r\n\tvar grid = $(this).data('gridComp');\r\n\tif(!grid)\r\n\t\t$(this).data('gridComp',(grid = new gridComp(this, options)));\r\n\treturn grid;\r\n};\r\n$.fn.grid.gridComp = gridComp;\r\n$.fn.grid.gridCompColumn = gridCompColumn;\r\n$.fn.grid.dataSource = dataSource;\r\n\r\n$.fn.grid.noConflict = function() {\r\n\t$.fn.grid = old;\r\n\treturn this;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/index.js\n **/","import {\r\n    init,\r\n    sortRows,\r\n    basicSortRows,\r\n    treeSortRows,\r\n    getSumValue\r\n} from './dataSourceInit';\r\n\r\nclass dataSource{\r\n    constructor(options, gridComp){\r\n\r\n        this.init(options, gridComp);\r\n    \tthis.sortRows();\r\n\r\n    }\r\n};\r\n\r\nvar dataSourceProto = dataSource.prototype;\r\n\r\ndataSourceProto.init = init;\r\ndataSourceProto.sortRows = sortRows;\r\ndataSourceProto.basicSortRows = basicSortRows;\r\ndataSourceProto.treeSortRows = treeSortRows;\r\ndataSourceProto.getSumValue = getSumValue;\r\n\r\n\r\nimport{re_basicSortRows} from './re_gridCompSort';\r\ndataSourceProto.basicSortRows = re_basicSortRows;\r\n\r\n\r\n/*\r\n * tree\r\n */\r\nimport{\r\n    re_treeSortRows,\r\n    pushChildRows\r\n} from './re_gridCompTree';\r\n\r\ndataSourceProto.treeSortRows = re_treeSortRows;\r\ndataSourceProto.pushChildRows = pushChildRows;\r\n\r\nexport{dataSource}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataSource.js\n **/","/*\r\n * 处理参数\r\n */\r\nconst init = function(options, gridComp){\r\n    this.defaults = {}\r\n    this.gridComp = gridComp;\r\n    this.options = $.extend({}, this.defaults, options);\r\n    this.rows = new Array(); // 存储数据行\r\n    this.hasParentRows = new Array(); // 存在父项\r\n    this.nothasParentRows = new Array(); // 不存在父项\r\n};\r\n/*\r\n * 将values转化为rows并进行排序\r\n */\r\nconst sortRows = function(field,sortType){\r\n    if(this.gridComp.options.showTree){\r\n        this.treeSortRows(field,sortType);\r\n    }else{\r\n        this.basicSortRows(field,sortType);\r\n    }\r\n    this.gridComp.eidtRowIndex = -1;\r\n};\r\n/*\r\n * 将values转化为rows并进行排序(标准)\r\n */\r\nconst basicSortRows = function(field, sortType) {\r\n    var oThis = this,dataType = \"\";\r\n    if(field){\r\n        dataType = this.gridComp.getColumnByField(field).options.dataType;\r\n    }\r\n    this.rows = new Array();\r\n    if(this.options.values){\r\n        $.each(this.options.values, function(i) {\r\n            var rowObj = {};\r\n            rowObj.value = this;\r\n            rowObj.valueIndex = i;\r\n            oThis.rows.push(rowObj);\r\n        });\r\n    }\r\n\r\n};\r\nconst treeSortRows = function(field,sortType){\r\n    this.basicSortRows(field,sortType);\r\n};\r\n/*\r\n * 获取合计值\r\n */\r\nconst getSumValue = function(field,gridCompColumn,gridComp){\r\n    var sumValue = null;\r\n    if(gridCompColumn.options.sumCol){\r\n        $.each(this.rows, function(i) {\r\n            var v = $(this.value).attr(field);\r\n            if(gridCompColumn.options.dataType == 'Int'){\r\n                v = gridComp.getInt(v,0);\r\n                sumValue  += parseInt(v);\r\n            }else{\r\n                v = gridComp.getFloat(v,0);\r\n                sumValue  = gridComp.accAdd(sumValue,parseFloat(v));\r\n            }\r\n        });\r\n    }\r\n    // 处理精度\r\n    if(gridCompColumn.options.dataType == 'Float' && gridCompColumn.options.precision){\r\n        var o = {};\r\n        o.value = sumValue;\r\n        o.precision = gridCompColumn.options.precision;\r\n        sumValue = gridComp.DicimalFormater(o);\r\n    }\r\n    if(sumValue != null && sumValue != undefined && sumValue != 'null' && sumValue != 'undefined'){\r\n        return sumValue + '';\r\n    }else{\r\n        return '';\r\n    }\r\n};\r\nexport{\r\n    init,\r\n    sortRows,\r\n    basicSortRows,\r\n    treeSortRows,\r\n    getSumValue\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataSourceInit.js\n **/","import {\r\n\tinitEventFun,\r\n    initGridEventFun\r\n} from './gridCompEvent';\r\n\r\nconst sort_initEventFun = function(){\r\n\t// 扩展方法\r\n\tvar oThis = this;\r\n\t$('#' + this.options.id).on('mouseup', function(e) {\r\n\t\tif ($(e.target).closest('#' + oThis.options.id + '_header').length > 0) {\r\n\t\t\t// 点击的是header区域\r\n\t\t\toThis.mouseUpX = e.clientX;\r\n\t\t\toThis.mouseUpY = e.clientY;\r\n\t\t\t//点击过程中鼠标没有移动\r\n\t\t\tif (oThis.mouseDownX == oThis.mouseUpX && oThis.mouseDownY == oThis.mouseUpY) {\r\n\t\t\t//或者移动距离小于5px(由于移动之后会显示屏幕div，暂时不做处理)\r\n\t\t\t\toThis.columnClickX = e.clientX;\r\n\t\t\t\toThis.columnClickY = e.clientY;\r\n\t\t\t\tvar eleTh = $(e.target).closest('th')[0];\r\n\t\t\t\tif($(e.target).hasClass('u-grid-header-columnmenu')){\r\n\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// 执行click操作,进行排序\r\n\t\t\t\t\toThis.canSortable(e, eleTh);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if ($(e.target).closest('#' + oThis.options.id + '_content').length > 0) {\r\n\t\t\t// 点击的是数据区域\r\n\r\n\t\t}\r\n\r\n\t});\r\n};\r\nconst sort_initGridEventFun = function(){\r\n\t// 扩展方法\r\n\tvar oThis = this;\r\n};\r\n/*\r\n * 处理排序\r\n */\r\nconst canSortable = function(e, ele) {\r\n\tvar oThis = this,\r\n\t\t$ele = $(ele),\r\n\t\tfield = $ele.attr('field'),\r\n\t\tsortable = this.getColumnAttr('sortable', field);\r\n\tif (sortable) {\r\n\t\tif(e.ctrlKey) {\r\n\t\t\t// 构建排序信息的数据结构\r\n\t\t\tvar prioArray = []\r\n\t\t\t$('.u-grid-header-sort-priority').each(function(index, domEle){\r\n\t\t\t\tvar $el = $(domEle)\r\n\t\t\t\tvar p = parseInt($el.text())\r\n\t\t\t\tvar f = $el.closest('th').attr('field')\r\n\t\t\t\tvar st\r\n\t\t\t\tif($el.parent().hasClass(\"uf-caretarrowup\")) {\r\n\t\t\t\t\tst = 'asc'\r\n\t\t\t\t} else if($el.parent().hasClass(\"uf-caretdown\")){\r\n\t\t\t\t\tst = 'desc'\r\n\t\t\t\t}\r\n\t\t\t\tprioArray[p-1] = {field:f, sortType:st}\r\n\t\t\t})\r\n\t\t\t// 页面调整\r\n\t\t\t/*修改ue将caret调整为caret*/\r\n\t\t\tvar $caret\r\n\t\t\tif(($caret = $ele.find('.uf-caretarrowup')).length > 0) {\r\n\t\t\t\tvar p = parseInt($caret.find('.u-grid-header-sort-priority').text())\r\n\t\t\t\tprioArray[p-1].sortType = 'desc'\r\n\t\t\t\t$caret.removeClass('uf-caretarrowup').addClass('uf-caretdown')\r\n\t\t\t} else if(($caret = $ele.find('.uf-caretdown')).length > 0) {\r\n\t\t\t\tvar p = parseInt($caret.find('.u-grid-header-sort-priority').text())\r\n\t\t\t\tfor(var i=p;i<prioArray.length;i++) {\r\n\t\t\t\t\tvar $flag = $('[field='+prioArray[i].field+']').find('.u-grid-header-sort-priority')\r\n\t\t\t\t\t$flag.text(parseInt($flag.text())-1)\r\n\t\t\t\t}\r\n\t\t\t\tprioArray.splice(p-1,1)\r\n\t\t\t\t$caret.remove()\r\n\t\t\t} else {\r\n\t\t\t\tprioArray.push({field:field, sortType:'asc'})\r\n\t\t\t\t// $ele.first().append('<span class=\"uf uf-caretarrowup u-grid-header-sort-span\" ><span class=\"u-grid-header-sort-priority\">'+prioArray.length+'</span></span>')\r\n\t\t\t\t$ele.first().first().append('<span class=\"uf uf-caretarrowup u-grid-header-sort-span\" ></span>')\r\n\t\t\t}\r\n\t\t\t// 执行排序逻辑\r\n\t\t\tthis.dataSourceObj.sortRowsByPrio(prioArray)\r\n\r\n\t\t} else {\r\n\t\t\tif ($(\".uf-caretarrowup\").parent().parent().parent()[0] == ele) { //原来为升序，本次为降序\r\n\t\t\t\t$(\".uf-caretarrowup\").remove();\r\n\t\t\t\t//$(ele.firstChild)[0].insertAdjacentHTML('beforeEnd','<span class=\"uf uf-caretdown u-grid-header-sort-span\" ><span class=\"u-grid-header-sort-priority\">1</span></span>');\r\n\t\t\t\t$(ele.firstChild.firstChild)[0].insertAdjacentHTML('beforeEnd','<span class=\"uf uf-caretdown u-grid-header-sort-span\" ></span>');\r\n\t\t\t\tif(typeof this.options.onSortFun == 'function'){\r\n\t\t\t\t\tthis.options.onSortFun(field,'asc')\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.dataSourceObj.sortRows(field, \"asc\");\r\n\t\t\t\t}\r\n\t\t\t} else if ($(\".uf-caretdown\").parent().parent().parent()[0] == ele) { //原来为降序，本次为不排序\r\n\t\t\t\t$(\".uf-caretdown\").remove();\r\n\t\t\t\tif(typeof this.options.onSortFun == 'function'){\r\n\t\t\t\t\tthis.options.onSortFun();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.dataSourceObj.sortRows();\r\n\t\t\t\t}\r\n\r\n\t\t\t} else { //本次为升序\r\n\t\t\t\t$(\".uf-caretarrowup\").remove();\r\n\t\t\t\t$(\".uf-caretdown\").remove();\r\n\t\t\t\t// $(ele.firstChild)[0].insertAdjacentHTML('beforeEnd','<span class=\"uf uf-caretarrowup u-grid-header-sort-span\"><span class=\"u-grid-header-sort-priority\">1</span></span>');\r\n\t\t\t\t$(ele.firstChild.firstChild)[0].insertAdjacentHTML('beforeEnd','<span class=\"uf uf-caretarrowup u-grid-header-sort-span\"></span>');\r\n\t\t\t\tif(typeof this.options.onSortFun == 'function'){\r\n\t\t\t\t\tthis.options.onSortFun(field, \"desc\");\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.dataSourceObj.sortRows(field, \"desc\");\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\toThis.repairContent();\r\n\t\toThis.afterGridDivsCreate();\r\n\t}\r\n};\r\nconst re_deleteOneRowTree = function(){\r\n\tif(this.options.showTree){\r\n\t\tthis.dataSourceObj.sortRows();\r\n\t}\r\n};\r\n/*\r\n * 根据排序的优先级的排序\r\n * prioArray = [{field:'f2', sortType:'asc'}, {field:'f3', sortType:'desc'}, {field:'f1', sortType:'asc'}]\r\n */\r\nconst sortRowsByPrio = function(prioArray, cancelSort) {\r\n\tvar oThis = this;\r\n\tif(cancelSort) {\r\n\t\tthis.rows = new Array();\r\n\t\tif(this.options.values){\r\n\t\t\t$.each(this.options.values, function(i) {\r\n\t\t\t\tvar rowObj = {};\r\n\t\t\t\trowObj.value = this;\r\n\t\t\t\trowObj.valueIndex = i;\r\n\t\t\t\toThis.rows.push(rowObj);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tvar evalStr = function(i) {\r\n\t\tif(i == prioArray.length-1) {\r\n\t\t\treturn 'by(prioArray['+i+'].field, prioArray['+i+'].sortType)'\r\n\t\t} else {\r\n\t\t\treturn 'by(prioArray['+i+'].field, prioArray['+i+'].sortType,' + evalStr(i+1) + ')'\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tvar by = function(field, sortType, eqCall) {\r\n\t\tvar callee = arguments.callee\r\n\t\treturn function(a, b) {\r\n\t\t\tvar v1 = $(a.value).attr(field);\r\n\t\t\tvar v2 = $(b.value).attr(field);\r\n\t\t\tvar dataType = oThis.gridComp.getColumnByField(field).options.dataType;\r\n\t\t\tif(dataType == 'Float'){\r\n\t\t\t\tv1 = parseFloat(v1);\r\n\t\t\t\tv2 = parseFloat(v2);\r\n\t\t\t\tif(isNaN(v1)){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\tif(isNaN(v2)){\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\tif(v1 == v2 && eqCall) {\r\n\t\t\t\t\treturn eqCall()\r\n\t\t\t\t}\r\n\t\t\t\treturn sortType == 'asc' ? (v1-v2) : (v2-v1);\r\n\t\t\t}else if (dataType == 'Int'){\r\n\t\t\t\tv1 = parseInt(v1);\r\n\t\t\t\tv2 = parseInt(v2);\r\n\t\t\t\tif(isNaN(v1)){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\tif(isNaN(v2)){\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\tif(v1 == v2 && eqCall) {\r\n\t\t\t\t\treturn eqCall()\r\n\t\t\t\t}\r\n\t\t\t\treturn sortType == 'asc' ? (v1-v2) : (v2-v1);\r\n\t\t\t}else{\r\n\t\t\t\tv1 = oThis.gridComp.getString(v1,'');\r\n\t\t\t\tv2 = oThis.gridComp.getString(v2,'');\r\n\t\t\t\ttry{\r\n\t\t\t\t\tvar rsl = v1.localeCompare(v2)\r\n\t\t\t\t\tif(rsl === 0 && eqCall) {\r\n\t\t\t\t\t\treturn eqCall()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(rsl === 0) {\r\n\t\t\t\t\t\treturn 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn sortType == 'asc' ? rsl : -rsl;\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tthis.rows.sort(eval(evalStr(0)));\r\n};\r\n/*\r\n * 将values转化为rows并进行排序(标准)\r\n */\r\nconst re_basicSortRows = function(field, sortType) {\r\n\tvar oThis = this;\r\n\tvar dataType = \"\";\r\n\tif(field){\r\n\t\tdataType = this.gridComp.getColumnByField(field).options.dataType;\r\n\t}\r\n\tif (sortType == \"asc\") {\r\n\t\tthis.rows.sort(function(a, b) {\r\n\t\t\tvar v1 = $(b.value).attr(field);\r\n\t\t\tvar v2 = $(a.value).attr(field);\r\n\t\t\tif(dataType == 'Float'){\r\n\t\t\t\tv1 = parseFloat(v1);\r\n\t\t\t\tv2 = parseFloat(v2);\r\n\t\t\t\tif(isNaN(v1)){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\tif(isNaN(v2)){\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn v1-v2;\r\n\t\t\t}else if (dataType == 'Int'){\r\n\t\t\t\tv1 = parseInt(v1);\r\n\t\t\t\tv2 = parseInt(v2);\r\n\t\t\t\tif(isNaN(v1)){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\tif(isNaN(v2)){\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn v1-v2;\r\n\t\t\t}else{\r\n\t\t\t\tv1 = oThis.gridComp.getString(v1,'');\r\n\t\t\t\tv2 = oThis.gridComp.getString(v2,'');\r\n\t\t\t\ttry{\r\n\t\t\t\t\treturn v1.localeCompare(v2);\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t} else if (sortType == \"desc\") {\r\n\t\tthis.rows.sort(function(a, b) {\r\n\t\t\tvar v1 = $(a.value).attr(field);\r\n\t\t\tvar v2 = $(b.value).attr(field);\r\n\t\t\tif(dataType == 'Float'){\r\n\t\t\t\tv1 = parseFloat(v1);\r\n\t\t\t\tv2 = parseFloat(v2);\r\n\t\t\t\tif(isNaN(v1)){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\tif(isNaN(v2)){\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn v1-v2;\r\n\t\t\t}else if (dataType == 'Int'){\r\n\t\t\t\tv1 = parseInt(v1);\r\n\t\t\t\tv2 = parseInt(v2);\r\n\t\t\t\tif(isNaN(v1)){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\tif(isNaN(v2)){\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn v1-v2;\r\n\t\t\t}else{\r\n\t\t\t\tv1 = oThis.gridComp.getString(v1,'');\r\n\t\t\t\tv2 = oThis.gridComp.getString(v2,'');\r\n\t\t\t\ttry{\r\n\t\t\t\t\treturn v1.localeCompare(v2);\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\tthis.rows = new Array();\r\n\t\tif(this.options.values){\r\n\t\t\t$.each(this.options.values, function(i) {\r\n\t\t\t\tvar rowObj = {};\r\n\t\t\t\trowObj.value = this;\r\n\t\t\t\trowObj.valueIndex = i;\r\n\t\t\t\toThis.rows.push(rowObj);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\nexport{\r\n    sort_initEventFun,\r\n    sort_initGridEventFun,\r\n    canSortable,\r\n    re_deleteOneRowTree,\r\n    sortRowsByPrio,\r\n    re_basicSortRows\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/re_gridCompSort.js\n **/","/*\r\n * 创建完成之后顶层div添加监听\r\n */\r\nconst initEventFun = function() {\r\n    var oThis = this;\r\n    $('#' + this.options.id).on('mousedown', function(e) {\r\n        if ($(e.target).closest('#' + oThis.options.id + '_header').length > 0) {\r\n            // 点击的是header区域\r\n            oThis.mouseDownX = e.clientX;\r\n            oThis.mouseDownY = e.clientY;\r\n        } else if ($(e.target).closest('#' + oThis.options.id + '_content').length > 0) {\r\n            // 点击的是数据区域\r\n        }\r\n    });\r\n};\r\n/*\r\n * 创建完成之后grid层 div添加监听\r\n */\r\nconst initGridEventFun = function() {\r\n    var oThis = this;\r\n    // 拖动\r\n    this.initContentDivEventFun();\r\n    // 全选\r\n    $('#' + this.options.id + '_header_multi_input').on('click', function(e) {\r\n        if(this.hasChecked){\r\n            oThis.setAllRowUnSelect();\r\n            this.hasChecked = false;\r\n        }else{\r\n            oThis.setAllRowSelect();\r\n            this.hasChecked = true;\r\n\r\n        }\r\n    });\r\n};\r\n/*\r\n * 内容区 div添加监听\r\n */\r\nconst initContentDivEventFun = function(){\r\n    var oThis = this;\r\n    // 通过复选框设置选中行\r\n    $('#' + oThis.options.id + '_content .u-grid-content-left').on('click',function(e){\r\n        var $input = $(e.target).closest('.u-grid-checkbox-outline');\r\n        if($input.length > 0){\r\n            var $div = $($input.parent());\r\n            var index = $('.u-grid-content-multiSelect',$div.parent()).index($div);\r\n            if($input.hasClass('is-checked')){\r\n                oThis.setRowUnselect(index);\r\n            }else{\r\n                oThis.setRowSelect(index);\r\n            }\r\n        }\r\n    });\r\n    // 同步滚动条\r\n    $('#' + this.options.id + '_content_div').on('scroll', function(e) {\r\n        oThis.scrollLeft = this.scrollLeft;\r\n        oThis.scrollTop = this.scrollTop;\r\n        $('#' + oThis.options.id + '_header_table').css('left', oThis.leftW - oThis.scrollLeft + oThis.fixedWidth + \"px\");\r\n        $('#' + oThis.options.id + '_noRowsShow').css('left', oThis.scrollLeft + \"px\");\r\n        $('#' + oThis.options.id + '_edit_form').css('left', oThis.scrollLeft + \"px\");\r\n        $('#' + oThis.options.id + '_content_multiSelect').css('top', -oThis.scrollTop + \"px\");\r\n        $('#' + oThis.options.id + '_content_numCol').css('top', -oThis.scrollTop + \"px\");\r\n        $('#' + oThis.options.id + '_content_fixed_div').css('top', -oThis.scrollTop + \"px\");\r\n    });\r\n    // 数据行相关事件\r\n    $('#' + this.options.id + '_content_tbody').on('click',function(e){\r\n        // 双击处理\r\n        if(typeof oThis.options.onDblClickFun == 'function'){\r\n            oThis.isDblEvent('tbodyClick',oThis.dblClickFun,e,oThis.clickFun,e);\r\n        }else{\r\n            oThis.clickFun(e);\r\n        }\r\n    });\r\n    $('#' + this.options.id + '_content_fixed_tbody').on('click',function(e){\r\n        // 双击处理\r\n        if(typeof oThis.options.onDblClickFun == 'function'){\r\n            oThis.isDblEvent('tbodyClick',oThis.dblClickFun,e,oThis.clickFun,e);\r\n        }else{\r\n            oThis.clickFun(e);\r\n        }\r\n    });\r\n    $('#' + this.options.id + '_content').on('mousemove', function(e) {\r\n        var $tr = $(e.target).closest('tr'),$div = $(e.target).closest('div'),mousemoveIndex = -1;\r\n        // 首先清除所有的背景\r\n        if($tr.length > 0){\r\n            mousemoveIndex = $('tr',$tr.parent()).index($tr);\r\n        }else if($div.length > 0 && ($div.hasClass('u-grid-content-multiSelect') || $div.hasClass('u-grid-content-num'))){ //左侧复选及数字列\r\n            mousemoveIndex = $('div',$div.parent()).index($div);\r\n        }\r\n\r\n        oThis.trHoverFun(mousemoveIndex);\r\n    });\r\n    $('#' + this.options.id + '_content').on('mouseout', function(e) {\r\n        $('#' + oThis.options.id + '_content_tbody').find('tr').removeClass('u-grid-move-bg');\r\n        $('#' + oThis.options.id + '_content_fixed_tbody').find('tr').removeClass('u-grid-move-bg');\r\n        if(oThis.options.multiSelect)\r\n            $('#' + oThis.options.id + '_content_multiSelect').find('div').removeClass('u-grid-move-bg');\r\n        if(oThis.options.showNumCol)\r\n            $('#' + oThis.options.id + '_content_numCol').find('div').removeClass('u-grid-move-bg');\r\n        if(typeof oThis.options.onContentOut == 'function'){\r\n            var obj = {};\r\n            obj.gridObj = oThis;\r\n            var $tr = $(e.target).closest('tr');\r\n            if($tr.length > 0 && !$tr.is('.u-grid-content-sum-row')){\r\n                var mouseoutIndex = $('tr[role=\"row\"]',$tr.parent()).index($tr)\r\n                obj.rowObj = oThis.dataSourceObj.rows[mouseoutIndex];\r\n                obj.rowIndex = mouseoutIndex;\r\n                }\r\n            oThis.options.onContentOut(obj);\r\n        }\r\n    });\r\n};\r\n\r\nexport{\r\n    initEventFun,\r\n    initGridEventFun,\r\n    initContentDivEventFun\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gridCompEvent.js\n **/","\r\nconst re_initTree = function(options,gridOptions){\r\n\tif(gridOptions.showTree){\r\n\t\toptions.sortable = false;\r\n\t}\r\n\treturn options;\r\n};\r\nconst re_initOptionsTree = function(){\r\n\tif(this.options.showTree){\r\n\t\tthis.options.showNumCol = false;\r\n\t}\r\n};\r\nconst re_clickFunTree = function(e){\r\n\tvar oThis = this,$target = $(e.target),$td = $target.closest('td');\r\n\r\n\tif($td.length > 0){\r\n\t\tvar $tr = $td.parent();\r\n\t\tvar index = this.getTrIndex($tr);\r\n\t\tvar row = oThis.dataSourceObj.rows[index];\r\n\t\tif(row){\r\n\t\t\tvar rowChildIndex = oThis.getChildRowIndex(row);\r\n\t\t\tif($target.hasClass('uf-minusbutton') || $target.hasClass('uf-addsquarebutton2') ){\r\n\t\t\t\tvar minus = $td.find('.uf-minusbutton');\r\n\t\t\t\tvar plus = $td.find('.uf-addsquarebutton2');\r\n\t\t\t\tif(minus.length >0){\r\n\t\t\t\t\t// 合上 需要将所有的都合上\r\n\t\t\t\t\tminus.removeClass('uf-minusbutton').addClass('uf-addsquarebutton2');\r\n\t\t\t\t\tif(rowChildIndex.length > 0){\r\n\t\t\t\t\t\tvar allChildRowIndex = oThis.getAllChildRowIndex(row);\r\n\t\t\t\t\t\t$.each(allChildRowIndex, function() {\r\n\t\t\t\t\t\t\tvar $tr1 = $('tr[role=\"row\"]:eq(' + parseInt(this) +')',$tr.parent());\r\n\t\t\t\t\t\t\t$tr1.css('display','none');\r\n\t\t\t\t\t\t\t// 左侧复选区隐藏\r\n\t\t\t\t\t\t\t$('#' + oThis.options.id + '_content_multiSelect >div:nth-child('+(parseInt(this) +1)+ ')').css('display','none');\r\n\t\t\t\t\t\t\t$('.uf-minusbutton',$tr1).removeClass('uf-minusbutton').addClass('uf-addsquarebutton2');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.options.editType == 'form'){\r\n\t\t\t\t\t\t$('#' + this.options.id + '_multiSelect_edit').remove(null,true);\r\n\t\t\t\t\t\t$('#' + this.options.id + '_numCol_edit').remove(null,true);\r\n\t\t\t\t\t\t$('#' + this.options.id + '_edit_tr').remove(null,true);\r\n\t\t\t\t\t\t$('#' + this.options.id + '_edit_tr1').remove(null,true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}else if(plus.length > 0){\r\n\t\t\t\t\t// 展开\r\n\t\t\t\t\tplus.removeClass('uf-addsquarebutton2').addClass('uf-minusbutton');\r\n\t\t\t\t\tif(rowChildIndex.length > 0){\r\n\t\t\t\t\t\t$.each(rowChildIndex, function() {\r\n\t\t\t\t\t\t\tvar $tr1 = $('tr[role=\"row\"]:eq(' + parseInt(this) +')',$tr.parent());\r\n\t\t\t\t\t\t\t$tr1.css('display','');\r\n\t\t\t\t\t\t\tvar ss = $('#' + oThis.options.id + '_content_multiSelect >div:nth-child('+(parseInt(this) +1)+ ')')[0];\r\n\t\t\t\t\t\t\t$('#' + oThis.options.id + '_content_multiSelect >div:nth-child('+(parseInt(this) +1)+ ')').css('display','');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\nconst re_addOneRowTree = function(row,index,rowObj){\r\n\tvar oThis = this,l = this.dataSourceObj.rows.length;\r\n\t// 存在树结构\r\n\tif(this.options.showTree){\r\n\t\tthis.hasParent = false;\r\n\t\tthis.hasChildF = false;\r\n\t\tvar keyField = this.options.keyField;\r\n\t\tvar parentKeyField = this.options.parentKeyField;\r\n\t\tvar keyValue = this.getString($(row).attr(keyField),'');\r\n\t\trowObj.keyValue = keyValue;\r\n\t\tvar parentKeyValue = this.getString($(row).attr(parentKeyField),'');\r\n\t\trowObj.parentKeyValue = parentKeyValue;\r\n\t\t/* 判断是否存在父项/子项 */\r\n\t\t$.each(this.dataSourceObj.rows,function(i){\r\n\t\t\tvar value = this.value;\r\n\t\t\tvar nowKeyValue = oThis.getString($(value).attr(keyField),'');\r\n\t\t\tvar nowParentKeyValue = oThis.getString($(value).attr(parentKeyField),'');\r\n\t\t\tif(nowKeyValue == parentKeyValue){\r\n\t\t\t\t/* 取父项的index和父项的子index*/\r\n\t\t\t\toThis.hasParent = true;\r\n\t\t\t\toThis.addRowParentIndex = i;\r\n\t\t\t\tparentChildLength = oThis.getAllChildRow(this).length;\r\n\t\t\t\tvar parentLevel = this.level;\r\n\t\t\t\trowObj.level = parentLevel + 1;\r\n\t\t\t\t// 由于不止需要计算最后一个子节点，同时需要计算子节点的子节点。所以现在添加到父节点的下面一个\r\n\t\t\t\tindex = oThis.addRowParentIndex + parentChildLength + 1;\r\n\t\t\t\tif(!oThis.options.needTreeSort)\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(nowParentKeyValue == keyValue){\r\n\t\t\t\toThis.hasChildF = true;\r\n\t\t\t}\r\n\t\t\tif(oThis.hasParent && oThis.hasChildF)\r\n\t\t\t\treturn false;\r\n\t\t});\r\n\t\tif(!this.hasParent){\r\n\t\t\trowObj.level = 0;\r\n\t\t\tif(index != l) {\r\n\t\t\t\t// 如果没有父项则插入到最后，因为index有可能插入到其他节点的子节点之中，计算复杂\r\n\t\t\t\tindex = l;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tif(this.hasParent){\r\n\t\t\tvar $pTr = $('#' + this.options.id + '_content_div').find('tbody').find('tr[role=\"row\"]').eq(oThis.addRowParentIndex);\r\n\t\t\tif(parentChildLength > 0){\r\n\t\t\t\t// 如果存在父项并且父项存在子项则需要判断父项是否展开\r\n\t\t\t\tvar openDiv = $('.uf-addsquarebutton2',$pTr);\r\n\t\t\t\tif(!(openDiv.length > 0)){\r\n\t\t\t\t\tdisplayFlag = 'block';\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// 如果存在父项并且父项原来没有子项则需要添加图标\r\n\t\t\t\tif(this.options.autoExpand){\r\n\t\t\t\t\tdisplayFlag = 'block';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar d = $(\"div:eq(0)\",$pTr);\r\n\t\t\t\tvar openDiv = $('.uf-addsquarebutton2',$pTr);\r\n\t\t\t\tvar closeDiv = $('.uf-minusbutton',$pTr);\r\n\t\t\t\tif(this.options.autoExpand){\r\n\t\t\t\t\tvar spanHtml = '<span class=\"uf u-grid-content-tree-span uf-minusbutton\"></span>';\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar spanHtml = '<span class=\"uf u-grid-content-tree-span uf-addsquarebutton2\"></span>';\r\n\t\t\t\t}\r\n\t\t\t\tif(d.length > 0 && openDiv.length == 0 && closeDiv.length == 0){\r\n\t\t\t\t\td[0].insertAdjacentHTML('afterBegin',spanHtml);\r\n\t\t\t\t\tvar oldLeft = parseInt(d[0].style.left);\r\n\t\t\t\t\tl = oldLeft - 16;\r\n\t\t\t\t\tif(l > 0 || l == 0){\r\n\t\t\t\t\t\td[0].style.left = l + \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(openDiv.length > 0){\r\n\t\t\t\t\topenDiv.removeClass('uf-addsquarebutton2').addClass('uf-minusbutton');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\treturn index;\r\n};\r\nconst re_addOneRowTreeHasChildF = function(rowObj){\r\n\tif(this.hasChildF){\r\n\t\t//如果存在子项则重新渲染整个区域\r\n\t\tthis.dataSourceObj.sortRows();\r\n\t\tthis.repairContent();\r\n\t}else{\r\n\t\t// 修改rowObj 和parent的变量\r\n\t\tif(this.hasParent){\r\n\t\t\tvar parentRowObj = this.dataSourceObj.rows[this.addRowParentIndex];\r\n\t\t\tparentRowObj.hasChild = true;\r\n\t\t\tparentRowObj.childRow.push(rowObj);\r\n\t\t\tparentRowObj.childRowIndex.push(rowObj.valueIndex);\r\n\t\t\trowObj.parentRow = parentRowObj;\r\n\t\t\trowObj.parentRowIndex = this.addRowParentIndex;\r\n\t\t}\r\n\t\trowObj.hasChild = false;\r\n\t\trowObj.childRow = new Array();\r\n\t\trowObj.childRowIndex = new Array();\r\n\t}\r\n};\r\nconst re_updateValueAtTree = function(rowIndex,field,value,force){\r\n\tvar oThis = this;\r\n\tvar keyField = this.options.keyField;\r\n\tvar parentKeyField = this.options.parentKeyField;\r\n\tif(this.options.showTree && (field == keyField || field == parentKeyField)){\r\n\t\t// 目前已经不适用grid源生的编辑设置了，因为树表时关闭edit\r\n\t\tvar hasParent = false;\r\n\t\tvar hasChildF = false;\r\n\r\n\r\n\t\t$.each(this.dataSourceObj.rows,function(i){\r\n\t\t\tvar vv = this.value;\r\n\t\t\tvar nowKeyValue = oThis.getString($(vv).attr(keyField),'');\r\n\t\t\tvar nowParentKeyValue = oThis.getString($(vv).attr(parentKeyField),'');\r\n\t\t\tif(field == keyField && value == nowParentKeyValue){\r\n\t\t\t\t//修改的是keyfield，判断是否存在子项\r\n\t\t\t\thasChildF = true;\r\n\t\t\t}\r\n\t\t\tif(field == parentKeyField && value == nowKeyValue){\r\n\t\t\t\t//修改的是parentKeyField，判断是否存在父项\r\n\t\t\t\thasParent = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(hasChildF || hasParent){\r\n\t\t\t//删除当前行之后重新插入当前行由addonerow来进行树结构处理\r\n\t\t\tvar rowValue = $(this.dataSourceObj.rows[rowIndex].value);\r\n\t\t\tthis.deleteOneRow(rowIndex);\r\n\t\t\tthis.addOneRow(rowValue[0]);\r\n\t\t}\r\n\r\n\t}\r\n\tif(this.options.showTree && (field == keyField || field == parentKeyField) && (hasChildF || hasParent)){\r\n\t\trowIndex = this.getRowIndexByValue(field,value);\r\n\t}\r\n\treturn rowIndex;\r\n};\r\n/*\r\n * 获取数据行下所有子元素\r\n */\r\nconst getAllChildRow = function(row){\r\n\t// if(row.allChildRow && row.allChildRow.length > 0){\r\n\t// \treturn row.allChildRow;\r\n\t// }\r\n\trow.allChildRow = new Array();\r\n\tthis.getAllChildRowFun(row,row.allChildRow);\r\n\treturn row.allChildRow;\r\n};\r\nconst getChildRowIndex = function(row){\r\n\tvar result = [];\r\n\tif(row.childRow && row.childRow.length > 0){\r\n\t\t$.each(row.childRow, function() {\r\n\t\t\tresult.push(this.valueIndex)\r\n\t\t});\r\n\t}\r\n\treturn result;\r\n}\r\n/*\r\n * 获取数据行下所有子元素的index\r\n */\r\nconst getAllChildRowIndex = function(row){\r\n\t// if(row.allChildRowIndex && row.allChildRowIndex.length > 0){\r\n\t// \treturn row.allChildRowIndex;\r\n\t// }\r\n\trow.allChildRowIndex = new Array();\r\n\tthis.getAllChildRowIndexFun(row,row.allChildRowIndex);\r\n\treturn row.allChildRowIndex;\r\n};\r\nconst getAllChildRowFun = function(row,rowArry){\r\n\tvar oThis = this;\r\n\tif(row.childRow.length > 0){\r\n\t\tArray.prototype.push.apply(rowArry, row.childRow);\r\n\t\t$.each(row.childRow, function() {\r\n\t\t\t  oThis.getAllChildRowFun(this,rowArry);\r\n\t\t});\r\n\t}\r\n};\r\nconst getAllChildRowIndexFun = function(row,rowArry){\r\n\tvar oThis  = this;\r\n\tif(row.childRow.length > 0){\r\n\t\tArray.prototype.push.apply(rowArry, this.getChildRowIndex(row));\r\n\t\t$.each(row.childRow, function() {\r\n\t\t\t  oThis.getAllChildRowIndexFun(this,rowArry);\r\n\t\t});\r\n\t}\r\n};\r\n/* 展开某个节点 */\r\nconst expandNode = function(keyValue){\r\n\tvar rowIndex = this.getRowIndexByValue(this.options.keyField,keyValue);\r\n\tthis.expandNodeByIndex(rowIndex);\r\n};\r\nconst expandNodeByIndex = function(rowIndex){\r\n\tvar row = this.getRowByIndex(rowIndex);\r\n\tvar parentExpand = false,parentIndex,needExpanedParent = new Array();\r\n\tvar whileRow = row;\r\n\twhile(!parentExpand){\r\n\t\tif(whileRow.parentKeyValue == ''){\r\n\t\t\tparentExpand = true;\r\n\t\t\tbreak;\r\n\t\t}else{\r\n\t\t\tparentIndex = whileRow.parentRowIndex;\r\n\t\t\twhileRow = whileRow.parentRow;\r\n\t\t\tvar $pTr = $('#' + this.options.id + '_content_div').find('tbody').find('tr[role=\"row\"]').eq(parentIndex);\r\n\t\t\tvar openDiv = $('.uf-addsquarebutton2',$pTr);\r\n\t\t\tif(openDiv.length > 0){ //合着\r\n\t\t\t\tneedExpanedParent.push(parentIndex);\r\n\t\t\t}else{\r\n\t\t\t\tparentExpand = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(needExpanedParent.length > 0){\r\n\t\tfor(var i = needExpanedParent.length - 1;i > -1;i--){\r\n\t\t\tvar index = needExpanedParent[i];\r\n\t\t\tvar $pTr = $('#' + this.options.id + '_content_div').find('tbody').find('tr[role=\"row\"]').eq(index);\r\n\t\t\tvar openDiv = $('.uf-addsquarebutton2',$pTr);\r\n\t\t\topenDiv.click();\r\n\t\t}\r\n\t}\r\n\r\n\tvar $Tr = $('#' + this.options.id + '_content_div').find('tbody').find('tr[role=\"row\"]').eq(rowIndex);\r\n\tvar openDiv = $('.uf-addsquarebutton2',$Tr);\r\n\tvar firstDiv = $('.u-grid-content-td-div',$Tr);\r\n\tif(openDiv.length > 0)\r\n\t\topenDiv.click();\r\n\telse\r\n\t\tfirstDiv.click();\r\n}\r\n/*\r\n * 将values转化为rows并进行排序(数表)\r\n */\r\nconst re_treeSortRows = function(field, sortType) {\r\n\tvar oThis = this;\r\n\tthis.rows = new Array();\r\n\tthis.hasParentRows = new Array();\r\n\tthis.nothasParentRows = new Array();\r\n\tif(this.options.values){\r\n\t\t$.each(this.options.values, function(i){\r\n\t\t\tvar rowObj = {};\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar keyField = oThis.gridComp.options.keyField;\r\n\t\t\tvar parentKeyField = oThis.gridComp.options.parentKeyField;\r\n\t\t\tvar keyValue = oThis.gridComp.getString($this.attr(keyField),'');\r\n\t\t\tvar parentKeyValue = oThis.gridComp.getString($this.attr(parentKeyField),'');\r\n\t\t\trowObj.valueIndex = i;\r\n\t\t\trowObj.value = this;\r\n\t\t\trowObj.keyValue = keyValue;\r\n\t\t\trowObj.parentKeyValue = parentKeyValue;\r\n\t\t\tif(parentKeyValue == ''){\r\n\t\t\t\toThis.nothasParentRows.push(rowObj);\r\n\t\t\t}else{\r\n\t\t\t\toThis.hasParentRows.push(rowObj);\r\n\t\t\t}\r\n\t\t\toThis.rows.push(rowObj);\r\n\t\t});\r\n\t\t// 判断存在父项的数据的父项是否真正存在\r\n\t\t$.each(this.hasParentRows,function(i){\r\n\t\t\tvar parentKeyValue = this.parentKeyValue;\r\n\t\t\tvar hasParent = false;\r\n\t\t\t$.each(oThis.rows,function(){\r\n\t\t\t\tif(this.keyValue == parentKeyValue){\r\n\t\t\t\t\thasParent = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(!hasParent){\r\n\t\t\t\toThis.hasParentRows.splice(i,0);\r\n\t\t\t\toThis.nothasParentRows.push(this);\r\n\t\t\t}\r\n\t\t});\r\n\t\toThis.rows = new Array();\r\n\t\tvar level = 0;\r\n\t\t// 遍历nothasParentRows，将子项加入rows\r\n\t\t$.each(this.nothasParentRows, function(i) {\r\n\t\t\tthis.level = level;\r\n\t\t\toThis.rows.push(this);\r\n\t\t\toThis.pushChildRows(this,level);\r\n\t\t});\r\n\t}\r\n};\r\n/*\r\n * 将当前行子项插入rows数组\r\n */\r\nconst pushChildRows = function(row,level){\r\n\tvar keyValue = row.keyValue;\r\n\tvar oThis = this;\r\n\tvar nowLevel = parseInt(level) + 1;\r\n\tvar hasChild = false;\r\n\tvar childRowArray = new Array();\r\n\tvar childRowIndexArray = new Array();\r\n\t$.each(this.hasParentRows, function(i) {\r\n\t\tif(this && this.parentKeyValue == keyValue){\r\n\t\t\thasChild = true;\r\n\t\t\tthis.level = nowLevel;\r\n\t\t\toThis.rows.push(this);\r\n\t\t\tchildRowArray.push(this);\r\n\t\t\tvar index = parseInt(oThis.rows.length - 1);\r\n\t\t\tchildRowIndexArray.push(index);\r\n\t\t\toThis.hasParentRows.splice(i,0);\r\n\t\t\toThis.pushChildRows(this,nowLevel);\r\n\t\t}\r\n\t});\r\n\trow.hasChild = hasChild;\r\n\trow.childRow = childRowArray;\r\n\trow.childRowIndex = childRowIndexArray;\r\n};\r\nexport{\r\n    re_initTree,\r\n    re_initOptionsTree,\r\n    re_clickFunTree,\r\n    re_addOneRowTree,\r\n    re_addOneRowTreeHasChildF,\r\n    re_updateValueAtTree,\r\n    getAllChildRow,\r\n    getChildRowIndex,\r\n    getAllChildRowIndex,\r\n    getAllChildRowFun,\r\n    getAllChildRowIndexFun,\r\n    expandNode,\r\n    expandNodeByIndex,\r\n    re_treeSortRows,\r\n    pushChildRows\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/re_gridCompTree.js\n **/","import {\r\n    init,\r\n    initTree,\r\n    getBooleanOptions\r\n} from './columnInit';\r\n\r\nclass column{\r\n    constructor(options, gridComp){\r\n\r\n        this.init(options, gridComp);\r\n\r\n    }\r\n};\r\n\r\n var gridCompColumnProto = column.prototype;\r\n\r\n gridCompColumnProto.init = init;\r\n gridCompColumnProto.initTree = initTree;\r\n gridCompColumnProto.getBooleanOptions = getBooleanOptions;\r\n\r\n /*\r\n  * tree\r\n  */\r\n import{re_initTree} from './re_gridCompTree';\r\n\r\n gridCompColumnProto.initTree = re_initTree;\r\n\r\nexport{column}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/column.js\n **/","/*\r\n * 处理参数\r\n */\r\nconst init = function(options, gridComp){\r\n    this.gridComp = gridComp;\r\n    var gridOptions = gridComp.options;\r\n    this.defaults = {\r\n            width:200, // 默认宽度为200\r\n            sortable: true, // 是否可以排序\r\n            canDrag: true, // 是否可以拖动\r\n            fixed: false, // 是否固定列\r\n            visible: true, // 是否显示\r\n            canVisible: true, // 是否可以隐藏\r\n            sumCol:false, // 是否计算合计\r\n            editable:true, // 是否可修改\r\n            editFormShow:true, // 是否可修改\r\n            autoExpand:false, // 是否自动扩展列\r\n            editType:'text', // 编辑类型，支持传入function扩展\r\n            dataType:'String', // 数据类型,String, Date, Datetime, Int, Float\r\n            //precision:  //精度\r\n            format:'YYYY-MM-DD hh:mm:ss',\r\n            //renderType:'', 渲染类型\r\n            //headerColor\r\n            headerLevel:1, // header层级\r\n            hiddenLevel:1, // 宽度不足隐藏的优先级，值越大优先隐藏\r\n            // parentHeader 对应的父header的title\r\n            // 目前仅支持两级，多级的话需要改变头的高度，另外处理当前级别的时候需要看下是否存在上级，如果存在上级的话\r\n            // 则创建新的div，这就涉及到需要躲变量计算每级的宽度，需要考虑下如何实现。\r\n            // headerColor:'#a8a8a8'\r\n    };\r\n        // 从grid继承的属性\r\n    var gridDefault = {\r\n        sortable: gridOptions.sortable,\r\n        canDrag: gridOptions.canDrag,\r\n        width: gridOptions.columnWidth\r\n    };\r\n    if(options.dataType == 'Date'){\r\n        this.defaults.format = 'YYYY-MM-DD';\r\n    }\r\n    // 树表暂时不支持排序\r\n    options = this.initTree(options,gridOptions)\r\n    this.options = $.extend({}, this.defaults, gridDefault, options);\r\n    this.getBooleanOptions();\r\n    try{\r\n        if(typeof this.options.renderType == 'string')\r\n            this.options.renderType = eval(this.options.renderType)\r\n    }catch(e){\r\n\r\n    }\r\n    try{\r\n        if(typeof this.options.editType == 'string')\r\n            this.options.editType = eval(this.options.editType)\r\n    }catch(e){\r\n\r\n    }\r\n\r\n    // 转成数字\r\n    this.options.width = parseInt(this.options.width);\r\n    this.firstColumn = false;\r\n};\r\nconst initTree = function(options){\r\n    return options;\r\n};\r\nconst getBooleanOptions = function(){\r\n    this.options.sortable = this.gridComp.getBoolean(this.options.sortable);\r\n    this.options.canDrag = this.gridComp.getBoolean(this.options.canDrag);\r\n    this.options.fixed = this.gridComp.getBoolean(this.options.fixed);\r\n    this.options.visible = this.gridComp.getBoolean(this.options.visible);\r\n    this.options.canVisible = this.gridComp.getBoolean(this.options.canVisible);\r\n    this.options.sumCol = this.gridComp.getBoolean(this.options.sumCol);\r\n    this.options.editable = this.gridComp.getBoolean(this.options.editable);\r\n    this.options.editFormShow = this.gridComp.getBoolean(this.options.editFormShow);\r\n    this.options.autoExpand = this.gridComp.getBoolean(this.options.autoExpand);\r\n};\r\n\r\nexport{\r\n    init,\r\n    initTree,\r\n    getBooleanOptions\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/columnInit.js\n **/","import {\r\n\tcreateDivs,\r\n\trepaintDivs,\r\n\tcreateGridDivs,\r\n\trepaintGridDivs,\r\n\tcreateColumnMenu,\r\n    createHeader,\r\n    createHeaderTable,\r\n    createHeaderTableFixed,\r\n    createHeaderDrag,\r\n    createColgroup,\r\n    createThead,\r\n    createContent,\r\n    createContentSumRow,\r\n    createContentLeft,\r\n    createContentLeftMultiSelectRow,\r\n    createContentLeftNumColRow,\r\n    createContentTable,\r\n    createContentTableFixed,\r\n    createNoRowsDiv,\r\n    createContentRows,\r\n    createContentRowsSumRow,\r\n    createContentOneRow,\r\n    createContentOneRowForIE,\r\n    repaintRow,\r\n    createContentOneRowTd,\r\n    createContentOneRowTdForIE,\r\n    repairContent\r\n} from './gridCompCreate';\r\n\r\nimport {\r\n\ttrHoverFun,\r\n    setIntervalFun,\r\n    editorRowChangeFun,\r\n    afterGridDivsCreate,\r\n    countRowHeight,\r\n    noRowsShowFun,\r\n    afterRepaintGrid,\r\n    resetScrollLeft,\r\n    hideEditMenu\r\n} from './gridCompCreateCal';\r\n\r\nimport {\r\n\tinitEventFun,\r\n    initGridEventFun,\r\n    initContentDivEventFun\r\n} from './gridCompEvent';\r\n\r\nimport {\r\n\tgetColumnAttr,\r\n    getColumnByField,\r\n    getIndexOfColumn,\r\n    getVisibleIndexOfColumn,\r\n    getNextVisibleInidexOfColumn,\r\n    getSelectRows,\r\n    getSelectRowsIndex,\r\n    getFocusRow,\r\n    getFocusRowIndex,\r\n    getAllRows,\r\n    getRowByIndex,\r\n    getRowIndexByValue\r\n} from './gridCompGet';\r\n\r\nimport {\r\n\tinit,\r\n    getBooleanOptions,\r\n    initDefault,\r\n    initGrid,\r\n    destroySelf,\r\n    initOptions,\r\n    initOptionsTree,\r\n    initVariable,\r\n    initDataSourceVariable,\r\n    initWidthVariable,\r\n    initGridCompColumn,\r\n    initGridCompColumnVar,\r\n    initGridCompColumnFun,\r\n    initGridCompColumnColumnMenuFun,\r\n    initGridCompColumnHeaderLevelFun,\r\n    initGridCompColumnLoacl,\r\n    initGridHiddenLevelColumn,\r\n    initGridCompFixedColumn,\r\n    setRequired,\r\n    initDataSource\r\n} from './gridCompInit';\r\n\r\nimport {\r\n\taddOneRow,\r\n    addOneRowTree,\r\n    addOneRowTreeHasChildF,\r\n    editClose,\r\n    addRows,\r\n    createContentOneRowFixed,\r\n    updateEditRowIndex,\r\n    deleteOneRow,\r\n    repairSumRow,\r\n    deleteOneRowTree,\r\n    deleteRows,\r\n    updateRow,\r\n    updateValueAt,\r\n    updateValueAtTree,\r\n    updateValueAtEdit,\r\n    setRowSelect,\r\n    setRowUnselect,\r\n    setAllRowSelect,\r\n    setAllRowUnSelect,\r\n    setRowFocus,\r\n    setRowUnFocus,\r\n    resetNumCol\r\n} from './gridCompOperateRow';\r\n\r\nimport {\r\n\trenderTypeFun,\r\n    renderTypeByColumn,\r\n    renderTypeSumRow\r\n} from './gridCompRenderType';\r\n\r\nimport {\r\n\tsetColumnVisibleByColumn,\r\n    setColumnVisibleByIndex,\r\n    setCoulmnWidthByField,\r\n    setColumnWidth,\r\n    setDataSource,\r\n    setDataSourceFun1\r\n} from './gridCompSet';\r\n\r\nimport {\r\n\twidthChangeFun,\r\n    widthChangeGridFun,\r\n    widthChangeGridFunFixed,\r\n    widthChangeGridFunOverWidthHidden,\r\n    heightChangeFun,\r\n    contentWidthChange\r\n} from './gridCompWDChange';\r\n\r\nimport {\r\n\tisDblEvent,\r\n    dblClickFun,\r\n    clickFun,\r\n    clickFunTree,\r\n    clickFunEdit\r\n} from './gridCompClick';\r\n\r\nimport{\r\n    updateLastRowFlag,\r\n    updateNumColLastRowFlag,\r\n    columnsVisibleFun,\r\n    resetThVariable,\r\n    resetThVariableDrag,\r\n    resetThVariableHeaderLevel,\r\n    headerFirstClassFun,\r\n    setRenderType,\r\n    setShowHeader,\r\n    setColumnPrecision,\r\n    setMultiSelect,\r\n    setShowNumCol,\r\n    isGridShow,\r\n    getBoolean\r\n} from './gridCompOther';\r\n\r\nimport{\r\n    formatWidth,\r\n    swapEle,\r\n    getString,\r\n    getInt,\r\n    getFloat,\r\n    cloneObj,\r\n    DicimalFormater,\r\n    accAdd,\r\n    getTrIndex\r\n} from './ut_utility';\r\n\r\nclass gridComp{\r\n\r\n\tconstructor(ele,options){\r\n\t\tthis.init(ele,options);\r\n\t\tthis.initGrid();\r\n\t}\r\n\r\n};\r\ngridComp.prototype.formatWidth = formatWidth;\r\ngridComp.prototype.swapEle = swapEle;\r\ngridComp.prototype.getString = getString;\r\ngridComp.prototype.getInt = getInt;\r\ngridComp.prototype.getFloat = getFloat;\r\ngridComp.prototype.cloneObj = cloneObj;\r\ngridComp.prototype.DicimalFormater = DicimalFormater;\r\ngridComp.prototype.accAdd = accAdd;\r\ngridComp.prototype.getTrIndex = getTrIndex;\r\n\r\n\r\ngridComp.prototype.updateLastRowFlag = updateLastRowFlag;\r\ngridComp.prototype.updateNumColLastRowFlag = updateNumColLastRowFlag;\r\ngridComp.prototype.columnsVisibleFun = columnsVisibleFun;\r\ngridComp.prototype.resetThVariable = resetThVariable;\r\ngridComp.prototype.resetThVariableDrag = resetThVariableDrag;\r\ngridComp.prototype.resetThVariableHeaderLevel = resetThVariableHeaderLevel;\r\ngridComp.prototype.headerFirstClassFun = headerFirstClassFun;\r\ngridComp.prototype.setRenderType = setRenderType;\r\ngridComp.prototype.setShowHeader = setShowHeader;\r\ngridComp.prototype.setColumnPrecision = setColumnPrecision;\r\ngridComp.prototype.setMultiSelect = setMultiSelect;\r\ngridComp.prototype.setShowNumCol = setShowNumCol;\r\ngridComp.prototype.isGridShow = isGridShow;\r\ngridComp.prototype.getBoolean = getBoolean;\r\n\r\n\r\ngridComp.prototype.isDblEvent = isDblEvent;\r\ngridComp.prototype.dblClickFun = dblClickFun;\r\ngridComp.prototype.clickFun = clickFun;\r\ngridComp.prototype.clickFunTree = clickFunTree;\r\ngridComp.prototype.clickFunEdit = clickFunEdit;\r\n\r\n\r\ngridComp.prototype.createDivs = createDivs;\r\ngridComp.prototype.repaintDivs = repaintDivs;\r\ngridComp.prototype.createGridDivs = createGridDivs;\r\ngridComp.prototype.repaintGridDivs = repaintGridDivs;\r\ngridComp.prototype.createColumnMenu = createColumnMenu;\r\ngridComp.prototype.createHeader = createHeader;\r\ngridComp.prototype.createHeaderTable = createHeaderTable;\r\ngridComp.prototype.createHeaderTableFixed = createHeaderTableFixed;\r\ngridComp.prototype.createHeaderDrag = createHeaderDrag;\r\ngridComp.prototype.createColgroup = createColgroup;\r\ngridComp.prototype.createThead = createThead;\r\ngridComp.prototype.createContent = createContent;\r\ngridComp.prototype.createContentSumRow = createContentSumRow;\r\ngridComp.prototype.createContentLeft = createContentLeft;\r\ngridComp.prototype.createContentLeftMultiSelectRow = createContentLeftMultiSelectRow;\r\ngridComp.prototype.createContentLeftNumColRow = createContentLeftNumColRow;\r\ngridComp.prototype.createContentTable = createContentTable;\r\ngridComp.prototype.createContentTableFixed = createContentTableFixed;\r\ngridComp.prototype.createNoRowsDiv = createNoRowsDiv;\r\ngridComp.prototype.createContentRows = createContentRows;\r\ngridComp.prototype.createContentRowsSumRow = createContentRowsSumRow;\r\ngridComp.prototype.createContentOneRow = createContentOneRow;\r\ngridComp.prototype.createContentOneRowForIE = createContentOneRowForIE;\r\ngridComp.prototype.repaintRow = repaintRow;\r\ngridComp.prototype.createContentOneRowTd = createContentOneRowTd;\r\ngridComp.prototype.createContentOneRowTdForIE = createContentOneRowTdForIE;\r\ngridComp.prototype.repairContent = repairContent;\r\n\r\n\r\ngridComp.prototype.trHoverFun = trHoverFun;\r\ngridComp.prototype.setIntervalFun = setIntervalFun;\r\ngridComp.prototype.editorRowChangeFun = editorRowChangeFun;\r\ngridComp.prototype.afterGridDivsCreate = afterGridDivsCreate;\r\ngridComp.prototype.countRowHeight = countRowHeight;\r\ngridComp.prototype.noRowsShowFun = noRowsShowFun;\r\ngridComp.prototype.afterRepaintGrid = afterRepaintGrid;\r\ngridComp.prototype.resetScrollLeft = resetScrollLeft;\r\ngridComp.prototype.hideEditMenu = hideEditMenu;\r\n\r\n\r\ngridComp.prototype.initEventFun = initEventFun;\r\ngridComp.prototype.initGridEventFun = initGridEventFun;\r\ngridComp.prototype.initContentDivEventFun = initContentDivEventFun;\r\n\r\n\r\ngridComp.prototype.getColumnAttr = getColumnAttr;\r\ngridComp.prototype.getColumnByField = getColumnByField;\r\ngridComp.prototype.getIndexOfColumn = getIndexOfColumn;\r\ngridComp.prototype.getVisibleIndexOfColumn = getVisibleIndexOfColumn;\r\ngridComp.prototype.getNextVisibleInidexOfColumn = getNextVisibleInidexOfColumn;\r\ngridComp.prototype.getSelectRows = getSelectRows;\r\ngridComp.prototype.getSelectRowsIndex = getSelectRowsIndex;\r\ngridComp.prototype.getFocusRow = getFocusRow;\r\ngridComp.prototype.getFocusRowIndex = getFocusRowIndex;\r\ngridComp.prototype.getAllRows = getAllRows;\r\ngridComp.prototype.getRowByIndex = getRowByIndex;\r\ngridComp.prototype.getRowIndexByValue = getRowIndexByValue;\r\n\r\n\r\ngridComp.prototype.init = init;\r\ngridComp.prototype.getBooleanOptions = getBooleanOptions;\r\ngridComp.prototype.initDefault = initDefault;\r\ngridComp.prototype.initGrid = initGrid;\r\ngridComp.prototype.destroySelf = destroySelf;\r\ngridComp.prototype.initOptions = initOptions;\r\ngridComp.prototype.initOptionsTree = initOptionsTree;\r\ngridComp.prototype.initVariable = initVariable;\r\ngridComp.prototype.initDataSourceVariable = initDataSourceVariable;\r\ngridComp.prototype.initWidthVariable = initWidthVariable;\r\ngridComp.prototype.initGridCompColumn = initGridCompColumn;\r\ngridComp.prototype.initGridCompColumnVar = initGridCompColumnVar;\r\ngridComp.prototype.initGridCompColumnFun = initGridCompColumnFun;\r\ngridComp.prototype.initGridCompColumnColumnMenuFun = initGridCompColumnColumnMenuFun;\r\ngridComp.prototype.initGridCompColumnHeaderLevelFun = initGridCompColumnHeaderLevelFun;\r\ngridComp.prototype.initGridCompColumnLoacl = initGridCompColumnLoacl;\r\ngridComp.prototype.initGridHiddenLevelColumn = initGridHiddenLevelColumn;\r\ngridComp.prototype.initGridCompFixedColumn = initGridCompFixedColumn;\r\ngridComp.prototype.setRequired = setRequired;\r\ngridComp.prototype.initDataSource = initDataSource;\r\n\r\n\r\ngridComp.prototype.addOneRow = addOneRow;\r\ngridComp.prototype.addOneRowTree = addOneRowTree;\r\ngridComp.prototype.addOneRowTreeHasChildF = addOneRowTreeHasChildF;\r\ngridComp.prototype.editClose = editClose;\r\ngridComp.prototype.addRows = addRows;\r\ngridComp.prototype.createContentOneRowFixed = createContentOneRowFixed;\r\ngridComp.prototype.updateEditRowIndex = updateEditRowIndex;\r\ngridComp.prototype.deleteOneRow = deleteOneRow;\r\ngridComp.prototype.repairSumRow = repairSumRow;\r\ngridComp.prototype.deleteOneRowTree = deleteOneRowTree;\r\ngridComp.prototype.deleteRows = deleteRows;\r\ngridComp.prototype.updateRow = updateRow;\r\ngridComp.prototype.updateValueAt = updateValueAt;\r\ngridComp.prototype.updateValueAtTree = updateValueAtTree;\r\ngridComp.prototype.updateValueAtEdit = updateValueAtEdit;\r\ngridComp.prototype.setRowSelect = setRowSelect;\r\ngridComp.prototype.setRowUnselect = setRowUnselect;\r\ngridComp.prototype.setAllRowSelect = setAllRowSelect;\r\ngridComp.prototype.setAllRowUnSelect = setAllRowUnSelect;\r\ngridComp.prototype.setRowFocus = setRowFocus;\r\ngridComp.prototype.setRowUnFocus = setRowUnFocus;\r\ngridComp.prototype.resetNumCol = resetNumCol;\r\n\r\n\r\ngridComp.prototype.renderTypeFun = renderTypeFun;\r\ngridComp.prototype.renderTypeByColumn = renderTypeByColumn;\r\ngridComp.prototype.renderTypeSumRow = renderTypeSumRow;\r\n\r\n\r\ngridComp.prototype.setColumnVisibleByColumn = setColumnVisibleByColumn;\r\ngridComp.prototype.setColumnVisibleByIndex = setColumnVisibleByIndex;\r\ngridComp.prototype.setCoulmnWidthByField = setCoulmnWidthByField;\r\ngridComp.prototype.setColumnWidth = setColumnWidth;\r\ngridComp.prototype.setDataSource = setDataSource;\r\ngridComp.prototype.setDataSourceFun1 = setDataSourceFun1;\r\n\r\n\r\ngridComp.prototype.widthChangeFun = widthChangeFun;\r\ngridComp.prototype.widthChangeGridFun = widthChangeGridFun;\r\ngridComp.prototype.widthChangeGridFunFixed = widthChangeGridFunFixed;\r\ngridComp.prototype.widthChangeGridFunOverWidthHidden = widthChangeGridFunOverWidthHidden;\r\ngridComp.prototype.heightChangeFun = heightChangeFun;\r\ngridComp.prototype.contentWidthChange = contentWidthChange;\r\n\r\nvar gridCompProto = gridComp.prototype;\r\n\r\n/*\r\n * colmuenu\r\n */\r\n var oldInitGridCompColumn= gridCompProto.initGridCompColumn,\r\n     oldInitEventFun= gridCompProto.initEventFun,\r\n     oldInitGridEventFun= gridCompProto.initGridEventFun;\r\n\r\n import{\r\n    re_initGridCompColumnColumnMenuFun,\r\n \tcolMenu_initGridCompColumn,\r\n \tre_createColumnMenu,\r\n \tcolMenu_initEventFun,\r\n \tcolMenu_initGridEventFun\r\n } from './re_gridCompColMenu';\r\n\r\n gridCompProto.initGridCompColumnColumnMenuFun = re_initGridCompColumnColumnMenuFun;\r\n gridCompProto.initGridCompColumn = function(){\r\n     // 执行原有方法\r\n    oldInitGridCompColumn.apply(this,arguments);\r\n    colMenu_initGridCompColumn.apply(this,arguments);\r\n\r\n };\r\n gridCompProto.createColumnMenu = re_createColumnMenu;\r\n gridCompProto.initEventFun = function(){\r\n     // 执行原有方法\r\n    oldInitEventFun.apply(this,arguments);\r\n    colMenu_initEventFun.apply(this,arguments);\r\n };\r\n gridCompProto.initGridEventFun = function(){\r\n     // 执行原有方法\r\n    oldInitGridEventFun.apply(this,arguments);\r\n    colMenu_initGridEventFun.apply(this,arguments);\r\n };\r\n\r\n if(typeof gridCompProto.saveGridCompColumnArrToLocal == 'undefined'){\r\n \tgridCompProto.saveGridCompColumnArrToLocal = function(){\r\n \t};\r\n }\r\n if(typeof gridCompProto.clearLocalData == 'undefined'){\r\n \tgridCompProto.clearLocalData = function(){\r\n \t};\r\n }\r\n\r\n\r\n/*\r\n * grag\r\n */\r\nvar oldInitEventFun_grag= gridCompProto.initEventFun;\r\nvar oldInitGridEventFun_grag= gridCompProto.initGridEventFun;\r\n import{\r\n     re_createHeaderDrag,\r\n     drag_initEventFun,\r\n     drag_initGridEventFun,\r\n     dragStart,\r\n     dragFun,\r\n     dragEnd,\r\n     headerThDrag,\r\n     re_resetThVariableDrag\r\n } from './re_gridCompDrag';\r\n\r\n gridCompProto.createHeaderDrag = re_createHeaderDrag;\r\n gridCompProto.initEventFun = function(){\r\n     // 执行原有方法\r\n    oldInitEventFun_grag.apply(this,arguments);\r\n    drag_initEventFun.apply(this,arguments);\r\n };\r\n gridCompProto.initGridEventFun = function(){\r\n     // 执行原有方法\r\n    oldInitGridEventFun_grag.apply(this,arguments);\r\n    drag_initGridEventFun.apply(this,arguments);\r\n };\r\n gridCompProto.dragStart = dragStart;\r\n gridCompProto.dragFun = dragFun;\r\n gridCompProto.dragEnd = dragEnd;\r\n if(typeof gridCompProto.saveGridCompColumnArrToLocal == 'undefined'){\r\n     gridCompProto.saveGridCompColumnArrToLocal = function(){\r\n     };\r\n }\r\n gridCompProto.headerThDrag = headerThDrag;\r\n gridCompProto.resetThVariableDrag = re_resetThVariableDrag;\r\n\r\n\r\n /*\r\n  * edit\r\n  */\r\n   var oldInitEventFun_edit= gridCompProto.initEventFun;\r\n import{\r\n     re_hideEditMenu,\r\n     re_clickFunEdit,\r\n     editRowFun,\r\n     editRowIndexFun,\r\n     editRow,\r\n     re_editClose,\r\n     editCell,\r\n     nextEditShow,\r\n     editValueChange,\r\n     re_updateEditRowIndex,\r\n     re_updateValueAtEdit,\r\n     setEditType,\r\n     setEditable,\r\n     edit_initEventFun,\r\n     setGridEditType,\r\n     setGridEditTypeAndEditRow\r\n } from './re_gridCompEdit';\r\n\r\ngridCompProto.hideEditMenu = re_hideEditMenu;\r\ngridCompProto.clickFunEdit = re_clickFunEdit;\r\ngridCompProto.editRowFun = editRowFun;\r\ngridCompProto.editRowIndexFun = editRowIndexFun;\r\ngridCompProto.editRow = editRow;\r\ngridCompProto.editClose = re_editClose;\r\ngridCompProto.editCell = editCell;\r\ngridCompProto.nextEditShow = nextEditShow;\r\ngridCompProto.editValueChange = editValueChange;\r\nif(typeof gridCompProto.formEditCell == 'undefined'){\r\n\tgridCompProto.formEditCell = function(){\r\n\t};\r\n};\r\ngridCompProto.updateEditRowIndex = re_updateEditRowIndex;\r\ngridCompProto.updateValueAtEdit = re_updateValueAtEdit;\r\ngridCompProto.setEditType = setEditType;\r\ngridCompProto.setEditable = setEditable;\r\ngridCompProto.initEventFun = function(){\r\n    // 执行原有方法\r\n   oldInitEventFun_edit.apply(this,arguments);\r\n   edit_initEventFun.apply(this,arguments);\r\n};\r\ngridCompProto.setGridEditType = setGridEditType;\r\ngridCompProto.setGridEditTypeAndEditRow = setGridEditTypeAndEditRow;\r\n\r\n\r\n/*\r\n * editForm\r\n */\r\nvar oldInitDefault= gridCompProto.initDefault,\r\n    oldSetRequired= gridCompProto.setRequired;\r\nimport{\r\n    editForm_initDefault,\r\n    editForm_setRequired,\r\n    re_editorRowChangeFun,\r\n    formEditCell\r\n} from './re_gridCompEditForm';\r\n\r\ngridCompProto.initDefault = function(){\r\n    // 执行原有方法\r\n   oldInitDefault.apply(this,arguments);\r\n   editForm_initDefault.apply(this,arguments);\r\n};\r\ngridCompProto.setRequired = function(){\r\n    // 执行原有方法\r\n   oldSetRequired.apply(this,arguments);\r\n   editForm_setRequired.apply(this,arguments);\r\n};\r\ngridCompProto.editorRowChangeFun = re_editorRowChangeFun;\r\ngridCompProto.formEditCell = formEditCell;\r\n\r\n\r\n/*\r\n * fixed\r\n */\r\nvar oldColumnsVisibleFun= gridCompProto.columnsVisibleFun;\r\nimport{\r\n    re_initGridCompFixedColumn,\r\n    fixed_columnsVisibleFun,\r\n    re_createHeaderTableFixed,\r\n    re_createContentTableFixed,\r\n    re_createContentOneRowFixed,\r\n    re_widthChangeGridFunFixed\r\n} from './re_gridCompFixed';\r\n\r\ngridCompProto.initGridCompFixedColumn = re_initGridCompFixedColumn;\r\ngridCompProto.columnsVisibleFun = function(){\r\n    // 执行原有方法\r\n   oldColumnsVisibleFun.apply(this,arguments);\r\n   fixed_columnsVisibleFun.apply(this,arguments);\r\n};\r\ngridCompProto.createHeaderTableFixed = re_createHeaderTableFixed;\r\ngridCompProto.createContentTableFixed = re_createContentTableFixed;\r\ngridCompProto.createContentOneRowFixed = re_createContentOneRowFixed;\r\ngridCompProto.widthChangeGridFunFixed = re_widthChangeGridFunFixed;\r\n\r\n/*\r\n * formShow\r\n */\r\nimport{\r\n    createFromDivs,\r\n    createFromContent,\r\n    createFormContentRows,\r\n    widthChangeFormFun\r\n} from './re_gridCompFormShow'\r\n\r\ngridCompProto.createFromDivs = createFromDivs;\r\ngridCompProto.createFromContent = createFromContent;\r\ngridCompProto.createFormContentRows = createFormContentRows;\r\ngridCompProto.widthChangeFormFun = gridCompProto;\r\n\r\n/*\r\n * headerLevel\r\n */\r\nimport{\r\n    re_resetThVariableHeaderLevel,\r\n    re_initGridCompColumnHeaderLevelFun,\r\n    // initGridHiddenLevelColumn,\r\n    getLevelTitleByField\r\n} from './re_gridCompHeaderLevel'\r\n\r\ngridCompProto.resetThVariableHeaderLevel = re_resetThVariableHeaderLevel;\r\ngridCompProto.initGridCompColumnHeaderLevelFun = re_initGridCompColumnHeaderLevelFun;\r\n// gridCompProto.initGridHiddenLevelColumn = initGridHiddenLevelColumn;\r\ngridCompProto.getLevelTitleByField = getLevelTitleByField;\r\n\r\n/*\r\n * localStorage\r\n */\r\nimport{\r\n\tre_initGridCompColumnLoacl,\r\n\tgetLocalData,\r\n\tsaveLocalData,\r\n\tclearLocalData,\r\n\tsaveGridCompColumnArrToLocal,\r\n\tgetGridCompColumnArrFromLocal\r\n} from './re_gridCompLocalStorage';\r\n\r\ngridCompProto.initGridCompColumnLoacl = re_initGridCompColumnLoacl;\r\ngridCompProto.getLocalData = getLocalData;\r\ngridCompProto.saveLocalData = saveLocalData;\r\ngridCompProto.clearLocalData = clearLocalData;\r\ngridCompProto.saveGridCompColumnArrToLocal = saveGridCompColumnArrToLocal;\r\ngridCompProto.getGridCompColumnArrFromLocal = getGridCompColumnArrFromLocal;\r\n\r\n/*\r\n * overWidthColumn\r\n */\r\nimport{\r\n    re_initGridHiddenLevelColumn,\r\n    re_widthChangeGridFunOverWidthHidden\r\n} from './re_gridCompOverWidthHidden';\r\n\r\ngridCompProto.initGridHiddenLevelColumn = re_initGridHiddenLevelColumn;\r\ngridCompProto.widthChangeGridFunOverWidthHidden = re_widthChangeGridFunOverWidthHidden;\r\n\r\n\r\n/*\r\n * sort\r\n */\r\nvar oldInitEventFun_sort = gridCompProto.initEventFun;\r\nvar oldInitGridEventFun_sort= gridCompProto.initGridEventFun;\r\nimport{\r\n    sort_initEventFun,\r\n    sort_initGridEventFun,\r\n    canSortable,\r\n    re_deleteOneRowTree,\r\n    sortRowsByPrio,\r\n    basicSortRows\r\n} from './re_gridCompSort';\r\n\r\ngridCompProto.initEventFun = function(){\r\n    // 执行原有方法\r\n   oldInitEventFun_sort.apply(this,arguments);\r\n   sort_initEventFun.apply(this,arguments);\r\n};\r\ngridCompProto.initGridEventFun = function(){\r\n    // 执行原有方法\r\n    oldInitGridEventFun_sort.apply(this,arguments);\r\n    sort_initGridEventFun.apply(this,arguments);\r\n};\r\ngridCompProto.canSortable = canSortable;\r\ngridCompProto.deleteOneRowTree = re_deleteOneRowTree;\r\ngridCompProto.sortRowsByPrio = sortRowsByPrio;\r\n\r\n/*\r\n * sumRow\r\n */\r\nimport{\r\n    re_createContentRowsSumRow,\r\n    re_createContentSumRow,\r\n    createSumRow,\r\n    createSumRowForIE,\r\n    re_repairSumRow,\r\n    renderSumRow,\r\n    re_renderTypeSumRow\r\n} from './re_gridCompSumRow';\r\n\r\ngridCompProto.createContentRowsSumRow = re_createContentRowsSumRow;\r\ngridCompProto.createContentSumRow = re_createContentSumRow;\r\ngridCompProto.createSumRow = createSumRow;\r\ngridCompProto.createSumRowForIE = createSumRowForIE;\r\ngridCompProto.repairSumRow = re_repairSumRow;\r\ngridCompProto.renderSumRow = renderSumRow;\r\ngridCompProto.renderTypeSumRow = re_renderTypeSumRow;\r\n\r\n\r\n/*\r\n * swap\r\n */\r\nvar oldInitEventFun_swap= gridCompProto.initEventFun;\r\nvar oldInitGridEventFun_swap= gridCompProto.initGridEventFun;\r\nimport{\r\n    swap_initEventFun,\r\n    swap_initGridEventFun,\r\n    swapColumnStart,\r\n    swapColumnFun,\r\n    swapColumnEnd\r\n}from './re_gridCompSwap';\r\n\r\ngridCompProto.initEventFun = function(){\r\n    // 执行原有方法\r\n   oldInitEventFun_swap.apply(this,arguments);\r\n   swap_initEventFun.apply(this,arguments);\r\n};\r\ngridCompProto.initGridEventFun = function(){\r\n    // 执行原有方法\r\n    oldInitGridEventFun_swap.apply(this,arguments);\r\n    swap_initGridEventFun.apply(this,arguments);\r\n};\r\ngridCompProto.swapColumnStart = swapColumnStart;\r\ngridCompProto.swapColumnFun = swapColumnFun;\r\ngridCompProto.swapColumnEnd = swapColumnEnd;\r\n\r\n\r\n\r\n/*\r\n * tree\r\n */\r\nimport{\r\n    re_initOptionsTree,\r\n    re_clickFunTree,\r\n    re_addOneRowTree,\r\n    re_addOneRowTreeHasChildF,\r\n    re_updateValueAtTree,\r\n    getAllChildRow,\r\n    getChildRowIndex,\r\n    getAllChildRowIndex,\r\n    getAllChildRowFun,\r\n    getAllChildRowIndexFun,\r\n    expandNode,\r\n    expandNodeByIndex\r\n} from './re_gridCompTree';\r\n\r\ngridCompProto.initOptionsTree = re_initOptionsTree;\r\ngridCompProto.clickFunTree = re_clickFunTree;\r\ngridCompProto.addOneRowTree = re_addOneRowTree;\r\ngridCompProto.addOneRowTreeHasChildF = re_addOneRowTreeHasChildF;\r\ngridCompProto.updateValueAtTree = re_updateValueAtTree;\r\ngridCompProto.getAllChildRow = getAllChildRow;\r\ngridCompProto.getChildRowIndex = getChildRowIndex;\r\ngridCompProto.getAllChildRowIndex = getAllChildRowIndex;\r\ngridCompProto.getAllChildRowFun = getAllChildRowFun;\r\ngridCompProto.getAllChildRowIndexFun = getAllChildRowIndexFun;\r\ngridCompProto.expandNode = expandNode;\r\ngridCompProto.expandNodeByIndex = expandNodeByIndex;\r\n\r\n\r\n\r\nexport{gridComp}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gridComp.js\n **/","import {gridBrowser} from './gridBrowser';\r\n/*\r\n * 创建顶层div以及_top div层\r\n * 添加顶层div相关监听\r\n */\r\nconst createDivs = function() {\r\n\tvar oThis = this,styleStr = '',str = '';\r\n\tthis.ele.innerHTML = '';\r\n\tif(this.options.width){\r\n\t\tstr += 'width:' + this.options.width + ';';\r\n\t}else{\r\n\t\tstr += 'width:auto;';\r\n\t}\r\n\tif(this.options.height){\r\n\t\tstr += 'max-height:' + this.options.height + ';';\r\n\t}else{\r\n\t\tstr += 'height:auto;';\r\n\t}\r\n\tif(str != ''){\r\n\t\tstyleStr = 'style=\"' + str + '\"';\r\n\t}\r\n\tvar htmlStr = '<div id=\"' + this.options.id + '\" data-role=\"grid\" class=\"u-grid\" ' + styleStr + '>';\r\n\thtmlStr += '</div>';\r\n\tthis.ele.insertAdjacentHTML('afterBegin', htmlStr);\r\n\t// 创建屏幕div,用于拖动等操作\r\n\tvar htmlStr = '<div id=\"' + this.options.id + '_top\" class=\"u-grid-top\"></div>';\r\n\t// this.ele.insertAdjacentHTML('afterBegin', htmlStr);\r\n\tdocument.body.appendChild($(htmlStr)[0]);\r\n\tthis.initEventFun(); //创建完成之后顶层div添加监听\r\n\tthis.widthChangeFun(); // 根据整体宽度创建grid或form展示区域\r\n};\r\n/*\r\n * 创建div区域\r\n */\r\nconst repaintDivs = function(){\r\n\t// 后期可以考虑form展示\r\n\tthis.repaintGridDivs();\r\n\tthis.realtimeTableRows = null;\r\n};\r\n/*\r\n * 创建grid形式下div区域\r\n */\r\nconst createGridDivs = function() {\r\n\tif (this.createGridFlag) {\r\n\t\treturn;\r\n\t}\r\n\t// 为避免重复渲染，在开始清空里面内容\r\n\tif($('#' + this.options.id)[0])\r\n\t\t$('#' + this.options.id)[0].innerHTML = '';\r\n\tvar htmlStr = '<div id=\"' + this.options.id + '_grid\" class=\"u-grid-grid\">';\r\n\t\t// htmlStr += this.createColumnMenu();\r\n\t\thtmlStr += this.createHeader();\r\n\thtmlStr += this.createContent();\r\n\thtmlStr += '</div>';\r\n\tif($('#' + this.options.id)[0])\r\n\t\t$('#' + this.options.id).html(htmlStr);\r\n\t$(document.body).append(this.createColumnMenu());\r\n\tthis.initGridEventFun();\r\n\tthis.headerFirstClassFun();\r\n\tthis.showType = 'grid';\r\n\tthis.afterGridDivsCreate();\r\n\tthis.createGridFlag = true;\r\n\tthis.realtimeTableRows = null;\r\n};\r\n/*\r\n * 重画grid\r\n */\r\nconst repaintGridDivs = function() {\r\n\t$('#' + this.options.id + '_grid').remove(null, true);\r\n\tthis.showType = '';\r\n\tthis.wholeWidth = 0;\r\n\tthis.createGridFlag = false;\r\n\tthis.columnsVisibleFun();\r\n\tthis.widthChangeFun();\r\n\tthis.realtimeTableRows = null;\r\n};\r\n/*\r\n * 创建columnMenu区域\r\n */\r\nconst createColumnMenu = function() {\r\n    return '';\r\n};\r\n/*\r\n * 创建header区域\r\n */\r\nconst createHeader = function() {\r\n    var wrapStr = '',headerShowStr = '';\r\n    if(!this.options.showHeader)\r\n        headerShowStr = 'style=\"display:none;\"';\r\n    var htmlStr = '<div class=\"u-grid-header\" id=\"' + this.options.id + '_header\" ' + headerShowStr + '><div class=\"u-grid-header-wrap\" id=\"' + this.options.id + '_header_wrap\" data-role=\"resizable\" ' + wrapStr + '>';\r\n    if (this.options.columnMenu){\r\n        htmlStr += '<div class=\"u-grid-header-columnmenu uf uf-reorderoption\"></div>';\r\n    }\r\n    if (this.options.multiSelect || this.options.showNumCol) {\r\n        htmlStr += '<div id=\"' + this.options.id + '_header_left\" class=\"u-grid-header-left\" style=\"width:' + this.leftW + 'px;\">';\r\n        if (this.options.multiSelect) {\r\n            if(gridBrowser.isIE8){\r\n                //htmlStr += '<div class=\"u-grid-header-multi-select\" style=\"width:' + this.multiWidth + 'px;\"><input class=\"u-grid-multi-input\"   type=\"checkbox\" id=\"' + this.options.id + '_header_multi_input\"></div>'\r\n                htmlStr += '<div class=\"u-grid-header-multi-select\" style=\"width:' + this.multiWidth + 'px;\"><span class=\"u-grid-checkbox-outline\" id=\"' + this.options.id + '_header_multi_input\"><span class=\"u-grid-checkbox-tick-outline\"></span></span></div>'\r\n\r\n            }else{\r\n                //htmlStr += '<div class=\"u-grid-header-multi-select  checkbox check-success\" style=\"width:' + this.multiWidth + 'px;\"><input  class=\"u-grid-multi-input\"  type=\"checkbox\" id=\"' + this.options.id + '_header_multi_input\"><label for=\"' + this.options.id + '_header_multi_input\"></label></div>'\r\n                htmlStr += '<div class=\"u-grid-header-multi-select  checkbox check-success\" style=\"width:' + this.multiWidth + 'px;\"><span class=\"u-grid-checkbox-outline\" id=\"' + this.options.id + '_header_multi_input\"><span class=\"u-grid-checkbox-tick-outline\"></span></span></div>'\r\n            }\r\n        }\r\n        if (this.options.showNumCol) {\r\n            htmlStr += '<div class=\"u-grid-header-num\" style=\"width:' + this.numWidth + 'px;\"></div>';\r\n        }\r\n        htmlStr += '</div>';\r\n    }\r\n    htmlStr += this.createHeaderTableFixed();\r\n    htmlStr += this.createHeaderTable();\r\n    htmlStr += '</div>';\r\n    htmlStr += this.createHeaderDrag();;\r\n    htmlStr += '</div>';\r\n    return htmlStr;\r\n};\r\n/*\r\n * 创建header区域table\r\n */\r\nconst createHeaderTable = function(createFlag){\r\n    var leftW,positionStr,idStr;\r\n    if(createFlag == 'fixed'){\r\n        leftW = parseInt(this.leftW);\r\n        positionStr = 'absolute;width:'+this.fixedWidth+'px;z-index:11;background:#F9F9F9;';\r\n        idStr = 'fixed_';\r\n    }else{\r\n        leftW = parseInt(this.leftW) + parseInt(this.fixedWidth);\r\n        positionStr = 'relative;';\r\n        idStr = '';\r\n        if(this.contentMinWidth > 0){\r\n            positionStr += 'width:'+this.contentMinWidth+'px;';\r\n        }\r\n    }\r\n    var htmlStr = '<table role=\"grid\" id=\"' + this.options.id + '_header_'+idStr+'table\" style=\"position:'+ positionStr+';left:' + leftW + 'px\">';\r\n    htmlStr += this.createColgroup(createFlag);\r\n    htmlStr += '<thead role=\"rowgroup\" id=\"' + this.options.id + '_header_'+idStr+'thead\">';\r\n    htmlStr += this.createThead(createFlag);\r\n    htmlStr += '</thead></table>';\r\n    return htmlStr;\r\n};\r\nconst createHeaderTableFixed = function(){\r\n    return '';\r\n};\r\nconst createHeaderDrag = function(){\r\n    return '';\r\n};\r\n/*\r\n * 创建colgroup\r\n */\r\nconst createColgroup = function(createFlag) {\r\n    var oThis = this,htmlStr = '<colgroup>',gridCompColumnArr;\r\n    if(createFlag == 'fixed'){\r\n        gridCompColumnArr = this.gridCompColumnFixedArr;\r\n    }else{\r\n        gridCompColumnArr = this.gridCompColumnArr;\r\n    }\r\n    $.each(gridCompColumnArr, function() {\r\n        if(this.options.visible){\r\n            htmlStr += '<col';\r\n            htmlStr += ' style=\"width:' + oThis.formatWidth(this.options.width) + '\"';\r\n            htmlStr += '>';\r\n        }\r\n    });\r\n    htmlStr += '</colgroup>';\r\n    return htmlStr;\r\n};\r\n/*\r\n * 创建thead区域\r\n */\r\nconst createThead = function(createFlag) {\r\n    var oThis = this,visibleIndex = 0,gridCompColumnArr,trStyle = '';\r\n    if(this.options.maxHeaderLevel >1){\r\n        trStyle = 'style=\"height:' + this.headerHeight + 'px;\"';\r\n    }\r\n    var htmlStr = '<tr role=\"row\" ' + trStyle + '>';\r\n    if(createFlag == 'fixed'){\r\n        gridCompColumnArr = this.gridCompColumnFixedArr;\r\n    }else{\r\n        gridCompColumnArr = this.gridCompColumnArr;\r\n    }\r\n    $.each(gridCompColumnArr, function(i) {\r\n        var vi = visibleIndex,displayStyle = '';\r\n        if(this.options.visible == false){\r\n            vi = -1;\r\n            displayStyle = 'style=\"display:none;\"';\r\n        }else{\r\n            visibleIndex++;\r\n        }\r\n        // 低版本浏览器不支持th position为relative，因此加入空div\r\n        htmlStr += '<th role=\"columnheader\" data-filed=\"' + this.options.field + '\" rowspan=\"1\" class=\"u-grid-header-th\" ' + displayStyle + 'field=\"' + this.options.field + '\" index=\"' + i + '\" visibleIndex=\"' + vi + '\"><div style=\"position:relative;\">';\r\n        var colorStype = '';\r\n        if(this.options.headerColor){\r\n            colorStype = 'style=\"color:' + this.options.headerColor + '\"';\r\n        }\r\n        htmlStr += '<div class=\"u-grid-header-link\" field=\"' + this.options.field + '\" title=\"' + this.options.title + '\" ' + colorStype + '>' + this.options.title + '</div>';\r\n        /*if(oThis.options.columnMenu && createFlag != 'fixed'){\r\n            // 创建右侧按钮图标\r\n            htmlStr += '<div class=\"u-grid-header-columnmenu uf uf-reorderoption \" field=\"' + this.options.field + '\" style=\"display:none;\"></div>';\r\n        }*/\r\n        htmlStr += '</div></th>';\r\n    });\r\n\r\n    htmlStr += '</tr>';\r\n    return htmlStr;\r\n};\r\n/*\r\n * 创建内容区域\r\n */\r\nconst createContent = function() {\r\n    var h = '',displayStr = '',bottonStr='';\r\n    if(this.countContentHeight){\r\n        var wh = $('#' + this.options.id)[0].offsetHeight;\r\n        this.wholeHeight = wh;\r\n        if (wh > 0) {\r\n            this.contentHeight = parseInt(wh) - this.exceptContentHeight - 1 > 0?parseInt(wh) - this.exceptContentHeight - 1:0;\r\n            if(this.contentHeight > 0){\r\n                h = 'style=\"height:' + this.contentHeight + 'px;\"';\r\n            }\r\n        }\r\n     }\r\n    var htmlStr = '<div id=\"' + this.options.id + '_content\" class=\"u-grid-content\" ' + h + '>';\r\n    if (this.options.showNumCol || this.options.multiSelect) {\r\n        htmlStr += this.createContentLeft();\r\n        if(!(this.contentWidth > this.contentMinWidth)){\r\n            displayStr = 'display:none;';\r\n            bottonStr = 'bottom:0px;'\r\n        }\r\n        htmlStr += this.createContentSumRow(bottonStr);\r\n        if(u.isIOS){\r\n            displayStr += 'width:0px;';\r\n        }\r\n        htmlStr += '<div class=\"u-grid-content-left-bottom\" id=\"' + this.options.id + '_content_left_bottom\" style=\"width:' + (this.leftW + this.fixedWidth) + 'px;'+displayStr+'\">';\r\n        htmlStr += '</div>';\r\n    }\r\n    htmlStr += this.createContentTableFixed();\r\n    htmlStr += this.createContentTable();\r\n    htmlStr += '</div>';\r\n    return htmlStr;\r\n};\r\nconst createContentSumRow = function(){\r\n    return '';\r\n};\r\n/*\r\n * 创建内容区左侧区域\r\n */\r\nconst createContentLeft = function() {\r\n    var oThis = this,htmlStr = \"\",left = 0,hStr;\r\n    // 高度可伸缩，暂时去掉内部的高度设置\r\n    // if(this.countContentHeight && parseInt(this.contentHeight) > 0){\r\n    // \thStr = 'max-height:' + this.contentHeight + 'px;overflow:hidden;';\r\n    // }else{\r\n    // \thStr = '';\r\n    // }\r\n    if(this.options.multiSelect){\r\n        htmlStr += '<div class=\"u-grid-content-left\" id=\"' + this.options.id + '_content_multiSelect\" style=\"width:' + this.multiSelectWidth + 'px;' + hStr + '\">';\r\n        // 遍历生成所有行\r\n        if (this.dataSourceObj.rows) {\r\n            $.each(this.dataSourceObj.rows, function(i) {\r\n                htmlStr += oThis.createContentLeftMultiSelectRow(this);\r\n            });\r\n        }\r\n        htmlStr += '</div>';\r\n        left += this.multiSelectWidth;\r\n    }\r\n    if (this.options.showNumCol) {\r\n        htmlStr += '<div class=\"u-grid-content-left\" id=\"' + this.options.id + '_content_numCol\" style=\"width:' + this.numWidth + 'px;left:' + left + 'px;' + hStr + '\">';\r\n        // 遍历生成所有行\r\n        if (this.dataSourceObj.rows) {\r\n            $.each(this.dataSourceObj.rows, function(i, row) {\r\n                htmlStr += oThis.createContentLeftNumColRow(i, row.value);\r\n            });\r\n        }\r\n        htmlStr += '</div>';\r\n    }\r\n    return htmlStr;\r\n};\r\n/*\r\n * 创建内容区左侧区域复选区（一行）\r\n */\r\nconst createContentLeftMultiSelectRow = function(row,displayFlag){\r\n    var displayStr = '';\r\n    if(!this.options.autoExpand && row.level > 0 && displayFlag != 'block'){\r\n        displayStr = 'display:none;'\r\n    }\r\n    var tmpcheck = row.value[\"$_#_@_id\"]\r\n    if(!tmpcheck) {\r\n        tmpcheck = setTimeout(function(){});\r\n    }\r\n    if(gridBrowser.isIE8){\r\n        //var\thtmlStr = '<div style=\"width:' + this.multiSelectWidth + 'px;' + displayStr + '\" class=\"u-grid-content-multiSelect \" ><input class=\"u-grid-multi-input\" id=\"checkbox'+tmpcheck+'\" type=\"checkbox\" value=\"1\" ></div>'\r\n        var\thtmlStr = '<div style=\"width:' + this.multiSelectWidth + 'px;' + displayStr + '\" class=\"u-grid-content-multiSelect \" ><span class=\"u-grid-checkbox-outline\" id=\"checkbox'+tmpcheck+'\" value=\"1\"><span class=\"u-grid-checkbox-tick-outline\"></span></span></div>'\r\n    }else{\r\n        //var htmlStr = '<div style=\"width:' + this.multiSelectWidth + 'px;' + displayStr + '\" class=\"u-grid-content-multiSelect checkbox check-success\" ><input class=\"u-grid-multi-input\" id=\"checkbox'+tmpcheck+'\" type=\"checkbox\" value=\"1\" ><label for=\"checkbox'+tmpcheck+'\"></label></div>'\r\n        var htmlStr = '<div style=\"width:' + this.multiSelectWidth + 'px;' + displayStr + '\" class=\"u-grid-content-multiSelect checkbox check-success\" ><span class=\"u-grid-checkbox-outline\" id=\"checkbox'+tmpcheck+'\" value=\"1\"><span class=\"u-grid-checkbox-tick-outline\"></span></span></div>'\r\n    }\r\n    return htmlStr;\r\n};\r\n/*\r\n * 创建内容区左侧区域数字列（一行）\r\n */\r\nconst createContentLeftNumColRow = function(index){\r\n    var htmlStr = '<div style=\"width:' + this.numWidth + 'px;\" class=\"u-grid-content-num\">' + (index+1) + '</div>';\r\n    return htmlStr;\r\n};\r\n/*\r\n * 创建内容区table\r\n */\r\nconst createContentTable = function(createFlag){\r\n    var leftW,idStr,styleStr,hStr,cssStr,tableStyleStr;\r\n    if(this.countContentHeight && parseInt(this.contentHeight) > 0){\r\n        hStr = 'height:' + this.contentHeight + 'px;';\r\n     }else{\r\n        hStr = \"\";\r\n     }\r\n    if(createFlag == 'fixed'){\r\n        leftW = parseInt(this.leftW);\r\n        idStr = 'fixed_';\r\n        cssStr = 'fixed-';\r\n        styleStr = 'style=\"position:absolute;width:'+this.fixedWidth+'px;left:' + leftW + 'px;' +hStr+'\"';\r\n        tableStyleStr = 'style=\"width:'+this.fixedWidth+'px;\"';\r\n    }else{\r\n        leftW = parseInt(this.leftW) + parseInt(this.fixedWidth,0);\r\n        idStr = '';\r\n        cssStr = '';\r\n        styleStr = 'style=\"position:relative;left:' + leftW + 'px;' +hStr;\r\n        if(this.contentMinWidth > 0){\r\n            styleStr += 'width:' + this.contentMinWidth + 'px;';\r\n        }\r\n        styleStr += '\"';\r\n        tableStyleStr = '';\r\n        if(this.contentMinWidth > 0){\r\n            if(this.contentWidth > 0){\r\n                tableStyleStr = 'style=\"min-width:' + this.contentMinWidth + 'px;width:' + this.contentWidth + 'px;\"';\r\n            }else{\r\n                tableStyleStr = 'style=\"min-width:' + this.contentMinWidth + 'px;\"';\r\n            }\r\n        }\r\n    }\r\n    var  htmlStr = '<div id=\"' + this.options.id + '_content_'+idStr+'div\" class=\"u-grid-content-'+cssStr+'div\" '+styleStr+'>';\r\n    htmlStr += '<div style=\"height:30px;position:absolute;top:-30px;width:100%;\"></div><table role=\"grid\" id=\"' + this.options.id + '_content_'+idStr+'table\" ' + tableStyleStr+'>';\r\n    htmlStr += this.createColgroup(createFlag);\r\n    htmlStr += '<thead role=\"rowgroup\" id=\"' + this.options.id + '_content_'+idStr+'thead\" style=\"display:none\">';\r\n    htmlStr += this.createThead(createFlag);\r\n    htmlStr += '</thead>';\r\n    htmlStr += this.createContentRows(createFlag);\r\n    htmlStr += '</table>';\r\n    if(createFlag != 'fixed'){\r\n        htmlStr += this.createNoRowsDiv();\r\n    }\r\n    htmlStr += '</div>';\r\n    return htmlStr;\r\n};\r\nconst createContentTableFixed = function(){\r\n    return '';\r\n};\r\n/*\r\n * 创建无数据区域\r\n */\r\nconst createNoRowsDiv = function(){\r\n    var styleStr = '',styleStr1 = '';\r\n    if(this.contentMinWidth > 0){\r\n        styleStr += 'style=\"width:' + this.contentMinWidth + 'px;\"';\r\n    }\r\n    if(this.contentWidth > 0){\r\n        styleStr1 += 'style=\"width:' + this.contentWidth + 'px;\"';\r\n    }\r\n    var htmlStr = '<div class=\"u-grid-noRowsDiv\"' + styleStr1 + ' id=\"' + this.options.id + '_noRows\"></div>';\r\n    htmlStr += '<div class=\"u-grid-noRowsShowDiv\"' + styleStr + ' id=\"' + this.options.id + '_noRowsShow\">' + this.transMap.ml_no_rows + '</div>';\r\n    return htmlStr;\r\n};\r\n/*\r\n * 创建内容区域所有行\r\n */\r\nconst createContentRows = function(createFlag) {\r\n    var oThis = this,htmlStr = \"\",idStr;\r\n    if(createFlag == 'fixed'){\r\n        idStr = 'fixed_';\r\n    }else{\r\n        idStr = '';\r\n    }\r\n    // 遍历生成所有行\r\n    if (this.dataSourceObj.rows) {\r\n        htmlStr += '<tbody role=\"rowgroup\" id=\"' + this.options.id + '_content_'+idStr+'tbody\">';\r\n        $.each(this.dataSourceObj.rows, function(i) {\r\n            htmlStr += oThis.createContentOneRow(this,createFlag);\r\n        });\r\n        htmlStr += this.createContentRowsSumRow();\r\n        htmlStr += '</tbody>';\r\n    }\r\n    return htmlStr;\r\n};\r\nconst createContentRowsSumRow = function(){\r\n    return '';\r\n};\r\n/*\r\n * 创建内容区域数据行\r\n */\r\nconst createContentOneRow = function(row,createFlag,displayFlag) {\r\n    var styleStr = '';\r\n    if(!this.options.autoExpand && row.level > 0 && displayFlag != 'block'){\r\n        styleStr = 'style=\"display:none\"';\r\n    }\r\n    var htmlStr = '<tr role=\"row\" ' + styleStr + '>';\r\n    htmlStr += this.createContentOneRowTd(row,createFlag);\r\n    htmlStr += '</tr>';\r\n    return htmlStr;\r\n};\r\n/*\r\n * 创建内容区域数据行，针对IE\r\n */\r\nconst createContentOneRowForIE = function(table,index,rowObj,createFlag,displayFlag){\r\n    var row = table.insertRow(index + 1);\r\n    row.setAttribute(\"role\",\"row\");\r\n    if(!this.options.autoExpand && row.level > 0 && displayFlag != 'block'){\r\n        row.style.display = 'none';\r\n    }\r\n    this.createContentOneRowTdForIE(row,rowObj,createFlag);\r\n};\r\n\r\n/*\r\n * 数据更新重画当前行\r\n */\r\nconst repaintRow = function(rowIndex){\r\n    var tr = $('#' + this.options.id + '_content_tbody').find('tr[role=\"row\"]')[ rowIndex],\r\n        fixedtr = $('#' + this.options.id + '_content_fixed_tbody').find('tr[role=\"row\"]')[rowIndex],\r\n        row = this.dataSourceObj.rows[rowIndex],$tr = $(tr),\r\n        index = this.getTrIndex($tr);\r\n    if(gridBrowser.isIE8 || gridBrowser.isIE9){\r\n        var table = $('#' + this.options.id + '_content_table')[0],\r\n            fixedtable = $('#' + this.options.id + '_content_fixed_table')[0];\r\n        var className = tr.className;\r\n        var fixclassName = fixedtr.className;\r\n            table.deleteRow(rowIndex + 1);\r\n            fixedtable.deleteRow(rowIndex + 1);\r\n        var tr = table.insertRow(rowIndex + 1 );\r\n        u.addClass(tr,className)\r\n        var fixedtr = fixedtable.insertRow(rowIndex + 1);\r\n        u.addClass(fixedtr,fixclassName)\r\n        this.createContentOneRowTdForIE(tr,row)\r\n        this.createContentOneRowTdForIE(fixedtr,row,'fixed')\r\n    }else{\r\n        tr.innerHTML = this.createContentOneRowTd(row);\r\n        if(fixedtr)\r\n            fixedtr.innerHTML = this.createContentOneRowTd(row,'fixed');\r\n    }\r\n    var obj = {};\r\n    obj.begin = index;\r\n    obj.length = 1;\r\n    this.renderTypeFun(obj);\r\n};\r\n/*\r\n * 创建行td对应的html\r\n */\r\nconst createContentOneRowTd = function(row,createFlag){\r\n    var oThis = this,htmlStr = '',gridCompColumnArr,value = row.value;\r\n    if(createFlag == 'fixed'){\r\n        gridCompColumnArr = this.gridCompColumnFixedArr;\r\n    }else{\r\n        gridCompColumnArr = this.gridCompColumnArr;\r\n    }\r\n    $.each(gridCompColumnArr, function() {\r\n        var f = this.options.field,v = $(value).attr(f);\r\n        v = oThis.getString(v,'');\r\n        if($.type(v) == 'object') {\r\n            v = v.showValue\r\n        }\r\n        var renderType = this.options.renderType;\r\n        var treeStyle = '';\r\n        var spanStr ='';\r\n        var iconStr = '';\r\n        var vStr= '';\r\n        var tdStyle = '';\r\n        if(oThis.options.showTree && this.firstColumn){\r\n            var l = parseInt(oThis.treeLeft)*parseInt(row.level);\r\n            treeStyle = 'style=\"position:relative;';\r\n            if(row.hasChild){\r\n                if(oThis.options.autoExpand){\r\n                    spanStr = '<span class=\" uf uf-minusbutton u-grid-content-tree-span\"></span>';\r\n                }else{\r\n                    spanStr = '<span class=\" uf uf-addsquarebutton2 u-grid-content-tree-span\"></span>';\r\n                }\r\n            }else{\r\n                l += 16;\r\n            }\r\n            treeStyle += 'left:'+ l +'px;\"';\r\n        }\r\n        if(!this.options.visible){\r\n            tdStyle = 'style=\"display:none;\"';\r\n        }\r\n        if(this.options.icon){\r\n            iconStr = '<span class=\"' + this.options.icon + '\"></span>';\r\n        }\r\n        // title=\"' + v + '\" 创建td的时候不在设置title，在renderType中设置,处理现实xml的情况\r\n        htmlStr += '<td role=\"rowcell\"  '+ tdStyle +' title=\"' + v.replace(/\\</g,'\\<').replace(/\\>/g,'\\>') + '\"><div class=\"u-grid-content-td-div\" ' + treeStyle+'>' + spanStr + iconStr + '<span>' + v.replace(/\\</g,'&lt;').replace(/\\>/g,'&gt;') + '</span></div></td>';\r\n    });\r\n    return htmlStr;\r\n};\r\n/*\r\n * 创建行td,针对IE\r\n */\r\nconst createContentOneRowTdForIE = function(row,rowObj,createFlag){\r\n    var oThis = this,gridCompColumnArr,value = rowObj.value;\r\n    if(createFlag == 'fixed'){\r\n        gridCompColumnArr = this.gridCompColumnFixedArr;\r\n    }else{\r\n        gridCompColumnArr = this.gridCompColumnArr;\r\n    }\r\n    $.each(gridCompColumnArr, function() {\r\n        var f = this.options.field,v = $(value).attr(f),v = oThis.getString(v,'');\r\n        if($.type(v) == 'object') {\r\n            v = v.showValue\r\n        }\r\n        var renderType = this.options.renderType,treeStyle = '',spanStr ='',iconStr = '',\r\n            vStr= '',htmlStr = '',newCell= row.insertCell();\r\n        newCell.setAttribute(\"role\",\"rowcell\");\r\n        newCell.title = v.replace(/\\</g,'\\<').replace(/\\>/g,'\\>');\r\n        if(oThis.options.showTree && this.firstColumn){\r\n            var l = parseInt(oThis.treeLeft)*parseInt(rowObj.level);\r\n            treeStyle = 'style=\"position:relative;';\r\n            if(rowObj.hasChild){\r\n                if(oThis.options.autoExpand){\r\n                    spanStr = '<span class=\" uf uf-minusbutton u-grid-content-tree-span\"></span>';\r\n                }else{\r\n                    spanStr = '<span class=\" uf uf-addsquarebutton2 u-grid-content-tree-span\"></span>';\r\n                }\r\n            }else{\r\n                l += 18;\r\n            }\r\n            treeStyle += 'left:'+ l +'px;\"';\r\n        }\r\n        if(!this.options.visible){\r\n            newCell.style.display=\"none\";\r\n        }\r\n        if(this.options.icon){\r\n            iconStr = '<span class=\"' + this.options.icon + '\"></span>';\r\n        }\r\n        htmlStr += '<div class=\"u-grid-content-td-div\" ' + treeStyle+'>' + spanStr + iconStr + '<span>' + v.replace(/\\</g,'&lt;').replace(/\\>/g,'&gt;') + '</span></div>';\r\n        newCell.insertAdjacentHTML('afterBegin',htmlStr);\r\n    });\r\n};\r\n/*\r\n * 重画内容区域\r\n */\r\nconst repairContent = function(){\r\n    var $pDiv = $('#' + this.options.id + '_content').parent();\r\n    $('#' + this.options.id + '_content').remove(null, true);\r\n    if($pDiv[0]){\r\n        var htmlStr = this.createContent();\r\n        $pDiv[0].insertAdjacentHTML('beforeEnd', htmlStr);\r\n        this.renderTypeFun();\r\n        this.initContentDivEventFun();\r\n        if($('#' + this.options.id + '_content_div')[0]){\r\n            $('#' + this.options.id + '_content_div')[0].scrollLeft = this.scrollLeft;\r\n        }\r\n        $('#' +this.options.id + '_content_edit_menu').css('display','none');\r\n    }\r\n    this.realtimeTableRows = null;\r\n};\r\n\r\nexport{\r\n    createDivs,\r\n    repaintDivs,\r\n    createGridDivs,\r\n    repaintGridDivs,\r\n    createColumnMenu,\r\n    createHeader,\r\n    createHeaderTable,\r\n    createHeaderTableFixed,\r\n    createHeaderDrag,\r\n    createColgroup,\r\n    createThead,\r\n    createContent,\r\n    createContentSumRow,\r\n    createContentLeft,\r\n    createContentLeftMultiSelectRow,\r\n    createContentLeftNumColRow,\r\n    createContentTable,\r\n    createContentTableFixed,\r\n    createNoRowsDiv,\r\n    createContentRows,\r\n    createContentRowsSumRow,\r\n    createContentOneRow,\r\n    createContentOneRowForIE,\r\n    repaintRow,\r\n    createContentOneRowTd,\r\n    createContentOneRowTdForIE,\r\n    repairContent\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gridCompCreate.js\n **/","var gridBrowser = {},userAgent = navigator.userAgent,ua = userAgent.toLowerCase(),s;\r\nif (s=ua.match(/msie ([\\d.]+)/)) {\r\n    gridBrowser.isIE = true;\r\n}\r\nif (gridBrowser.isIE) {\r\n    var mode = document.documentMode;\r\n    if(mode == null){\r\n    }else{\r\n        if (mode == 8) {\r\n            gridBrowser.isIE8 = true;\r\n        }\r\n        else if (mode == 9) {\r\n            gridBrowser.isIE9 = true;\r\n        }\r\n    }\r\n}\r\nexport{gridBrowser}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gridBrowser.js\n **/","const trHoverFun = function(index){\r\n    var oThis = this;\r\n    $('#' + oThis.options.id + '_content_tbody').find('tr').removeClass('u-grid-move-bg');\r\n    $('#' + oThis.options.id + '_content_fixed_tbody').find('tr').removeClass('u-grid-move-bg');\r\n    if(oThis.options.multiSelect)\r\n        $('#' + oThis.options.id + '_content_multiSelect').find('div').removeClass('u-grid-move-bg');\r\n    if(oThis.options.showNumCol)\r\n        $('#' + oThis.options.id + '_content_numCol').find('div').removeClass('u-grid-move-bg');\r\n    if(index > -1){\r\n        var $tr = $('#' + oThis.options.id + '_content_tbody').find('tr').eq(index);\r\n        if($tr[0].id && $tr[0].id == oThis.options.id + '_edit_tr'){\r\n            return;\r\n        }\r\n        $('#' + oThis.options.id + '_content_tbody').find('tr').eq(index).addClass('u-grid-move-bg');\r\n        $('#' + oThis.options.id + '_content_fixed_tbody').find('tr').eq(index).addClass('u-grid-move-bg');\r\n        if(oThis.options.multiSelect)\r\n            $('#' + oThis.options.id + '_content_multiSelect').find('div').eq(index).addClass('u-grid-move-bg');\r\n        if(oThis.options.showNumCol)\r\n            $('#' + oThis.options.id + '_content_numCol').find('div').eq(index).addClass('u-grid-move-bg');\r\n        if(typeof oThis.options.onRowHover == 'function' && !$tr.is('.u-grid-content-sum-row')){\r\n            var obj = {};\r\n            obj.gridObj = oThis;\r\n            obj.rowObj = oThis.dataSourceObj.rows[index];\r\n            obj.rowIndex = index;\r\n            oThis.options.onRowHover(obj);\r\n        }\r\n    }\r\n};\r\n/*\r\n * 定时器处理\r\n */\r\nconst setIntervalFun = function(e) {\r\n    this.widthChangeFun();\r\n    this.heightChangeFun();\r\n    this.editorRowChangeFun();\r\n};\r\nconst editorRowChangeFun = function(){\r\n};\r\n/*\r\n * grid区域创建完成之后处理\r\n * 1、数据列显示处理\r\n * 2、取行高\r\n */\r\nconst afterGridDivsCreate = function(){\r\n    this.columnsVisibleFun();\r\n    this.resetThVariable();\r\n    this.countRowHeight();\r\n    this.noRowsShowFun();\r\n    this.renderTypeFun();\r\n    this.resetScrollLeft();\r\n    this.hideEditMenu();\r\n    if(typeof this.options.afterCreate == 'function'){\r\n        this.options.afterCreate.call(this);\r\n    }\r\n};\r\n/*\r\n * 取行高\r\n */\r\nconst countRowHeight = function(){\r\n    if($('#' + this.options.id + '_content_tbody tr')[0]){\r\n        this.rowHeight = $('#' + this.options.id + '_content_tbody tr')[0].offsetHeight;\r\n    }\r\n};\r\n/*\r\n * 处理是否显示无数据行\r\n */\r\nconst noRowsShowFun = function(){\r\n    if(this.dataSourceObj.rows && this.dataSourceObj.rows.length > 0){\r\n        $('#' + this.options.id + '_noRowsShow').css('display','none');\r\n        $('#' + this.options.id + '_noRows').css('display','none');\r\n    }else{\r\n        $('#' + this.options.id + '_noRowsShow').css('display','block');\r\n        $('#' + this.options.id + '_noRows').css('display','block');\r\n    }\r\n};\r\n\r\n/*\r\n * grid区域重画完成之后处理，已经执行过afterGridDivsCreate\r\n * 1、设置横向滚动条\r\n * 2、隐藏编辑按钮\r\n */\r\nconst afterRepaintGrid = function(){\r\n    this.resetScrollLeft();\r\n    this.hideEditMenu();\r\n};\r\n/*\r\n * 设置横向滚动条\r\n */\r\nconst resetScrollLeft = function(){\r\n    if($('#' + this.options.id + '_content_div')[0]){\r\n        try{\r\n            $('#' + this.options.id + '_content_div')[0].scrollLeft = this.scrollLeft;\r\n        }catch(e){\r\n\r\n        }\r\n\r\n    }\r\n};\r\n/*\r\n * 隐藏编辑按钮\r\n */\r\nconst hideEditMenu = function(){\r\n};\r\n\r\nexport{\r\n    trHoverFun,\r\n    setIntervalFun,\r\n    editorRowChangeFun,\r\n    afterGridDivsCreate,\r\n    countRowHeight,\r\n    noRowsShowFun,\r\n    afterRepaintGrid,\r\n    resetScrollLeft,\r\n    hideEditMenu\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gridCompCreateCal.js\n **/","/*\r\n * 获取某列对应属性\r\n */\r\nconst getColumnAttr = function(attr, field) {\r\n    for (var i = 0; i < this.gridCompColumnArr.length; i++) {\r\n        if (this.gridCompColumnArr[i].options.field == field) {\r\n            return $(this.gridCompColumnArr[i].options).attr(attr);\r\n        }\r\n    }\r\n    return \"\";\r\n};\r\n/*\r\n * 根据field获取gridcompColumn对象\r\n */\r\nconst getColumnByField = function(field){\r\n    for (var i = 0; i < this.gridCompColumnArr.length; i++) {\r\n        if (this.gridCompColumnArr[i].options.field == field) {\r\n            return this.gridCompColumnArr[i];\r\n        }\r\n    }\r\n    return null;\r\n};\r\n/*\r\n * 获取column属于第几列\r\n */\r\nconst getIndexOfColumn = function(column){\r\n    var index = -1;\r\n    for(var i=0;i < this.gridCompColumnArr.length;i++){\r\n        if(this.gridCompColumnArr[i] == column){\r\n            index = i;\r\n            break;\r\n        }\r\n    }\r\n    return index;\r\n};\r\n/*\r\n * 获取column属于当前显示第几列\r\n */\r\nconst getVisibleIndexOfColumn = function(column){\r\n    var index = -1;\r\n    var j = 0;\r\n    for(var i=0;i < this.gridCompColumnArr.length;i++){\r\n        if(this.gridCompColumnArr[i] == column){\r\n            if(!($('#' + this.options.id + '_header').find('th').eq(i).css('display') == 'none')){\r\n                index = j;\r\n            }\r\n            break;\r\n        }\r\n        if(!($('#' + this.options.id + '_header').find('th').eq(i).css('display') == 'none')){\r\n            j++;\r\n        }\r\n    }\r\n    return index;\r\n};\r\n/*\r\n * 获取column后面第一个显示列所在第几列\r\n */\r\nconst getNextVisibleInidexOfColumn = function(column){\r\n    var index = -1,flag = false,j = 0;\r\n    for(var i=0;i < this.gridCompColumnArr.length;i++){\r\n        if(this.gridCompColumnArr[i] == column){\r\n            flag = true;\r\n            continue;\r\n        }\r\n        if(flag == true && !($('#' + this.options.id + '_header').find('th').eq(i).css('display') == 'none')){\r\n            index = j;\r\n            break;\r\n        }\r\n        if(!($('#' + this.options.id + '_header').find('th').eq(i).css('display') == 'none')){\r\n\r\n            j++;\r\n        }\r\n    }\r\n    return index;\r\n};\r\n\r\n/*\r\n * 获取选中行\r\n */\r\nconst getSelectRows = function(){\r\n    return this.selectRows;\r\n};\r\n/*\r\n * 获取选中行对应行号\r\n */\r\nconst getSelectRowsIndex = function(){\r\n    return this.selectRowsIndex;\r\n};\r\n\r\n/*\r\n * 获取focus行\r\n */\r\nconst getFocusRow = function(){\r\n    return this.focusRow;\r\n};\r\n/*\r\n * 获取focus行对应行号\r\n */\r\nconst getFocusRowIndex = function(){\r\n    return this.focusRowIndex;\r\n};\r\n/*\r\n * 获取所有行\r\n */\r\nconst getAllRows = function(){\r\n    var oThis = this;\r\n    this.allRows = new Array();\r\n    if(this.dataSourceObj.rows){\r\n        $.each(this.dataSourceObj.rows,function(){\r\n            oThis.allRows.push(this.value);\r\n        });\r\n    }\r\n    return this.allRows;\r\n};\r\n/*\r\n * 根据行号获取row\r\n */\r\nconst getRowByIndex = function(index){\r\n    return this.dataSourceObj.rows[index];\r\n};\r\n/*\r\n * 根据某个字段值获取rowIndex\r\n */\r\nconst getRowIndexByValue = function(field,value){\r\n    var index = -1;\r\n    $.each(this.dataSourceObj.rows,function(i){\r\n        var v = $(this.value).attr(field);\r\n        if(v == value){\r\n            index = i;\r\n        }\r\n    })\r\n    return index;\r\n};\r\n\r\nexport{\r\n    getColumnAttr,\r\n    getColumnByField,\r\n    getIndexOfColumn,\r\n    getVisibleIndexOfColumn,\r\n    getNextVisibleInidexOfColumn,\r\n    getSelectRows,\r\n    getSelectRowsIndex,\r\n    getFocusRow,\r\n    getFocusRowIndex,\r\n    getAllRows,\r\n    getRowByIndex,\r\n    getRowIndexByValue\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gridCompGet.js\n **/","import {gridBrowser} from './gridBrowser';\r\n\r\n import {dataSource}  from './dataSource';\r\n import {column as gridCompColumn}  from './column';\r\n /*\r\n * 处理参数\r\n */\r\nconst init = function(ele, options){\r\n    this.dataSource = dataSource;\r\n    this.gridCompColumn = gridCompColumn;\r\n    this.ele = ele[0];\r\n    this.$ele = ele;\r\n    this.initDefault();\r\n    this.options = $.extend({}, this.defaults, options);\r\n    this.getBooleanOptions();\r\n    this.transDefault = {\r\n        ml_show_column:'显示/隐藏列',\r\n        ml_clear_set:'清除设置',\r\n        ml_no_rows:'无数据',\r\n        ml_sum:'合计:',\r\n        ml_close:'关闭'\r\n    }\r\n    this.transMap = $.extend({},this.transDefault,options.transMap);\r\n    this.gridCompColumnFixedArr = new Array();\r\n    this.gridCompColumnArr = new Array(); // 存储设置默认值之后的columns对象\r\n    // this.headerHeight = 45; // header区域高度\r\n    this.countContentHeight = true;// 是否计算内容区的高度（是否为流式）\r\n    this.minColumnWidth = 80; // 最小列宽\r\n    this.scrollBarHeight = 16; // 滚动条高度\r\n    this.numWidth = 40; // 数字列宽度\r\n    this.multiSelectWidth = 40; // 复选框列宽度\r\n    this.multiWidth = 40; // 复选框宽度\r\n\r\n    this.basicGridCompColumnArr = new Array(); // 存储基本的columns对象，用于清除设置\r\n    this.columnMenuWidth = 160; // column menu的宽度\r\n    this.columnMenuHeight = 33; // column menu的高度\r\n    this.gridCompColumnFixedArr = new Array(); // 存储设置默认值之后的固定列columns对象\r\n    this.gridCompLevelColumn = new Array(); // 存储多级表头时的多级\r\n    this.headerHeight = 44 * parseInt(this.options.maxHeaderLevel) + 1;\r\n    this.gridCompHiddenLevelColumnArr = new Array(); // 存储自动隐藏时隐藏优先级排序后的column\r\n    this.treeLeft = 10; // 树表时每一级之间的差值\r\n    this.overWidthVisibleColumnArr = new Array(); // 超出定义宽度的column集合\r\n};\r\nconst getBooleanOptions = function(){\r\n    this.options.cancelFocus = this.getBoolean(this.options.cancelFocus);\r\n    this.options.showHeader = this.getBoolean(this.options.showHeader);\r\n    this.options.showNumCol = this.getBoolean(this.options.showNumCol);\r\n    this.options.multiSelect = this.getBoolean(this.options.multiSelect);\r\n    this.options.columnMenu = this.getBoolean(this.options.columnMenu);\r\n    this.options.canDrag = this.getBoolean(this.options.canDrag);\r\n    this.options.overWidthHiddenColumn = this.getBoolean(this.options.overWidthHiddenColumn);\r\n    this.options.sortable = this.getBoolean(this.options.sortable);\r\n    this.options.showSumRow = this.getBoolean(this.options.showSumRow);\r\n    this.options.canSwap = this.getBoolean(this.options.canSwap);\r\n    this.options.showTree = this.getBoolean(this.options.showTree);\r\n    this.options.autoExpand = this.getBoolean(this.options.autoExpand);\r\n    this.options.needTreeSort = this.getBoolean(this.options.needTreeSort);\r\n};\r\n/*\r\n * 初始化默认参数\r\n */\r\nconst initDefault = function(){\r\n    this.defaults = {\r\n        id: 'grid',\r\n        editType: 'default',\r\n        cancelFocus:false, // 第二次点击是否取消focus\r\n        showHeader: true, // 是否显示表头\r\n        showNumCol: false, // 是否显示数字列\r\n        multiSelect:false, // 是否显示复选框\r\n        columnMenu: true, // 是否存在列头操作按钮\r\n        canDrag: true, // 是否可以拖动\r\n        formMaxWidth: 300, // 整体宽度小于某一值之后以form展示\r\n        // formMaxWidth:0,\r\n        maxHeaderLevel:1, // header的最高层级，用于计算header区域的高度\r\n        overWidthHiddenColumn:false, // 宽度不足时是否自动隐藏column\r\n        sortable: true, // 是否可以排序\r\n        showSumRow: false, // 是否显示合计行\r\n        canSwap: true, // 是否可以交换列位置\r\n        showTree:false, // 是否显示树表\r\n        autoExpand:true, // 是否默认展开\r\n        needTreeSort:false, // 是否需要对传入数据进行排序，此设置为优化性能，如果传入数据是无序的则设置为true，如果可以保证先传入父节点后传入子节点则设置为false提高性能\r\n    }\r\n};\r\n/*\r\n * 创建grid\r\n */\r\nconst initGrid = function() {\r\n    if(!this.options.columns || this.options.columns.length == 0){\r\n        return;\r\n    }\r\n    var oThis = this;\r\n    this.initOptions();\r\n    this.initVariable();\r\n    this.initWidthVariable();\r\n    this.initGridCompColumn();\r\n    this.initDataSource();\r\n    this.createDivs();\r\n    // UAP-NC 轻量化项目：切换tab时添加form会消失问题\r\n    this.inte = setInterval(function(){oThis.setIntervalFun.call(oThis)}, 300);\r\n};\r\n/*\r\n * 销毁自身\r\n */\r\nconst destroySelf = function(){\r\n    clearInterval(this.inte);\r\n    this.$ele.data('gridComp',null);\r\n    this.ele.innerHTML = '';\r\n};\r\n/*\r\n * 对传入参数进行格式化处理\r\n * 宽度、高度处理\r\n * 左侧区域宽度计算\r\n * 除去内容区域的高度\r\n */\r\nconst initOptions = function() {\r\n    this.options.width = this.formatWidth(this.options.width);\r\n    this.options.height = this.formatWidth(this.options.height);\r\n    if(this.options.height == '100%' || !this.options.height){\r\n        this.countContentHeight = false;\r\n    }\r\n    this.initOptionsTree();\r\n    this.leftW = 0; // 左侧区域宽度（数字列复选框等）\r\n    if (this.options.showNumCol) {\r\n        this.leftW += this.numWidth;\r\n    }\r\n    if(this.options.multiSelect){\r\n        this.leftW += this.multiWidth;\r\n    }\r\n    this.exceptContentHeight = 0; // 内容区域之外的高度\r\n    if(this.options.showHeader){\r\n        this.exceptContentHeight +=this.headerHeight;\r\n    }\r\n    this.fixedWidth = 0;\r\n    if(this.options.maxHeaderLevel > 1){\r\n        this.options.canSwap = false;\r\n    }\r\n    // 获取缓存id\r\n    var url = window.location.href;\r\n    var index = url.indexOf('?');\r\n    if(index > 0){\r\n        url = url.substring(0,index);\r\n    }\r\n    this.localStorageId = this.options.id + url;\r\n\r\n};\r\nconst initOptionsTree = function(){\r\n};\r\n/*\r\n * 初始化变量\r\n */\r\nconst initVariable = function(){\r\n    this.initDataSourceVariable();\r\n    // 鼠标点击移动时位置记录\r\n    this.mouseUpX = 'mouseUpX';\r\n    this.mouseUpY = 'mouseUpY';\r\n    this.mouseDownX = 'mouseDownX';\r\n    this.mouseDownY = 'mouseDownY';\r\n    this.mouseMoveX = 'mouseMoveX';\r\n    this.mouseMoveY = 'mouseMoveY';\r\n    this.scrollLeft = 0; // 记录横向滚动条\r\n    this.scrollTop = 0;// 记录纵向滚动条\r\n    this.showType = ''; // 记录grid显示方式，form和grid\r\n    this.createGridFlag = false; // 是否已经创建grid展示\r\n    this.columnClickX = 0; // 点击处的X坐标\r\n    this.columnClickY = 0; // 点击处的Y坐标\r\n    this.columnMenuMove = false;// 是否在column menu区域移动\r\n    this.firstColumn = true; // 用于记录是否已经存在第一列，true表示还没有，false表示已经存在\r\n    this.lastVisibleColumn = null;\r\n    this.lastVisibleColumnWidth = 0;\r\n    this.columnMenuMove = false;// 是否在column menu区域移动\r\n    this.createColumnMenuFlag = false; // 是否已经创建column menu 区域\r\n    this.menuColumnsHeight = 0;\r\n    this.createFormFlag = false; // 是否已经创建form展示\r\n    this.$sd_storageData = null;// 本地缓存内容为object\r\n};\r\n/*\r\n * 初始化datasource相关变量\r\n */\r\nconst initDataSourceVariable = function(){\r\n    this.selectRows = new Array();\r\n    this.selectRowsObj = new Array();\r\n    this.selectRowsIndex = new Array();\r\n    this.allRows = new Array();\r\n    this.eidtRowIndex = -1; // 当前修改行\r\n};\r\n\r\n// 初始化宽度相关变量\r\nconst initWidthVariable = function(){\r\n    // 计算用变量\r\n    this.wholeWidth = 0; // 整体宽度\r\n    this.wholeHeight = 0; // 整体高度\r\n    this.rowHeight = 0; // 数据行高度\r\n    this.contentRealWidth = 0; // 内容区真实宽度,严格按照设置的width计算的宽度\r\n    this.contentWidth = 0; // 内容区宽度，自动扩展之后的宽度\r\n    this.contentMinWidth = 0; // 内容区最小宽度,即可视宽度\r\n    this.contentHeight = 0; //内容区高度\r\n    this.fixedRealWidth = 0; // 固定区域真实宽度\r\n    this.fixedWidth = 0; // 固定区域宽度\r\n};\r\n/*\r\n * 创建gridCompColumn对象方便后续处理\r\n */\r\nconst initGridCompColumn = function() {\r\n    var oThis = this;\r\n    this.initGridCompColumnVar();\r\n    if (this.options.columns) {\r\n        $.each(this.options.columns, function(i) {\r\n            oThis.initGridCompColumnFun(this);\r\n        });\r\n    }\r\n    this.initGridCompColumnLoacl();\r\n    this.initGridHiddenLevelColumn();\r\n    this.initGridCompFixedColumn();\r\n    this.columnsVisibleFun();\r\n};\r\nconst initGridCompColumnVar = function(){\r\n    this.gridCompColumnArr = new Array();\r\n    this.basicGridCompColumnArr = new Array();\r\n    this.gridCompColumnFixedArr = new Array();\r\n    this.gridCompLevelColumn = new Array();\r\n    this.gridCompHiddenLevelColumnArr = new Array();\r\n};\r\nconst initGridCompColumnFun = function(columnOptions){\r\n    var column = new gridCompColumn(columnOptions, this);\r\n    column.options.optionsWidth = column.options.width;\r\n    column.options.realWidth = column.options.width;\r\n    this.gridCompColumnArr.push(column);\r\n    this.initGridCompColumnColumnMenuFun(columnOptions);\r\n    this.initGridCompColumnHeaderLevelFun(columnOptions);\r\n};\r\nconst initGridCompColumnColumnMenuFun = function(columnOptions){\r\n};\r\nconst initGridCompColumnHeaderLevelFun = function(columnOptions){\r\n};\r\nconst initGridCompColumnLoacl = function(columnOptions){\r\n};\r\nconst initGridHiddenLevelColumn = function(){\r\n};\r\nconst initGridCompFixedColumn = function(){\r\n};\r\n/*\r\n * 设置某列是否必输\r\n */\r\nconst setRequired = function(field, value){\r\n};\r\n/*\r\n * 创建dataSource对象方便后续处理\r\n */\r\nconst initDataSource = function() {\r\n    var oThis = this;\r\n    this.dataSourceObj = new dataSource(this.options.dataSource,this);\r\n};\r\nexport{\r\n    init,\r\n    getBooleanOptions,\r\n    initDefault,\r\n    initGrid,\r\n    destroySelf,\r\n    initOptions,\r\n    initOptionsTree,\r\n    initVariable,\r\n    initDataSourceVariable,\r\n    initWidthVariable,\r\n    initGridCompColumn,\r\n    initGridCompColumnVar,\r\n    initGridCompColumnFun,\r\n    initGridCompColumnColumnMenuFun,\r\n    initGridCompColumnHeaderLevelFun,\r\n    initGridCompColumnLoacl,\r\n    initGridHiddenLevelColumn,\r\n    initGridCompFixedColumn,\r\n    setRequired,\r\n    initDataSource\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gridCompInit.js\n **/","\r\n/*\r\n * 添加一行\r\n */\r\nconst addOneRow = function(row,index){\r\n    var oThis = this,displayFlag = 'none',rowObj = {},parentIndex,\r\n        parentChildLength = 0,l = this.dataSourceObj.rows.length,endFlag = false;\r\n        rowObj.value = row;\r\n\r\n    index = this.addOneRowTree(row,index,rowObj);\r\n    if(index != 0){\r\n        if(index && index > 0){\r\n            if(l < index)\r\n                index = l;\r\n        }else{\r\n            index = 0;\r\n        }\r\n    }\r\n    if(l == index){\r\n        endFlag = true;\r\n    }\r\n    rowObj.valueIndex = index;\r\n    rowObj.value = row;\r\n    this.dataSourceObj.rows.splice(index,0,rowObj);\r\n    // 如果是在中间插入需要将后续的valueIndex + 1；\r\n    if(this.dataSourceObj.rows.length > (index + 1)){\r\n        $.each(this.dataSourceObj.rows,function(i){\r\n            if(i > index){\r\n                this.valueIndex =  this.valueIndex + 1;\r\n            }\r\n        });\r\n    }\r\n\r\n    if(this.showType == 'grid'){ //只有grid展示的时候才处理div，针对隐藏情况下还要添加数据\r\n        this.editClose();\r\n\r\n        this.updateEditRowIndex('+', index);\r\n        try{\r\n            var htmlStr = this.createContentOneRow(rowObj,'normal',displayFlag);\r\n            if(endFlag){\r\n                $('#' + this.options.id + '_content_tbody')[0].insertAdjacentHTML('beforeEnd',htmlStr);\r\n            }else{\r\n                var $$tr = $('#' + this.options.id + '_content_tbody').find('tr[role=\"row\"]')[index];\r\n                var $$tbody = $('#' + this.options.id + '_content_tbody')[0];\r\n                if($$tr)\r\n                    $$tr.insertAdjacentHTML('beforeBegin',htmlStr);\r\n                else if($$tbody)\r\n                    $$tbody.insertAdjacentHTML('afterBegin',htmlStr);\r\n            }\r\n            if($('#' + this.options.id + '_content_fixed_div').length > 0){\r\n                var htmlStr = this.createContentOneRow(rowObj,'fixed',displayFlag);\r\n                if(endFlag){\r\n                    $('#' + this.options.id + '_content_fixed_tbody')[0].insertAdjacentHTML('beforeEnd',htmlStr);\r\n                }else{\r\n                    var $$tr = $('#' + this.options.id + '_content_fixed_tbody').find('tr[role=\"row\"]')[index]\r\n                    if($$tr)\r\n                        $$tr.insertAdjacentHTML('beforeBegin',htmlStr);\r\n                    else if($('#' + this.options.id + '_content_fixed_tbody')[0])\r\n                        $('#' + this.options.id + '_content_fixed_tbody')[0].insertAdjacentHTML('afterBegin',htmlStr);\r\n                }\r\n            }\r\n        }catch(e){\r\n            //IE情况下\r\n            var table = $('#' + this.options.id + '_content_div table')[0];\r\n            if(table)\r\n                this.createContentOneRowForIE(table,index,rowObj,'normal',displayFlag);\r\n            var fixedTable = $('#' + this.options.id + '_content_fixed_div table')[0];\r\n            if(fixedTable)\r\n                this.createContentOneRowForIE(fixedTable,index,rowObj,'fixed',displayFlag);\r\n        }\r\n        if(this.options.multiSelect){\r\n            var htmlStr = this.createContentLeftMultiSelectRow(rowObj,displayFlag);\r\n            if(endFlag){\r\n                $('#' + this.options.id + '_content_multiSelect')[0].insertAdjacentHTML('beforeEnd',htmlStr);\r\n            }else{\r\n                var $$div = $('#' + this.options.id + '_content_multiSelect').find('div')[index]\r\n                if($$div)\r\n                    $$div.insertAdjacentHTML('beforeBegin',htmlStr);\r\n                else\r\n                    $('#' + this.options.id + '_content_multiSelect')[0].insertAdjacentHTML('afterBegin',htmlStr);\r\n            }\r\n        }\r\n        if (this.options.showNumCol) {\r\n            var htmlStr = this.createContentLeftNumColRow(l, row);\r\n            if(endFlag){\r\n                $('#' + this.options.id + '_content_numCol')[0].insertAdjacentHTML('beforeEnd',htmlStr);\r\n            }else{\r\n                var $$div = $('#' + this.options.id + '_content_numCol').find('div')[index]\r\n                if($$div)\r\n                    $$div.insertAdjacentHTML('beforeBegin',htmlStr);\r\n                else\r\n                    $('#' + this.options.id + '_content_numCol')[0].insertAdjacentHTML('afterBegin',htmlStr);\r\n            }\r\n            this.resetNumCol();\r\n            this.updateNumColLastRowFlag();\r\n        }\r\n        this.repairSumRow();\r\n        this.noRowsShowFun();\r\n        this.updateLastRowFlag();\r\n        var obj = {};\r\n        obj.begin = index;\r\n        obj.length = 1;\r\n        this.renderTypeFun(obj);\r\n    }\r\n    // 需要重新排序重置变量\r\n    var l = 0;\r\n    if(this.options.showTree){\r\n        if(this.dataSourceObj.options.values){\r\n            l = this.dataSourceObj.options.values.length;\r\n        }else{\r\n            this.dataSourceObj.options.values = new Array();\r\n        }\r\n        this.dataSourceObj.options.values.splice(index,0,row);\r\n        this.addOneRowTreeHasChildF(rowObj);\r\n    }else{\r\n        if(this.dataSourceObj.options.values){\r\n\r\n        }else{\r\n            this.dataSourceObj.options.values = new Array();\r\n        }\r\n        this.dataSourceObj.options.values.splice(index,0,row);\r\n    }\r\n};\r\nconst addOneRowTree = function(row,index){\r\n    return index;\r\n};\r\nconst addOneRowTreeHasChildF = function(){\r\n};\r\nconst editClose =function(){\r\n};\r\n/*\r\n * 添加多行\r\n */\r\nconst addRows = function(rows,index){\r\n    if(this.options.showTree){\r\n        // 树表待优化\r\n        var l = rows.length;\r\n        for(var i = 0; i < l;i++){\r\n            this.addOneRow(rows[i],l);\r\n        }\r\n        return;\r\n    }\r\n    this.editClose();\r\n    var htmlStr = '',htmlStrmultiSelect='',htmlStrNumCol='',htmlStrFixed='',oThis = this,l = this.dataSourceObj.rows.length,endFlag = false;\r\n    if(index != 0){\r\n        if(index && index > 0){\r\n            if(l < index)\r\n                index = l;\r\n        }else{\r\n            index = 0;\r\n        }\r\n    }\r\n    if(l == index){\r\n        endFlag = true;\r\n    }\r\n    var rowObjArr = new Array();\r\n    $.each(rows, function(i) {\r\n        var rowObj = {};\r\n        rowObj.value = this;\r\n        rowObj.valueIndex = index + i;\r\n        rowObjArr.push(rowObj);\r\n        oThis.dataSourceObj.rows.splice(index + i,0,rowObj);\r\n        oThis.updateEditRowIndex('+', index+i)\r\n    });\r\n    // 如果是在中间插入需要将后续的valueIndex + 1；\r\n    if(this.dataSourceObj.rows.length > (index + rows.length)){\r\n        $.each(this.dataSourceObj.rows,function(i){\r\n            if(i > (index + rows.length - 1)){\r\n                this.valueIndex =  this.valueIndex + rows.length;\r\n            }\r\n        });\r\n    }\r\n    if(this.showType == 'grid' && $('#' + this.options.id + '_content_div tbody')[0]){ //只有grid展示的时候才处理div，针对隐藏情况下还要添加数据 //lyk--需要完善隐藏之后再显示同事添加数据操作\r\n        $.each(rowObjArr, function(i, row) {\r\n            htmlStr += oThis.createContentOneRow(this);\r\n            htmlStrFixed += oThis.createContentOneRowFixed(this);\r\n            if(oThis.options.multiSelect){\r\n                htmlStrmultiSelect += oThis.createContentLeftMultiSelectRow(this);\r\n            }\r\n            if(oThis.options.showNumCol){\r\n                htmlStrNumCol += oThis.createContentLeftNumColRow(l + i,row.value);\r\n            }\r\n        });\r\n        try{\r\n            if(endFlag){\r\n                $('#' + this.options.id + '_content_div tbody')[0].insertAdjacentHTML('beforeEnd',htmlStr);\r\n            }else{\r\n                if($('#' + this.options.id + '_content_div').find('tbody').find('tr[role=\"row\"]')[index])\r\n                    $('#' + this.options.id + '_content_div').find('tbody').find('tr[role=\"row\"]')[index].insertAdjacentHTML('beforeBegin',htmlStr);\r\n                else if($('#' + this.options.id + '_content_div tbody')[0])\r\n                    $('#' + this.options.id + '_content_div tbody')[0].insertAdjacentHTML('afterBegin',htmlStr);\r\n            }\r\n            if(endFlag){\r\n                $('#' + this.options.id + '_content_fixed_div tbody')[0].insertAdjacentHTML('beforeEnd',htmlStrFixed);\r\n            }else{\r\n                if($('#' + this.options.id + '_content_fixed_div').find('tbody').find('tr[role=\"row\"]')[index])\r\n                    $('#' + this.options.id + '_content_fixed_div').find('tbody').find('tr[role=\"row\"]')[index].insertAdjacentHTML('beforeBegin',htmlStrFixed);\r\n                else if($('#' + this.options.id + '_content_fixed_div tbody')[0])\r\n                    $('#' + this.options.id + '_content_fixed_div tbody')[0].insertAdjacentHTML('afterBegin',htmlStrFixed);\r\n            }\r\n        }catch(e){\r\n            //IE情况下\r\n            var table = $('#' + this.options.id + '_content_div table')[0];\r\n            var fixedTable = $('#' + this.options.id + '_content_fixed_div table')[0];\r\n            if(table && fixedTable){\r\n                $.each(rowObjArr, function(i) {\r\n                    oThis.createContentOneRowForIE(table,index + i,this);\r\n                    oThis.createContentOneRowForIE(fixedTable,index + i,this,'fixed');\r\n                });\r\n            }\r\n        }\r\n        if(this.options.multiSelect){\r\n            if(endFlag){\r\n                $('#' + this.options.id + '_content_multiSelect')[0].insertAdjacentHTML('beforeEnd',htmlStrmultiSelect);\r\n            }else{\r\n                var _content_multiSelect = $('#' + this.options.id + '_content_multiSelect').find('div')[index];\r\n                if(_content_multiSelect)\r\n                    _content_multiSelect.insertAdjacentHTML('beforeBegin',htmlStrmultiSelect);\r\n                else\r\n                    $('#' + this.options.id + '_content_multiSelect')[0].insertAdjacentHTML('afterBegin',htmlStrmultiSelect);\r\n            }\r\n        }\r\n        if (this.options.showNumCol) {\r\n            if(endFlag){\r\n                $('#' + this.options.id + '_content_numCol')[0].insertAdjacentHTML('beforeEnd',htmlStrNumCol);\r\n            }else{\r\n                var _content_multiSelect = $('#' + this.options.id + '_content_numCol').find('div')[index];\r\n                if(_content_multiSelect)\r\n                    _content_multiSelect.insertAdjacentHTML('beforeBegin',htmlStrNumCol);\r\n                else\r\n                    $('#' + this.options.id + '_content_numCol')[0].insertAdjacentHTML('afterBegin',htmlStrNumCol);\r\n            }\r\n            this.resetNumCol();\r\n            this.updateNumColLastRowFlag();\r\n        }\r\n        this.repairSumRow();\r\n        this.noRowsShowFun();\r\n        var obj = {};\r\n        obj.begin = index;\r\n        obj.length = rows.length;\r\n        this.renderTypeFun(obj);\r\n    }\r\n    if(this.dataSourceObj.options.values){\r\n    }else{\r\n        this.dataSourceObj.options.values = new Array();\r\n    }\r\n    $.each(rows, function(i) {\r\n        oThis.dataSourceObj.options.values.splice(index + i,0,this);\r\n    });\r\n    this.updateLastRowFlag();\r\n};\r\nconst createContentOneRowFixed = function(rowObj){\r\n    return '';\r\n};\r\nconst updateEditRowIndex = function(opType, opIndex, num) {\r\n};\r\n/*\r\n * 删除一行\r\n */\r\nconst deleteOneRow = function(index){\r\n    var oThis = this;\r\n    index = parseInt(index);\r\n    var row = this.dataSourceObj.rows[index];\r\n    if(!row)\r\n        return;\r\n    var rowValue = row.value;\r\n    if(this.showType == 'grid'){ //只有grid展示的时候才处理div，针对隐藏情况下还要添加数据\r\n        this.editClose();\r\n    }\r\n    this.dataSourceObj.rows.splice(index,1);\r\n    this.updateEditRowIndex('-', index);\r\n    if(this.selectRows){\r\n        $.each(this.selectRows,function(i){\r\n            if(this == rowValue){\r\n                oThis.selectRows.splice(i,1);\r\n                oThis.selectRowsObj.splice(i,1);\r\n                oThis.selectRowsIndex.splice(i,1);\r\n            }else if(oThis.selectRowsIndex[i] > index){\r\n                oThis.selectRowsIndex[i] = oThis.selectRowsIndex[i] - 1;\r\n            }\r\n        });\r\n    }\r\n    if(this.focusRow){\r\n        if(this.focusRow == rowValue){\r\n            this.focusRow = null;\r\n            this.focusRowObj = null;\r\n            this.focusRowIndex = null;\r\n        }else if(this.focusRowIndex > index){\r\n            this.focusRowIndex = this.focusRowIndex - 1;\r\n        }\r\n    }\r\n    if(this.showType == 'grid'){ //只有grid展示的时候才处理div，针对隐藏情况下还要添加数据\r\n        $('#' + this.options.id + '_content_div tbody tr:eq(' + index+ ')').remove();\r\n        $('#' + this.options.id + '_content_fixed_div tbody tr:eq(' + index+ ')').remove();\r\n        $('#' + this.options.id + '_content_multiSelect >div:eq(' + index + ')').remove();\r\n        $('#' + this.options.id + '_content_numCol >.u-grid-content-num:eq('+ index + ')').remove();\r\n        this.resetNumCol();\r\n        this.repairSumRow();\r\n        this.noRowsShowFun();\r\n        this.updateNumColLastRowFlag();\r\n    }\r\n    if(this.dataSourceObj.options.values) {\r\n        var i = this.dataSourceObj.options.values.indexOf(rowValue);\r\n        this.dataSourceObj.options.values.splice(i,1);\r\n    }\r\n    this.deleteOneRowTree();\r\n    if(typeof this.options.onRowDelete == 'function'){\r\n        var obj = {};\r\n        obj.gridObj = this;\r\n        obj.index = index;\r\n        if(!this.options.onRowDelete(index)){\r\n            return;\r\n        }\r\n    }\r\n};\r\nconst repairSumRow = function(){\r\n};\r\nconst deleteOneRowTree = function(){\r\n};\r\n/*\r\n * 删除多行\r\n */\r\nconst deleteRows = function(indexs){\r\n    var oThis = this,indexss = new Array();\r\n    $.each(indexs, function(i) {\r\n        indexss.push(indexs[i]);\r\n    });\r\n    indexss.sort(function(a,b){\r\n        return b-a;\r\n    });\r\n\r\n    $.each(indexss, function(i) {\r\n        oThis.deleteOneRow(this);\r\n    });\r\n};\r\n/*\r\n * 修改某一行\r\n */\r\nconst updateRow = function(index,row){\r\n    if(index > -1 && index < this.dataSourceObj.rows.length){\r\n        this.dataSourceObj.rows[index].value = row;\r\n        this.dataSourceObj.options.values[this.dataSourceObj.rows[index].valueIndex] = row;\r\n        if(this.showType == 'grid'){\r\n            var obj = {};\r\n            obj.begin = index;\r\n            obj.length = 1;\r\n            this.renderTypeFun(obj);\r\n            this.repairSumRow();\r\n        }\r\n    }\r\n};\r\n/*\r\n * 修改某个cell的值\r\n */\r\nconst updateValueAt = function(rowIndex,field,value,force){\r\n    if(rowIndex > -1 && rowIndex < this.dataSourceObj.rows.length){\r\n        var oThis=this,oldValue = $(this.dataSourceObj.rows[rowIndex].value).attr(field),treeRowIndex = rowIndex;\r\n        if(oldValue != value || force){\r\n            $(this.dataSourceObj.rows[rowIndex].value).attr(field,value);\r\n            $(this.dataSourceObj.options.values[this.dataSourceObj.rows[rowIndex].valueIndex]).attr(field,value);\r\n            if(this.showType == 'grid'){\r\n                var obj = {};\r\n                obj.field = field;\r\n                obj.begin = rowIndex;\r\n                obj.length = 1;\r\n                this.renderTypeFun(obj);\r\n                // this.editColIndex = undefined;\r\n                // 如果编辑行为修改行则同时需要修改编辑行的显示\r\n                treeRowIndex = this.updateValueAtTree(rowIndex,field,value,force);\r\n                this.updateValueAtEdit(rowIndex,field,value,force);\r\n                this.repairSumRow();\r\n            }\r\n            if(typeof this.options.onValueChange == 'function'){\r\n                var obj = {};\r\n                obj.gridObj = this;\r\n                //因为树表更新时候可能改变rowIndex的顺序\r\n                obj.rowIndex = treeRowIndex;\r\n                obj.field = field;\r\n                obj.oldValue = oldValue;\r\n                obj.newValue = value;\r\n                this.options.onValueChange(obj);\r\n            }\r\n        }\r\n    }\r\n};\r\nconst updateValueAtTree = function(rowIndex,field,value,force){\r\n    return rowIndex;\r\n};\r\nconst updateValueAtEdit = function(rowIndex,field,value,force){\r\n};\r\n/*\r\n * 选中一行\r\n * slice 设置全选时，slice为true，不做渲染，在setAllRowSelect中统一渲染\r\n */\r\nconst setRowSelect = function(rowIndex, doms){\r\n    var selectDiv, rowTr, fixedRowTr,numColDiv\r\n    if(!this.dataSourceObj.rows[rowIndex])\r\n        return true;\r\n    //已经选中退出\r\n    if(this.showType == 'grid'){\r\n        if (doms && doms['contentTrs'])\r\n            rowTr =  doms['contentTrs'][rowIndex]\r\n        else\r\n            rowTr = this.$ele.find('#' + this.options.id + '_content_tbody tr[role=\"row\"]')[rowIndex]\r\n    }\r\n    if(this.dataSourceObj.rows[rowIndex].checked && u.hasClass(rowTr, \"u-grid-content-sel-row\"))\r\n        return true;\r\n    if (doms && doms['multiSelectDivs'])\r\n        selectDiv = doms['multiSelectDivs'][rowIndex]\r\n    else\r\n        selectDiv = this.$ele.find('#' + this.options.id + '_content_multiSelect').children()[rowIndex]\r\n    if(typeof this.options.onBeforeRowSelected == 'function'){\r\n        var obj = {};\r\n        obj.gridObj = this;\r\n        obj.rowObj = this.dataSourceObj.rows[rowIndex];\r\n        obj.rowIndex = rowIndex;\r\n        if(!this.options.onBeforeRowSelected(obj)){\r\n            if(this.options.multiSelect){\r\n                var _input = selectDiv.children[0];\r\n                _input.checked = false;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n    if(!this.options.multiSelect){\r\n        if(this.selectRowsObj && this.selectRowsObj.length > 0){\r\n            $.each(this.selectRowsObj, function() {\r\n                this.checked = false;\r\n            });\r\n        }\r\n        this.selectRows = new Array();\r\n        this.selectRowsObj = new Array();\r\n        this.selectRowsIndex = new Array();\r\n        if(this.showType == 'grid'){\r\n            $('#' + this.options.id + '_content_tbody tr').removeClass(\"u-grid-content-sel-row\");\r\n            $('#' + this.options.id + '_content_tbody tr a').removeClass(\"u-grid-content-sel-row\");\r\n            $('#' + this.options.id + '_content_fixed_tbody tr').removeClass(\"u-grid-content-sel-row\");\r\n            $('#' + this.options.id + '_content_fixed_tbody tr a').removeClass(\"u-grid-content-sel-row\");\r\n            if(this.options.multiSelect){\r\n                $('#' + this.options.id + '_content_multiSelect div').removeClass(\"u-grid-content-sel-row\");\r\n            }\r\n            if(this.options.showNumCol){\r\n                $('#' + this.options.id + '_content_numCol div').removeClass(\"u-grid-content-sel-row\");\r\n            }\r\n        }\r\n    }else{\r\n        if(this.showType == 'grid'){\r\n            var _input = selectDiv.children[0];\r\n            // _input.checked = true;\r\n            $(_input).addClass('is-checked');\r\n        }\r\n    }\r\n    if(this.showType == 'grid'){\r\n        $(rowTr).addClass(\"u-grid-content-sel-row\");\r\n\r\n        if (doms && doms['fixContentTrs'])\r\n            fixedRowTr =  doms['fixContentTrs'][rowIndex]\r\n        else\r\n            fixedRowTr = this.$ele.find('#' + this.options.id + '_content_fixed_tbody tr[role=\"row\"]')[rowIndex]\r\n        $(fixedRowTr).addClass(\"u-grid-content-sel-row\");\r\n        var ini = rowIndex;\r\n        if(this.eidtRowIndex > -1 && this.eidtRowIndex < rowIndex && this.options.editType == 'form'){\r\n            ini++;\r\n        }\r\n        if(this.options.multiSelect){\r\n            if (ini != rowIndex)\r\n                selectDiv =  this.$ele.find('#' + this.options.id + '_content_multiSelect').children()[ini]\r\n            $(selectDiv).addClass('u-grid-content-sel-row');\r\n        }\r\n        if(this.options.showNumCol){\r\n            if (doms && doms['numColDivs'])\r\n                numColDiv =  doms['numColDivs'][ini]\r\n            else\r\n                numColDiv = this.$ele.find('#' + this.options.id + '_content_numCol').children()[ini]\r\n            $(numColDiv).addClass('u-grid-content-sel-row');\r\n        }\r\n    }\r\n    this.selectRows.push(this.dataSourceObj.rows[rowIndex].value);\r\n    this.selectRowsObj.push(this.dataSourceObj.rows[rowIndex]);\r\n    this.selectRowsIndex.push(rowIndex);\r\n    this.dataSourceObj.rows[rowIndex].checked = true;\r\n    if(typeof this.options.onRowSelected == 'function'){\r\n        var obj = {};\r\n        obj.gridObj = this;\r\n        obj.rowObj = this.dataSourceObj.rows[rowIndex];\r\n        obj.rowIndex = rowIndex;\r\n        this.options.onRowSelected(obj);\r\n    }\r\n    return true;\r\n};\r\n/*\r\n * 反选一行\r\n */\r\nconst setRowUnselect = function(rowIndex){\r\n    var oThis=this;\r\n    if(!this.dataSourceObj.rows[rowIndex])\r\n        return true;\r\n    //已经选中退出\r\n    if(!this.dataSourceObj.rows[rowIndex].checked)\r\n        return true;\r\n    if(typeof this.options.onBeforeRowUnSelected == 'function'){\r\n        var obj = {};\r\n        obj.gridObj = this;\r\n        obj.rowObj = this.dataSourceObj.rows[rowIndex];\r\n        obj.rowIndex = rowIndex;\r\n        if(!this.options.onBeforeRowUnSelected(obj)){\r\n            if(this.options.multiSelect){\r\n                $('#' + this.options.id + '_content_multiSelect input:eq(' + rowIndex+ ')')[0].checked = true;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n    if(this.options.multiSelect){\r\n        // $('#' + this.options.id + '_content_multiSelect input:eq(' + rowIndex+ ')')[0].checked = false;\r\n        $('#' + this.options.id + '_content_multiSelect .u-grid-checkbox-outline:eq(' + rowIndex+ ')').removeClass('is-checked');\r\n    }\r\n    var ini = rowIndex;\r\n    if(this.eidtRowIndex > -1 && this.eidtRowIndex < rowIndex && this.options.editType == 'form'){\r\n        ini++;\r\n    }\r\n    $('#' + this.options.id + '_content_tbody tr:eq(' + ini+ ')').removeClass(\"u-grid-content-sel-row\");\r\n    $('#' + this.options.id + '_content_tbody tr:eq(' + ini+ ') a').removeClass(\"u-grid-content-sel-row\");\r\n    $('#' + this.options.id + '_content_fixed_tbody tr:eq(' + ini+ ')').removeClass(\"u-grid-content-sel-row\");\r\n    $('#' + this.options.id + '_content_fixed_tbody tr:eq(' + ini+ ') a').removeClass(\"u-grid-content-sel-row\");\r\n    if(this.options.multiSelect){\r\n        $('#' + this.options.id + '_content_multiSelect >div:eq(' + ini + ')').removeClass(\"u-grid-content-sel-row\");\r\n    }\r\n    if(this.options.showNumCol){\r\n        $('#' + this.options.id + '_content_numCol >div:eq(' + ini + ')').removeClass(\"u-grid-content-sel-row\");\r\n    }\r\n    $.each(this.selectRows,function(i){\r\n        if(this == oThis.dataSourceObj.rows[rowIndex].value){\r\n            oThis.selectRows.splice(i,1);\r\n            oThis.selectRowsObj.splice(i,1);\r\n            oThis.selectRowsIndex.splice(i,1);\r\n        }\r\n    })\r\n    this.dataSourceObj.rows[rowIndex].checked = false;\r\n    if(typeof this.options.onRowUnSelected == 'function'){\r\n        var obj = {};\r\n        obj.gridObj = this;\r\n        obj.rowObj = this.dataSourceObj.rows[rowIndex];\r\n        obj.rowIndex = rowIndex;\r\n        this.options.onRowUnSelected(obj);\r\n    }\r\n    return true;\r\n};\r\n/*\r\n * 选中所有行\r\n */\r\nconst setAllRowSelect = function(){\r\n    // $('#' + this.options.id + '_header_multi_input').prop('checked', true)\r\n    $('#' + this.options.id + '_header_multi_input').addClass('is-checked');\r\n    if(typeof this.options.onBeforeAllRowSelected == 'function'){\r\n        var obj = {};\r\n        obj.gridObj = this;\r\n        obj.rowObjs = this.dataSourceObj.rows;\r\n        if(!this.options.onBeforeAllRowSelected(obj)){\r\n            return;\r\n        }\r\n    }\r\n    // 把需要的dom在循环外获取出来\r\n    var multiSelectDivs = this.$ele.find('#' + this.options.id + '_content_multiSelect').children(),\r\n        numColDivs = this.$ele.find('#' + this.options.id + '_content_numCol').children(),\r\n        contentTrs =  this.$ele.find('#' + this.options.id + '_content_tbody tr[role=\"row\"]'),\r\n        fixContentTrs =  this.$ele.find('#' + this.options.id + '_content_fixed_tbody tr[role=\"row\"]');\r\n    this.$ele.find('#' + this.options.id + '_content_tbody tr[role=\"row\"]')\r\n    for(var i=0;i<this.dataSourceObj.rows.length;i++){\r\n        this.setRowSelect(i, {multiSelectDivs:multiSelectDivs, numColDivs:numColDivs, contentTrs: contentTrs, fixContentTrs: fixContentTrs});\r\n    }\r\n    if(typeof this.options.onAllRowSelected == 'function'){\r\n        var obj = {};\r\n        obj.gridObj = this;\r\n        obj.rowObjs = this.dataSourceObj.rows;\r\n        this.options.onAllRowSelected(obj);\r\n    }\r\n};\r\n/*\r\n * 反选所有行\r\n */\r\nconst setAllRowUnSelect = function(){\r\n    // $('#' + this.options.id + '_header_multi_input').attr('checked', false)\r\n    $('#' + this.options.id + '_header_multi_input').removeClass('is-checked');\r\n    if(typeof this.options.onBeforeAllRowUnSelected == 'function'){\r\n        var obj = {};\r\n        obj.gridObj = this;\r\n        obj.rowObjs = this.dataSourceObj.rows;\r\n        if(!this.options.onBeforeAllRowUnSelected(obj)){\r\n            return;\r\n        }\r\n    }\r\n    for(var i=0;i<this.dataSourceObj.rows.length;i++){\r\n        this.setRowUnselect(i);\r\n    }\r\n    if(typeof this.options.onAllRowUnSelected == 'function'){\r\n        var obj = {};\r\n        obj.gridObj = this;\r\n        obj.rowObjs = this.dataSourceObj.rows;\r\n        this.options.onAllRowUnSelected(obj);\r\n    }\r\n};\r\n\r\n/*\r\n * focus一行\r\n */\r\nconst setRowFocus = function(rowIndex){\r\n    //已经选中退出\r\n    if(this.dataSourceObj.rows[rowIndex].focus)\r\n        return true;\r\n    if(!this.dataSourceObj.rows[rowIndex])\r\n        return true;\r\n    if(typeof this.options.onBeforeRowFocus == 'function'){\r\n        var obj = {};\r\n        obj.gridObj = this;\r\n        obj.rowObj = this.dataSourceObj.rows[rowIndex];\r\n        obj.rowIndex = rowIndex;\r\n        if(!this.options.onBeforeRowFocus(obj)){\r\n            return false;\r\n        }\r\n    }\r\n    $('#' + this.options.id + '_content_tbody tr').removeClass(\"u-grid-content-focus-row\");\r\n    $('#' + this.options.id + '_content_tbody tr a').removeClass(\"u-grid-content-focus-row\");\r\n    $('#' + this.options.id + '_content_fixed_tbody tr').removeClass(\"u-grid-content-focus-row\");\r\n    $('#' + this.options.id + '_content_fixed_tbody tr a').removeClass(\"u-grid-content-focus-row\");\r\n    if(this.options.multiSelect){\r\n        $('#' + this.options.id + '_content_multiSelect').find('div').removeClass(\"u-grid-content-focus-row\");\r\n    }\r\n    if(this.options.showNumCol){\r\n        $('#' + this.options.id + '_content_numCol').find('div').removeClass(\"u-grid-content-focus-row\");\r\n    }\r\n    if(this.focusRowObj){\r\n        this.focusRowObj.focus = false;\r\n    }\r\n    $('#' + this.options.id + '_content_tbody tr[role=\"row\"]:eq(' + rowIndex+ ')').addClass(\"u-grid-content-focus-row\");\r\n    $('#' + this.options.id + '_content_tbody tr[role=\"row\"]:eq(' + rowIndex+ ') a').addClass(\"u-grid-content-focus-row\");\r\n    $('#' + this.options.id + '_content_fixed_tbody tr[role=\"row\"]:eq(' + rowIndex+ ')').addClass(\"u-grid-content-focus-row\");\r\n    $('#' + this.options.id + '_content_fixed_tbody tr[role=\"row\"]:eq(' + rowIndex+ ') a').addClass(\"u-grid-content-focus-row\");\r\n    var ini = rowIndex;\r\n    if(this.eidtRowIndex > -1 && this.eidtRowIndex < rowIndex && this.options.editType == 'form'){\r\n        ini++;\r\n    }\r\n    if(this.options.multiSelect){\r\n        $('#' + this.options.id + '_content_multiSelect >div:eq(' + ini + ')').addClass(\"u-grid-content-focus-row\");\r\n    }\r\n    if(this.options.showNumCol){\r\n        $('#' + this.options.id + '_content_numCol >div:eq(' + ini + ')').addClass(\"u-grid-content-focus-row\");\r\n    }\r\n    this.focusRow = this.dataSourceObj.rows[rowIndex].value;\r\n    this.focusRowObj = this.dataSourceObj.rows[rowIndex];\r\n    this.focusRowIndex = rowIndex;\r\n    this.dataSourceObj.rows[rowIndex].focus = true;\r\n    if(typeof this.options.onRowFocus == 'function'){\r\n        var obj = {};\r\n        obj.gridObj = this;\r\n        obj.rowObj = this.dataSourceObj.rows[rowIndex];\r\n        obj.rowIndex = rowIndex;\r\n        this.options.onRowFocus(obj);\r\n    }\r\n    if(!this.options.multiSelect){\r\n        this.setRowSelect(rowIndex);\r\n    }\r\n    return true;\r\n};\r\n/*\r\n * 反focus一行\r\n */\r\nconst setRowUnFocus = function(rowIndex){\r\n    var oThis=this;\r\n    if(!this.dataSourceObj.rows[rowIndex])\r\n        return true;\r\n    if(typeof this.options.onBeforeRowUnFocus == 'function'){\r\n        var obj = {};\r\n        obj.gridObj = this;\r\n        obj.rowObj = this.dataSourceObj.rows[rowIndex];\r\n        obj.rowIndex = rowIndex;\r\n        if(!this.options.onBeforeRowUnFocus(obj)){\r\n            return false;\r\n        }\r\n    }\r\n    //已经选中退出\r\n    if(!this.dataSourceObj.rows[rowIndex].focus)\r\n        return true;\r\n    var ini = rowIndex;\r\n    if(this.eidtRowIndex > -1 && this.eidtRowIndex < rowIndex && this.options.editType == 'form'){\r\n        ini++;\r\n    }\r\n    $('#' + this.options.id + '_content_tbody tr:eq(' + ini+ ')').removeClass(\"u-grid-content-focus-row\");\r\n    $('#' + this.options.id + '_content_tbody tr:eq(' + ini+ ') a').removeClass(\"u-grid-content-focus-row\");\r\n    $('#' + this.options.id + '_content_fixed_tbody tr:eq(' + ini+ ')').removeClass(\"u-grid-content-focus-row\");\r\n    $('#' + this.options.id + '_content_fixed_tbody tr:eq(' + ini+ ') a').removeClass(\"u-grid-content-focus-row\");\r\n    if(this.options.multiSelect){\r\n        $('#' + this.options.id + '_content_multiSelect >div:eq(' + ini + ')').removeClass(\"u-grid-content-focus-row\");\r\n    }\r\n    if(this.options.showNumCol){\r\n        $('#' + this.options.id + '_content_numCol >div:eq(' + ini + ')').removeClass(\"u-grid-content-focus-row\");\r\n    }\r\n    this.dataSourceObj.rows[rowIndex].focus = false;\r\n    this.focusRow = null;\r\n    this.focusRowObj = null;\r\n    this.focusRowIndex = null;\r\n    if(typeof this.options.onRowUnFocus == 'function'){\r\n        var obj = {};\r\n        obj.gridObj = this;\r\n        obj.rowObj = this.dataSourceObj.rows[rowIndex];\r\n        obj.rowIndex = rowIndex;\r\n        this.options.onRowUnFocus(obj);\r\n    }\r\n    if(!this.options.multiSelect){\r\n        this.setRowUnselect(rowIndex);\r\n    }\r\n    return true;\r\n};\r\n/*\r\n * 增加删除时重置数字列\r\n */\r\nconst resetNumCol = function(){\r\n    var numCols = $('#' + this.options.id + '_content_numCol >.u-grid-content-num');\r\n    $.each(numCols,function(i){\r\n        this.innerHTML = i + 1 + \"\";\r\n    });\r\n};\r\nexport{\r\n    addOneRow,\r\n    addOneRowTree,\r\n    addOneRowTreeHasChildF,\r\n    editClose,\r\n    addRows,\r\n    createContentOneRowFixed,\r\n    updateEditRowIndex,\r\n    deleteOneRow,\r\n    repairSumRow,\r\n    deleteOneRowTree,\r\n    deleteRows,\r\n    updateRow,\r\n    updateValueAt,\r\n    updateValueAtTree,\r\n    updateValueAtEdit,\r\n    setRowSelect,\r\n    setRowUnselect,\r\n    setAllRowSelect,\r\n    setAllRowUnSelect,\r\n    setRowFocus,\r\n    setRowUnFocus,\r\n    resetNumCol\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gridCompOperateRow.js\n **/","/*\r\n * 处理renderType\r\n * begin为起始行，length为行数（增加行数时使用）\r\n */\r\nconst renderTypeFun = function(obj){\r\n    if(!this.isGridShow())\r\n        return;\r\n    if(typeof obj == 'undefined'){\r\n        var begin = null,length = null,field = '';\r\n    }else{\r\n        var begin = typeof obj.begin == 'undefined'?null:obj.begin,length = typeof obj.length == 'undefined'?null:obj.length,field = typeof obj.field == 'undefined'?'':obj.field;\r\n    }\r\n    var oThis = this,begin = parseInt(begin),length = parseInt(length),end = begin;\r\n    if(length >0){\r\n        end = parseInt(begin + length - 1);\r\n    }\r\n    if (field == ''){\r\n        if(this.gridCompColumnFixedArr)\r\n            $.each(this.gridCompColumnFixedArr,function(i){\r\n                oThis.renderTypeByColumn(this,i,begin,length,true);\r\n            })\r\n        $.each(this.gridCompColumnArr,function(i){\r\n            oThis.renderTypeByColumn(this,i,begin,length, false);\r\n        })\r\n    }\r\n    else{\r\n        var rendered = false\r\n        if(this.gridCompColumnFixedArr)\r\n            $.each(this.gridCompColumnFixedArr,function(i){\r\n                if (this.options.field == field){\r\n                    oThis.renderTypeByColumn(this,i,begin,length,true);\r\n                    rendered = true\r\n                    return;\r\n                }\r\n            })\r\n        if (!rendered)\r\n            $.each(this.gridCompColumnArr,function(i){\r\n                if (this.options.field == field){\r\n                    oThis.renderTypeByColumn(this,i,begin,length,false);\r\n                    return;\r\n                }\r\n            })\r\n    }\r\n};\r\n/*\r\n * 处理renderType\r\n * gridCompColumn对象，index为第几列\r\n * begin为起始行，length为行数（增加行数时使用）\r\n */\r\nconst renderTypeByColumn = function(gridCompColumn,i,begin,length, isFixedColumn){\r\n    var oThis = this,renderType = gridCompColumn.options.renderType,\r\n        sumCol = gridCompColumn.options.sumCol,\r\n        sumRenderType = gridCompColumn.options.sumRenderType,\r\n        dataType = gridCompColumn.options.dataType,\r\n        precision = gridCompColumn.options.precision,\r\n        format = gridCompColumn.options.format,field = gridCompColumn.options.field,\r\n        end = begin,idSuffix = isFixedColumn === true ? '_content_fixed_tbody' : '_content_tbody',\r\n        idStr = isFixedColumn === true? 'fixed_' : '',\r\n        visibleColIndex = this.getVisibleIndexOfColumn(gridCompColumn);\r\n\r\n\r\n    if(length >0){\r\n        end = parseInt(begin + length - 1);\r\n    }\r\n    this.realtimeTableRows = document.getElementById(oThis.options.id + idSuffix).children;\r\n    // 记录role不是row的行\r\n    var notRowIndex = -1;\r\n    for(var k = 0;k < oThis.realtimeTableRows.length;k++) {\r\n        if(oThis.realtimeTableRows[k].getAttribute(\"role\") != \"row\") {\r\n            notRowIndex = k\r\n        }\r\n    }\r\n    $.each(oThis.dataSourceObj.rows, function(j) {\r\n        if((begin >= 0 && j >= begin && j <= end) || isNaN(begin)){\r\n            //如果当前修改此列则将变量重置\r\n            if(oThis.editColIndex == visibleColIndex && oThis.eidtRowIndex == j){\r\n                oThis.editColIndex = -1;\r\n                oThis.eidtRowIndex = -1;\r\n            }\r\n            var trIndex = j;\r\n            if(notRowIndex != -1 && j >= notRowIndex) {\r\n                trIndex++;\r\n            }\r\n            var tr = oThis.realtimeTableRows[trIndex],td = tr.children[i];\r\n            if(td){\r\n                if(td.children[0].innerHTML.indexOf('u-grid-content-tree-span')   !=  -1){\r\n                    var span =  td.children[0].children[1];\r\n                }else{\r\n                    // td.innerHTML = '<div class=\"u-grid-content-td-div\"></div>'; //如果是树表的话第一列显示会有问题，等出现其他问题之后再修改此处\r\n                    var span =  td.children[0];\r\n                }\r\n                if(span){\r\n                    var v = $(this.value).attr(field);\r\n                    if(typeof renderType == 'function' || dataType == 'Date' || dataType == 'Datetime' || dataType == 'Int' || dataType == 'Float'){\r\n                        span.innerHTML = '';\r\n                        if(typeof renderType == 'function'){\r\n                            v = oThis.getString(v,'');\r\n                            var obj = {};\r\n                            obj.value = v;\r\n                            obj.element = span;\r\n                            obj.gridObj = oThis;\r\n                            obj.row = this;\r\n                            obj.gridCompColumn = gridCompColumn;\r\n                            obj.rowIndex = j;\r\n                            renderType.call(oThis,obj);\r\n                        }else if(dataType == 'Date' || dataType == 'Datetime'){\r\n                            if(v == null || v == undefined || v == 'null' || v == 'undefined' || v == \"\"){\r\n                                v = \"\";\r\n                            }\r\n                            if (dataType == 'Date'){\r\n                                v = u.dateRender(v);\r\n                            }else{\r\n                                v = u.dateTimeRender(v);\r\n                            }\r\n                            span.innerHTML = v;\r\n                            td.title = v;\r\n                        }else if(dataType == 'Int'){\r\n                            v = parseInt(v);\r\n                            if(v){\r\n                                span.innerHTML = v;\r\n                                td.title = v;\r\n                            }else{\r\n                                span.innerHTML = \"\";\r\n                                td.title = \"\";\r\n                            }\r\n                        }else if(dataType == 'Float'){\r\n                            if(precision){\r\n                                var o = {};\r\n                                o.value = v;\r\n                                o.precision = precision;\r\n                                v = oThis.DicimalFormater(o);\r\n                            }else{\r\n                                v = parseFloat(v);\r\n                            }\r\n                            if(v){\r\n                                span.innerHTML = v;\r\n                                td.title = v;\r\n                            }else{\r\n                                span.innerHTML = \"\";\r\n                                td.title = \"\";\r\n                            }\r\n                        }else{ //此处逻辑放到渲染处，减少render执行次数。\r\n                            v = oThis.getString(v,'');\r\n                            var v1 = v.replace(/\\</g,'\\<');\r\n                            v1 = v1.replace(/\\>/g,'\\>');\r\n                            td.title = v;\r\n                            v = v.replace(/\\</g,'&lt;');\r\n                            v = v.replace(/\\>/g,'&gt;');\r\n\r\n                            span.innerHTML = v;\r\n                        }\r\n                    }else{\r\n                        v = oThis.getString(v,'');\r\n                        var v1 = v.replace(/\\</g,'\\<');\r\n                        v1 = v1.replace(/\\>/g,'\\>');\r\n                        td.title = v;\r\n                        v = v.replace(/\\</g,'&lt;');\r\n                        v = v.replace(/\\>/g,'&gt;');\r\n\r\n                        span.innerHTML = v;\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n    });\r\n    this.renderTypeSumRow(gridCompColumn,i,begin,length, isFixedColumn);\r\n};\r\nconst renderTypeSumRow = function(gridCompColumn,i,begin,length, isFixedColumn){\r\n};\r\nexport{\r\n    renderTypeFun,\r\n    renderTypeByColumn,\r\n    renderTypeSumRow\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gridCompRenderType.js\n **/","/*\r\n * 设置某列是否显示(传入column)\r\n */\r\nconst setColumnVisibleByColumn = function(column,visible){\r\n    var index = this.getIndexOfColumn(column);\r\n    this.setColumnVisibleByIndex(index,visible);\r\n};\r\n/*\r\n * 设置某列是否显示(传入index为gridCompColumnArr中的数据)\r\n */\r\nconst setColumnVisibleByIndex = function(index,visible){\r\n    if(index >= 0){\r\n        var column = this.gridCompColumnArr[index],\r\n            visibleIndex = this.getVisibleIndexOfColumn(column);\r\n        // 显示处理\r\n        if(column.options.visible == false && visible){\r\n            var htmlStr = '<col';\r\n            if (column.options.width) {\r\n                htmlStr += ' style=\"width:' + this.formatWidth(column.options.width) + '\"';\r\n            }\r\n            htmlStr += '>';\r\n\r\n            $('#' + this.options.id + '_header th:eq(' + index + ')').css('display', \"\");\r\n            $('#' + this.options.id + '_content th:eq(' + index + ')').css('display', \"\");\r\n            $('td:eq(' + index + ')',$('#' + this.options.id + '_content tbody tr')).css('display', \"\");\r\n            // 当前列之后的显示列的index\r\n            var nextVisibleIndex = this.getNextVisibleInidexOfColumn(column);\r\n            if(nextVisibleIndex == -1){\r\n                // 添加在最后面\r\n                try{\r\n                    $('#' + this.options.id + '_header col:last')[0].insertAdjacentHTML('afterEnd',htmlStr);\r\n                    $('#' + this.options.id + '_content col:last')[0].insertAdjacentHTML('afterEnd',htmlStr);\r\n                }catch(e){\r\n                    $('#' + this.options.id + '_header col:last').after(htmlStr);\r\n                    $('#' + this.options.id + '_content col:last').after(htmlStr);\r\n                }\r\n            }else{\r\n                // 添加在下一个显示列之前\r\n                try{\r\n                    $('#' + this.options.id + '_header col:eq(' + (nextVisibleIndex) + ')')[0].insertAdjacentHTML('beforeBegin',htmlStr);\r\n                    $('#' + this.options.id + '_content col:eq(' + (nextVisibleIndex) + ')')[0].insertAdjacentHTML('beforeBegin',htmlStr);\r\n                }catch(e){\r\n                    $('#' + this.options.id + '_header col:eq(' + (nextVisibleIndex) + ')').before(htmlStr);\r\n                    $('#' + this.options.id + '_content col:eq(' + (nextVisibleIndex) + ')').before(htmlStr);\r\n                }\r\n            }\r\n            var newContentW = this.contentWidth + column.options.width;\r\n        }\r\n        // 隐藏处理\r\n        if(column.options.visible == true && !visible){\r\n            $('#' + this.options.id + '_header th:eq(' + index + ')').css('display', \"none\");\r\n            $('#' + this.options.id + '_header col:eq(' + visibleIndex + ')').remove();\r\n            $('#' + this.options.id + '_content th:eq(' + index + ')').css('display', \"none\");\r\n            $('#' + this.options.id + '_content col:eq(' + visibleIndex + ')').remove();\r\n            $('td:eq(' + index + ')',$('#' + this.options.id + '_content tbody tr')).css('display', \"none\");\r\n            // 隐藏之后需要判断总体宽度是否小于内容区最小宽度，如果小于需要将最后一列进行扩展\r\n            var newContentW = this.contentWidth - column.options.width;\r\n        }\r\n        column.options.visible = visible;\r\n        this.columnsVisibleFun();\r\n        var w = this.contentWidthChange(newContentW);\r\n        this.lastVisibleColumn.options.width = this.lastVisibleColumnWidth;\r\n        this.contentWidth = w;\r\n        this.resetThVariable();\r\n        this.saveGridCompColumnArrToLocal();\r\n    }\r\n};\r\n\r\n/*\r\n * 根据field设置宽度\r\n */\r\nconst setCoulmnWidthByField = function(field, newWidth){\r\n    var column = this.getColumnByField(field);\r\n    this.setColumnWidth(column, newWidth);\r\n};\r\n/*\r\n * 根据column对象设置宽度\r\n */\r\nconst setColumnWidth = function(column, newWidth){\r\n    if(column != this.lastVisibleColumn){\r\n        if (newWidth > this.minColumnWidth) {\r\n            var nowVisibleThIndex = this.getVisibleIndexOfColumn(column),\r\n            oldWidth = column.options.width,\r\n            changeWidth  = newWidth - oldWidth,\r\n            cWidth = this.contentWidth + changeWidth;\r\n            this.contentWidth = this.contentWidthChange(cWidth);\r\n            $('#' + this.options.id + '_header_table col:eq(' + nowVisibleThIndex + ')').css('width', newWidth + \"px\");\r\n            $('#' + this.options.id + '_content_table col:eq(' + nowVisibleThIndex + ')').css('width', newWidth + \"px\");\r\n\r\n            column.options.width = newWidth;\r\n            column.options.realWidth = newWidth;\r\n\r\n            this.resetThVariable();\r\n            this.saveGridCompColumnArrToLocal();\r\n        }\r\n    }\r\n};\r\n/*\r\n * 设置数据源\r\n */\r\nconst setDataSource = function(dataSource) {\r\n    this.initDataSourceVariable();\r\n    this.options.dataSource = dataSource;\r\n    this.initDataSource();\r\n    this.repairContent();\r\n    this.afterGridDivsCreate();\r\n};\r\n/*\r\n * 设置数据源 格式为：\r\n * {\r\n    fields:['column1','column2','column3','column4','column5','column6'],\r\n    values:[[\"cl1\",\"1\",\"cl3\",\"cl4\",\"cl5\",\"cl6\"]\r\n            ,[\"cl12\",\"2\",\"cl32\",\"cl42\",\"cl52\",\"cl62\"]\r\n            ,[\"cl13\",\"3\",\"cl33\",\"cl43\",\"cl53\",\"cl63\"]\r\n            ,[\"cl14\",\"4\",\"cl34\",\"cl44\",\"cl54\",\"cl64\"]\r\n            ,[\"cl15\",\"5\",\"cl35\",\"cl45\",\"cl55\",\"cl65\"]\r\n            ,[\"cl16\",\"6\",\"cl36\",\"cl46\",\"cl56\",\"cl66\"]\r\n        ]\r\n\r\n    }\r\n */\r\nconst setDataSourceFun1 = function(dataSource){\r\n    var dataSourceObj = {};\r\n    if(dataSource.values){\r\n        var valuesArr = new Array();\r\n        $.each(dataSource.values, function() {\r\n            if(dataSource.fields){\r\n                var valueObj = {},value = this;\r\n                $.each(dataSource.fields, function(j) {\r\n                    $(valueObj).attr(this,value[j])\r\n                });\r\n                valuesArr.push(valueObj);\r\n            }\r\n        });\r\n    }\r\n    $(dataSourceObj).attr('values',valuesArr);\r\n    this.setDataSource(dataSourceObj);\r\n};\r\nexport{\r\n    setColumnVisibleByColumn,\r\n    setColumnVisibleByIndex,\r\n    setCoulmnWidthByField,\r\n    setColumnWidth,\r\n    setDataSource,\r\n    setDataSourceFun1\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gridCompSet.js\n **/","/*\r\n * 整体宽度改变处理\r\n */\r\nconst widthChangeFun = function() {\r\n    var oThis = this;\r\n    if($('#' + this.options.id)[0]){\r\n        // 获取整体区域宽度\r\n        var w = $('#' + this.options.id).width()  //[0].offsetWidth;\r\n        if(this.wholeWidth != w){\r\n            this.wholeWidth = w;\r\n            // 树展开/合上的时候会导致页面出现滚动条导致宽度改变，没有&&之后会重新刷新页面导致无法收起\r\n            if (w > this.options.formMaxWidth && ((this.showType == 'form' || this.showType == '') || !$('#' + this.options.id + '_content_div tbody')[0]) || this.options.overWidthHiddenColumn) { //lyk--需要完善隐藏之后再显示同事添加数据操作\r\n                oThis.widthChangeGridFun();\r\n            } else if (w > 0 && w < this.options.formMaxWidth && (this.showType == 'grid' || this.showType == '')) {\r\n            }\r\n            if(w > this.options.formMaxWidth){\r\n                this.contentMinWidth = parseInt(this.wholeWidth) - parseInt(this.leftW) - parseInt(this.fixedWidth);\r\n                if(this.contentMinWidth < 0)\r\n                    this.contentMinWidth = 0;\r\n                setTimeout(function(){\r\n                    $('#' + oThis.options.id + '_header_wrap').css('max-width', (oThis.wholeWidth) + 'px');\r\n                    $('#' + oThis.options.id + '_content_div').css('width', oThis.contentMinWidth  + 'px');\r\n                    $('#' + oThis.options.id + '_content_table').css('min-width', oThis.contentMinWidth  + 'px');\r\n                    $('#' + oThis.options.id + '_content_table').css('width', oThis.contentMinWidth  + 'px');\r\n                    $('#' + oThis.options.id + '_header_table').css('min-width', oThis.contentMinWidth + 'px');\r\n                    $('#' + oThis.options.id + '_header_table').css('width', oThis.contentMinWidth + 'px');\r\n                    $('#' + oThis.options.id + '_noRowsShow').css('width', oThis.contentMinWidth + 'px');\r\n                    //滚动条可能发生变化导致grid内部列的宽度发生变化\r\n                    oThis.columnsVisibleFun();\r\n                    if(oThis.contentRealWidth < oThis.contentMinWidth){\r\n                        oThis.contentWidth = oThis.contentMinWidth;\r\n                    }else{\r\n                        oThis.contentWidth = oThis.contentRealWidth;\r\n                    }\r\n                    $('#' + oThis.options.id + '_noRows').css('width', oThis.contentWidth + 'px');\r\n                    if(typeof oThis.options.afterCreate == 'function'){\r\n                        oThis.options.afterCreate.call(oThis);\r\n                    }\r\n                },300);\r\n            }\r\n            $('#' + oThis.options.id + '_header_table').css('width', oThis.contentMinWidth + 'px');\r\n            $('#' + oThis.options.id + '_edit_form').css('width', oThis.contentMinWidth + 'px');\r\n        }\r\n\r\n    }\r\n};\r\n/*\r\n * 整体宽度改变处理(grid形式)\r\n */\r\nconst widthChangeGridFun = function() {\r\n    var oThis = this,halfWholeWidth = parseInt(this.wholeWidth/2);\r\n    this.widthChangeGridFunFixed(halfWholeWidth);\r\n    /* 如果宽度不足处理自动隐藏*/\r\n    this.widthChangeGridFunOverWidthHidden();\r\n    // 内容区域宽度自动扩展\r\n    this.contentMinWidth = parseInt(this.wholeWidth) - parseInt(this.leftW) - parseInt(this.fixedWidth);\r\n    if(this.contentMinWidth < 0)\r\n        this.contentMinWidth = 0;\r\n    if(this.contentRealWidth < this.contentMinWidth){\r\n        this.contentWidth = this.contentMinWidth;\r\n        var oldWidth = this.lastVisibleColumn.options.width;\r\n        this.lastVisibleColumnWidth = oldWidth + (this.contentMinWidth - this.contentRealWidth);\r\n        // modfied by tianxq1 最后一列自动扩展\r\n        this.lastVisibleColumn.options.width = this.lastVisibleColumnWidth;\r\n    }else{\r\n        this.contentWidth = this.contentRealWidth;\r\n    }\r\n    this.createGridFlag = false;\r\n    this.createGridDivs();\r\n    $('#' + this.options.id + '_form').css('display', 'none');\r\n    $('#' + this.options.id + '_grid').css('display', 'block');\r\n};\r\nconst widthChangeGridFunFixed = function(halfWholeWidth){\r\n};\r\nconst widthChangeGridFunOverWidthHidden = function(){\r\n};\r\n/*\r\n * 整体高度改变处理\r\n */\r\nconst heightChangeFun = function() {\r\n    if(this.countContentHeight){\r\n        var oldH = this.wholeHeight,h = $('#' + this.options.id)[0].offsetHeight;\r\n        this.wholeHeight = h;\r\n        if (oldH != h && h > 0) {\r\n            var contentH = h - this.exceptContentHeight - 1 > 0 ? h - this.exceptContentHeight -1 : 0;\r\n            $('#' + this.options.id + '_content').css('height', contentH + 'px');\r\n            $('#' + this.options.id + '_content_div').css('height', contentH + 'px');\r\n        }\r\n    }\r\n};\r\n/*\r\n * 内容区宽度改变\r\n */\r\nconst contentWidthChange = function(newContentWidth){\r\n    if(newContentWidth < this.contentMinWidth){\r\n        var oldW = this.lastVisibleColumn.options.width;\r\n        this.lastVisibleColumnWidth = oldW + (this.contentMinWidth - newContentWidth);\r\n        $('#' + this.options.id + '_header_table col:last').css('width', this.lastVisibleColumnWidth + \"px\");\r\n        $('#' + this.options.id + '_content_table col:last').css('width', this.lastVisibleColumnWidth + \"px\");\r\n        newContentWidth = this.contentMinWidth;\r\n    }\r\n\r\n    if(newContentWidth > this.contentMinWidth){\r\n        // 首先处理扩展列的宽度为原有宽度，然后再扩展最后一列\r\n        var l = this.overWidthVisibleColumnArr.length;\r\n        if(l > 0){\r\n            for(var i = 0; i < l; i++){\r\n                var overWidthColumn = this.overWidthVisibleColumnArr[i];\r\n                var nowVisibleIndex = this.getVisibleIndexOfColumn(overWidthColumn);\r\n                var w = overWidthColumn.options.width;\r\n                var realW = overWidthColumn.options.realWidth;\r\n                $('#' + this.options.id + '_header_table col:eq(' + nowVisibleIndex + ')').css('width', realW + \"px\");\r\n                $('#' + this.options.id + '_content_table col:eq(' + nowVisibleIndex + ')').css('width', realW + \"px\");\r\n                newContentWidth = newContentWidth - (w - realW);\r\n                overWidthColumn.options.width = overWidthColumn.options.realWidth;\r\n            }\r\n            if(newContentWidth < this.contentMinWidth){\r\n                var oldW = this.lastVisibleColumn.options.width;\r\n                this.lastVisibleColumnWidth = oldW + (this.contentMinWidth - newContentWidth);\r\n                $('#' + this.options.id + '_header_table col:last').css('width', this.lastVisibleColumnWidth + \"px\");\r\n                $('#' + this.options.id + '_content_table col:last').css('width', this.lastVisibleColumnWidth + \"px\");\r\n                this.lastVisibleColumn.options.width = this.lastVisibleColumnWidth;\r\n                newContentWidth = this.contentMinWidth;\r\n            }\r\n        }\r\n        if(newContentWidth > this.contentMinWidth){\r\n            $('#' + this.options.id + '_content_left_bottom').css('display','block');\r\n            $('#' + this.options.id + '_content_left_sum_bottom').css('bottom',16);\r\n        }else{\r\n            $('#' + this.options.id + '_content_left_bottom').css('display','none');\r\n            $('#' + this.options.id + '_content_left_sum_bottom').css('bottom',0);\r\n        }\r\n    }else{\r\n        $('#' + this.options.id + '_content_left_bottom').css('display','none');\r\n        $('#' + this.options.id + '_content_left_sum_bottom').css('bottom',0);\r\n    }\r\n    $('#' + this.options.id + '_content_table').css('width', newContentWidth + \"px\");\r\n    $('#' + this.options.id + '_noRows').css('width', newContentWidth + \"px\");\r\n    return newContentWidth;\r\n};\r\nexport{\r\n    widthChangeFun,\r\n    widthChangeGridFun,\r\n    widthChangeGridFunFixed,\r\n    widthChangeGridFunOverWidthHidden,\r\n    heightChangeFun,\r\n    contentWidthChange\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gridCompWDChange.js\n **/","/*\r\n * 双击/单击处理\r\n */\r\nconst isDblEvent = function(eventname,dbFun,dbArg,Fun,Arg){\r\n\tif (this.currentEventName != null && this.currentEventName == eventname){\r\n\t\tdbFun.call(this,dbArg);\r\n\t\tthis.currentEventName = null;\r\n\t\tif (this.cleanCurrEventName)\r\n\t\t\tclearTimeout(this.cleanCurrEventName);\r\n\t}else{\r\n\t\tvar oThis = this;\r\n\t\tif (this.cleanCurrEventName)\r\n\t\t\tclearTimeout(this.cleanCurrEventName);\r\n\t\tthis.currentEventName = eventname;\r\n\t\tthis.cleanCurrEventName =  setTimeout(function(){\r\n\t\t\toThis.currentEventName = null;\r\n\t\t\tFun.call(oThis,Arg);\r\n\t\t},250);\r\n\t}\r\n};\r\n/*\r\n * 双击处理\r\n */\r\nconst dblClickFun = function(e){\r\n\tif(typeof this.options.onDblClickFun == 'function'){\r\n\t\tvar $tr = $(e.target).closest('tr');\r\n\t\tif($tr[0].id == this.options.id + '_edit_tr'){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar index = 0;\r\n\t\tif($tr.length > 0){\r\n\t\t\tindex = this.getTrIndex($tr);\r\n\t\t}\r\n\t\tvar obj = {};\r\n\t\tobj.gridObj = this;\r\n\t\tobj.rowObj = this.dataSourceObj.rows[index];\r\n\t\tobj.rowIndex = index;\r\n\t\tthis.options.onDblClickFun(obj);\r\n\t}\r\n};\r\n/*\r\n * 单击处理\r\n */\r\nconst clickFun = function(e){\r\n\tvar oThis = this;\r\n\r\n\r\n\t// 处理focus事件\r\n\tvar $tr = $(e.target).closest('tr');\r\n\tif($tr.length > 0 && $tr[0].id == this.options.id + '_edit_tr'){\r\n\t\treturn;\r\n\t}\r\n\tvar index = this.getTrIndex($tr);\r\n\tif(typeof this.options.onBeforeClickFun == 'function'){\r\n\t\tvar obj = {};\r\n\t\tobj.gridObj = this;\r\n\t\tobj.rowObj = this.dataSourceObj.rows[index];\r\n\t\tobj.rowIndex = index;\r\n\t\tobj.e = e;\r\n\t\tif(!this.options.onBeforeClickFun(obj)){\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t// 处理树表展开/合上\r\n\tthis.clickFunTree(e);\r\n\tif($tr.length > 0){\r\n\r\n\t\tvar row = oThis.dataSourceObj.rows[index];\r\n\t\tif(row){\r\n\t\t\tif(oThis.options.rowClickBan){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar rowChildIndex = row.childRowIndex;\r\n\t\t\tif(oThis.dataSourceObj.rows[index].focus && oThis.options.cancelFocus){\r\n\t\t\t\toThis.setRowUnFocus(index);\r\n\t\t\t}else{\r\n\t\t\t\tif(!oThis.dataSourceObj.rows[index].focus){\r\n\t\t\t\t\toThis.setRowFocus(index);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.clickFunEdit(e,index);\r\n\t\t}\r\n\t}\r\n};\r\nconst clickFunTree = function(e){\r\n};\r\nconst clickFunEdit = function(e){\r\n};\r\nexport{\r\n    isDblEvent,\r\n    dblClickFun,\r\n    clickFun,\r\n    clickFunTree,\r\n    clickFunEdit\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gridCompClick.js\n **/","/*\r\n * 更新最后数据行标识\r\n */\r\nconst updateLastRowFlag = function(){\r\n    // 共享服务加的，没有对应的css暂时去掉\r\n    return;\r\n    var rows =$('#' + this.options.id + '_content_tbody').find('tr[role=row]')\r\n    for(var i=0, count = rows.length; i<count; i++){\r\n        if (i == count -1)\r\n            $(rows[i]).addClass('last-row')\r\n        else\r\n            $(rows[i]).removeClass('last-row')\r\n    }\r\n};\r\nconst updateNumColLastRowFlag = function(){\r\n    // 共享服务加的，没有对应的css暂时去掉\r\n    return;\r\n    var numCols =$('#' + this.options.id + '_content_numCol').find('.u-grid-content-num')\r\n    for(var i=0, count = numCols.length; i<count; i++){\r\n        if (i == count -1)\r\n            $(numCols[i]).addClass('last-row')\r\n        else\r\n            $(numCols[i]).removeClass('last-row')\r\n    }\r\n};\r\n\r\n/*\r\n * column是否显示处理，只在初始化gridCompColumn对象时调用，其他时候不再调用\r\n * 计算固定区域及内容区域的真实宽度\r\n * 计算第一列\r\n * 计算内容区域最后一列显示列\r\n */\r\nconst columnsVisibleFun = function(){\r\n    var oThis = this,\r\n        w = 0;\r\n    this.firstColumn = true;\r\n    this.overWidthVisibleColumnArr = new Array();\r\n    $.each(this.gridCompColumnArr,function(){\r\n        if(this.options.visible){\r\n            w += parseInt(this.options.width);\r\n            if(this.options.width > this.options.realWidth){\r\n                oThis.overWidthVisibleColumnArr.push(this);\r\n            }\r\n            this.firstColumn = oThis.firstColumn;\r\n            oThis.firstColumn = false;\r\n            oThis.lastVisibleColumn = this;\r\n            oThis.lastVisibleColumnWidth = this.options.width;\r\n        }\r\n    });\r\n    this.contentRealWidth = w;\r\n};\r\n/*\r\n * 创建完成之后处理变量\r\n */\r\nconst resetThVariable = function() {\r\n    if(this.showType != 'grid')\r\n        return;\r\n    var oThis = this;\r\n    this.contentWidth = 0;\r\n\r\n    // 记录每列宽度及当前宽度之和\r\n    $('#' + this.options.id + '_header_table th', this.$ele).each(function(i) {  //会出现th多于列的情况，发现问题之后再看下为什么\r\n        var gridCompColumn = oThis.gridCompColumnArr[i];\r\n        var w = 0;\r\n        if(gridCompColumn.options.visible){\r\n            w = gridCompColumn.options.width;\r\n        }\r\n        this.attrLeftTotalWidth = oThis.contentWidth;\r\n        oThis.contentWidth += w;\r\n        oThis.resetThVariableDrag(this,gridCompColumn,w);\r\n        this.gridCompColumn = gridCompColumn;\r\n        this.attrWidth = w;\r\n        this.attrRightTotalWidth = oThis.contentWidth;\r\n\r\n    });\r\n    oThis.resetThVariableHeaderLevel();\r\n};\r\nconst resetThVariableDrag = function(nowTh,gridCompColumn){\r\n};\r\nconst resetThVariableHeaderLevel = function(){\r\n};\r\n\r\n/*\r\n * 修改第一列的css\r\n */\r\nconst headerFirstClassFun = function(){\r\n    $('#' + this.options.id + '_grid .u-grid-header-th-first').removeClass('u-grid-header-th-first');\r\n    $('#' + this.options.id + '_grid').find('th').eq(0).addClass('u-grid-header-th-first');\r\n};\r\n\r\n/*\r\n * 根据filed设置renderType\r\n */\r\nconst setRenderType = function(field,renderType){\r\n    var gridCompColumn = this.getColumnByField(field);\r\n    gridCompColumn.options.renderType = renderType;\r\n    var index = this.getIndexOfColumn(gridCompColumn);\r\n    this.renderTypeByColumn(gridCompColumn,index);\r\n};\r\n/*\r\n * 设置是否显示header\r\n */\r\nconst setShowHeader = function(showHeader){\r\n    this.options.showHeader = showHeader;\r\n    if(showHeader){\r\n        $('#' + this.options.id + '_header').css('display',\"block\");\r\n    }else{\r\n        $('#' + this.options.id + '_header').css('display',\"none\");\r\n    }\r\n};\r\nconst setColumnPrecision = function(field,precision){\r\n    var gridColumn = this.getColumnByField(field);\r\n    gridColumn.options.precision = precision;\r\n    this.renderTypeFun();\r\n    if(this.options.showSumRow){\r\n        this.repairSumRow();\r\n    }\r\n};\r\nconst setMultiSelect = function(multiSelect){\r\n    var oldMultiSelect = this.options.multiSelect;\r\n    if(oldMultiSelect != multiSelect){\r\n        this.options.multiSelect = multiSelect;\r\n        this.initGrid();\r\n    }\r\n};\r\nconst setShowNumCol = function(showNumCol){\r\n    var oldShowNumCol = this.options.showNumCol;\r\n    if(oldShowNumCol != showNumCol){\r\n        this.options.showNumCol = showNumCol;\r\n        this.initGrid();\r\n    }\r\n};\r\nconst isGridShow = function(){\r\n    if(this.showType == 'grid')\r\n        return true;\r\n    return false;\r\n};\r\nconst getBoolean = function(value){\r\n    if(value === 'true' || value === true)\r\n        return true;\r\n    return false;\r\n};\r\nexport{\r\n    updateLastRowFlag,\r\n    updateNumColLastRowFlag,\r\n    columnsVisibleFun,\r\n    resetThVariable,\r\n    resetThVariableDrag,\r\n    resetThVariableHeaderLevel,\r\n    headerFirstClassFun,\r\n    setRenderType,\r\n    setShowHeader,\r\n    setColumnPrecision,\r\n    setMultiSelect,\r\n    setShowNumCol,\r\n    isGridShow,\r\n    getBoolean\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/gridCompOther.js\n **/","import {gridBrowser} from './gridBrowser';\r\n\r\n/*\r\n * 对宽度和高度进行处理\r\n */\r\nconst formatWidth = function(w) { // 获得宽度\r\n    if(w){\r\n        return (w + \"\").indexOf(\"%\") > 0 ? w : parseInt(w) + \"px\";\r\n    }else{\r\n        return '';\r\n    }\r\n};\r\n/*\r\n * 两个元素交换位置，要求传入参数e1在e2之前\r\n */\r\nconst swapEle = function(e1, e2) {\r\n    var n = e1.next(),\r\n        p = e2.prev();\r\n    e2.insertBefore(n);\r\n    e1.insertAfter(p);\r\n};\r\nconst getString = function(value,defaultValue){\r\n    if(value === null || value === undefined || value === 'null' || value === 'undefined' || value === \"\"){\r\n        value = defaultValue;\r\n    }\r\n    if(gridBrowser.isIE8){\r\n        return [value].join(\"\");\r\n    }else{\r\n        return value + \"\";\r\n    }\r\n};\r\nconst getInt = function(value,defaultValue){\r\n    if(value === null || value === undefined || value === 'null' || value === 'undefined' || value === \"\" || isNaN(value)){\r\n        value = defaultValue;\r\n    }\r\n    return value;\r\n};\r\nconst getFloat = function(value,defaultValue){\r\n    if(value === null || value === undefined || value === 'null' || value === 'undefined' || value === \"\" || isNaN(value)){\r\n        value = defaultValue;\r\n    }\r\n    return value;\r\n};\r\n/*\r\n * 克隆对象\r\n */\r\nconst cloneObj = function(obj){\r\n    var o;\r\n    if(typeof obj == \"object\"){\r\n        if(obj === null){\r\n            o = null;\r\n        }else{\r\n            if(obj instanceof Array){\r\n                o = [];\r\n                for(var i = 0, len = obj.length; i < len; i++){\r\n                    o.push(this.cloneObj(obj[i]));\r\n                }\r\n            }else{\r\n                o = {};\r\n                for(var k in obj){\r\n                    o[k] = this.cloneObj(obj[k]);\r\n                }\r\n            }\r\n        }\r\n    }else{\r\n        o = obj;\r\n    }\r\n    return o;\r\n};\r\n/*\r\n * 处理精度\r\n */\r\nconst DicimalFormater = function(obj){\r\n    var value = obj.value + '',precision = obj.precision;\r\n    for ( var i = 0; i < value.length; i++) {\r\n        if (\"-0123456789.\".indexOf(value.charAt(i)) == -1)\r\n            return \"\";\r\n    }\r\n    return this.checkDicimalInvalid(value, precision);\r\n};\r\nconst checkDicimalInvalid = function(value,precision){\r\n    if (value == null || isNaN(value))\r\n        return \"\";\r\n    // 浮点数总位数不能超过10位\r\n    var digit = parseFloat(value);\r\n    var result = (digit * Math.pow(10, precision) / Math.pow(10, precision))\r\n            .toFixed(precision);\r\n    if (result == \"NaN\")\r\n        return \"\";\r\n    return result;\r\n};\r\nconst accAdd = function(v1,v2){\r\n    var r1,r2,m;\r\n    try{\r\n        r1 = v1.toString().split('.')[1].length;\r\n    }catch(e){\r\n        r1 = 0;\r\n    }\r\n    try{\r\n        r2 = v2.toString().split('.')[1].length;\r\n    }catch(e){\r\n        r2 = 0;\r\n    }\r\n    m = Math.pow(10,Math.max(r1,r2))\r\n    return (v1 * m + v2 * m)/m;\r\n};\r\nconst getTrIndex = function($tr){\r\n    return $('tr[id!=\"' + this.options.id +'_edit_tr\"]',$tr.parent()).index($tr);\r\n};\r\nexport{\r\n    formatWidth,\r\n    swapEle,\r\n    getString,\r\n    getInt,\r\n    getFloat,\r\n    cloneObj,\r\n    DicimalFormater,\r\n    accAdd,\r\n    getTrIndex\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/ut_utility.js\n **/","import {\r\n\tinitEventFun,\r\n    initGridEventFun\r\n} from './gridCompEvent';\r\n\r\nimport {\r\n    initGridCompColumn\r\n} from './gridCompInit';\r\n\r\nconst re_initGridCompColumnColumnMenuFun = function(columnOptions){\r\n\tvar column1 = new this.gridCompColumn(columnOptions, this);\r\n\t\tcolumn1.options.realWidth = column1.options.width;\r\n\t\tthis.basicGridCompColumnArr.push(column1);\r\n};\r\n\r\nconst colMenu_initGridCompColumn = function(){\r\n\t// 扩展方法\r\n\tthis.menuColumnsHeight = this.gridCompColumnArr.length * this.columnMenuHeight;\r\n};\r\n\r\nconst re_createColumnMenu = function() {\r\n\tvar oThis = this;\r\n\tvar htmlStr = '<div class=\"u-grid-column-menu\" id=\"' + this.options.id + '_column_menu\">';\r\n\thtmlStr += '<ul data-role=\"menu\" role=\"menubar\" class=\"u-grid-column-menu-ul\" id=\"' + this.options.id + '_column_menu_ul\">';\r\n\r\n\t// 创建清除设置\r\n\thtmlStr += '<li class=\"u-grid-column-menu-li\" role=\"menuitem\">';\r\n\thtmlStr += '<div class=\"u-grid-column-menu-div1\" id=\"' + this.options.id + '_clearSet\">';\r\n\thtmlStr += '<span class=\"u-grid-column-menu-span\">' + this.transMap.ml_clear_set + '</span>';\r\n\thtmlStr += '</div></li>';\r\n\r\n\r\n\thtmlStr += '<div class=\"u-grid-column-menu-columns\" id=\"' + this.options.id + '_column_menu_columns\">';\r\n\thtmlStr += '<ul data-role=\"menu\" role=\"menubar\" class=\"u-grid-column-menu-columns-ul\" id=\"' + this.options.id + '_column_menu_columns_ul\">';\r\n\t$.each(this.gridCompColumnArr, function(i) {\r\n\t\tif(oThis.getString(this.options.title,'') != ''){\r\n\t\t\thtmlStr += '<li class=\"u-grid-column-menu-columns-li\" role=\"menuitem\" index=\"' + i + '\">';\r\n\t\t\thtmlStr += '<div class=\"u-grid-column-menu-columns-div1\">';\r\n\t\t\tvar checkedStr = \"\";\r\n\t\t\tif(this.options.visible)\r\n\t\t\t\tcheckedStr = ' checked';\r\n\t\t\tif(!this.options.canVisible)\r\n\t\t\t\tcheckedStr += ' style=\"display:none;\"';\r\n\t\t\thtmlStr += '<div class=\"u-grid-column-menu-columns-div2\"><input type=\"checkbox\" ' + checkedStr + '></div>';\r\n\t\t\thtmlStr += '<span class=\"u-grid-column-menu-columns-span\">' + this.options.title + '</span>';\r\n\t\t\thtmlStr += '</div></li>';\r\n\t\t}\r\n\t});\r\n\thtmlStr += '</ul></div>';\r\n\r\n\r\n\thtmlStr += '</ul></div>';\r\n\r\n\t// 创建数据列区域\r\n\r\n\treturn htmlStr;\r\n};\r\n\r\nconst colMenu_initEventFun = function(){\r\n\t// 扩展方法\r\n\tvar oThis = this;\r\n\t$('#' + this.options.id).on('mouseup', function(e) {\r\n\t\tif ($(e.target).closest('#' + oThis.options.id + '_header').length > 0) {\r\n\t\t\t// 点击的是header区域\r\n\t\t\toThis.mouseUpX = e.clientX;\r\n\t\t\toThis.mouseUpY = e.clientY;\r\n\t\t\t//点击过程中鼠标没有移动\r\n\t\t\tif (oThis.mouseDownX == oThis.mouseUpX && oThis.mouseDownY == oThis.mouseUpY) {\r\n\t\t\t//或者移动距离小于5px(由于移动之后会显示屏幕div，暂时不做处理)\r\n\t\t\t\toThis.columnClickX = e.clientX;\r\n\t\t\t\toThis.columnClickY = e.clientY;\r\n\t\t\t\tvar eleTh = $(e.target).closest('th')[0];\r\n\t\t\t\tif($(e.target).hasClass('u-grid-header-columnmenu')){\r\n\t\t\t\t\t//点击的是columnmenu\r\n\t\t\t\t\t$('#' + oThis.options.id + '_column_menu').css('display','block');\r\n\r\n\r\n\t\t\t\t\t// 根据点击位置来显示column menu区域\r\n\t\t\t\t\tvar left = e.clientX - 160;\r\n\t\t\t\t\tif(left < 0)\r\n\t\t\t\t\t\tleft = 0;\r\n\t\t\t\t\tvar top = e.clientY + 10;\r\n\t\t\t\t\t$('#' + oThis.options.id + '_column_menu').css('left',left);\r\n\t\t\t\t\t$('#' + oThis.options.id + '_column_menu').css('top',top);\r\n\t\t\t\t\t/*数据列多的情况下处理显示的高度*/\r\n\r\n\t\t\t\t\tvar sX = $(window).width();\r\n\t\t\t\t\tvar sH = $(window).height();\r\n\r\n\t\t\t\t\t// 如果数据列高度高于屏幕高度则数据列高度设置为屏幕高度-10；\r\n\t\t\t\t\tvar columnsHeight = oThis.menuColumnsHeight;\r\n\t\t\t\t\tif((oThis.menuColumnsHeight + top + 34) > sH){\r\n\t\t\t\t\t\tcolumnsHeight = sH - top - 34;\r\n\t\t\t\t\t\t$('#' + oThis.options.id + '_column_menu_columns').css('height',columnsHeight + 'px');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$('#' + oThis.options.id + '_column_menu_columns').css('height','');\r\n\t\t\t\t\t}\r\n\t\t\t\t\toThis.ele.createColumnMenuFlag = true;\r\n\t\t\t\t}else{\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if ($(e.target).closest('#' + oThis.options.id + '_content').length > 0) {\r\n\t\t\t// 点击的是数据区域\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t$(document).on('click',function(){\r\n\t\tif(oThis.columnMenuMove == false && oThis.ele.createColumnMenuFlag == false){\r\n\t\t\t$('#' + oThis.options.id + '_column_menu').css('display','none');\r\n\t\t}\r\n\t\toThis.ele.createColumnMenuFlag = false;\r\n\t});\r\n};\r\n\r\nconst colMenu_initGridEventFun = function(){\r\n\t// 扩展方法\r\n\tvar oThis = this;\r\n\r\n\t/*header 按钮处理开始*/\r\n\t// column按钮\r\n\t$('#' + this.options.id + '_column_menu_ul').on('mousemove', function(e) {\r\n\t\toThis.columnMenuMove = true;\r\n\t});\r\n\t$('#' + this.options.id + '_column_menu_ul').on('mouseout', function(e) {\r\n\t\toThis.columnMenuMove = false;\r\n\t});\r\n\r\n\t// 清除设置按钮\r\n\t$('#' + this.options.id + '_clearSet').on('click', function(e) {\r\n\t\toThis.clearLocalData();\r\n\t\toThis.initGridCompColumn();\r\n\t\t// 清除排序\r\n\t\toThis.dataSourceObj.sortRows();\r\n\t\toThis.repaintGridDivs();\r\n\t\tif(typeof oThis.options.onClearSetFun == 'function'){\r\n\t\t\toThis.options.onClearSetFun(oThis);\r\n\t\t}\r\n\t});\r\n\t// 显示/隐藏列 对应所有列的点击处理\r\n\t$('#' + this.options.id + '_column_menu_columns_ul li input').on('click', function(e) {\r\n\t\t//待完善 优化与li的click的代码整合\r\n\t\tvar index = $(this).closest('li').attr('index');\r\n\r\n\t\tif(oThis.gridCompColumnArr[index].options.visible){\r\n\t\t\t$(this)[0].checked = false;\r\n\t\t\tvar ll = $('input:checked',$('#' + oThis.options.id + '_column_menu_columns_ul')).length;\r\n\t\t\tif(ll == 0){\r\n\t\t\t\t$(this)[0].checked = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(document.documentMode == 8){\r\n\t\t\t\tvar oldScrollTop = $('#' + oThis.options.id + '_column_menu_columns')[0].scrollTop;\r\n\t\t\t\tvar oldTop = $('#' + oThis.options.id + '_column_menu_columns')[0].style.top;\r\n\t\t\t\toThis.gridCompColumnArr[index].options.visible = false;\r\n\t\t\t\toThis.repaintGridDivs();\r\n\t\t\t\t$('#' + oThis.options.id + '_column_menu').css('display','block');\r\n\t\t\t\t$('#' + oThis.options.id + '_column_menu').css('right','0px');\r\n\t\t\t\t$('#' + oThis.options.id + '_column_menu').css('top',oldTop);\r\n\t\t\t\t$('#' + oThis.options.id + '_column_menu_columns')[0].scrollTop = oldScrollTop;\r\n\r\n\t\t\t}else{\r\n\t\t\t\toThis.setColumnVisibleByIndex(index,false);\r\n\t\t\t\toThis.gridCompColumnArr[index].options.visible = false;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\t$(this)[0].checked = true;\r\n\r\n\t\t\tif(document.documentMode == 8){\r\n\t\t\t\tvar oldScrollTop = $('#' + oThis.options.id + '_column_menu_columns')[0].scrollTop;\r\n\t\t\t\tvar oldTop = $('#' + oThis.options.id + '_column_menu_columns')[0].style.top;\r\n\t\t\t\toThis.gridCompColumnArr[index].options.visible = true;\r\n\t\t\t\toThis.repaintGridDivs();\r\n\t\t\t\t$('#' + oThis.options.id + '_column_menu').css('display','block');\r\n\t\t\t\t$('#' + oThis.options.id + '_column_menu').css('right','0px');\r\n\t\t\t\t$('#' + oThis.options.id + '_column_menu').css('top',oldTop);\r\n\t\t\t\t$('#' + oThis.options.id + '_column_menu_columns')[0].scrollTop = oldScrollTop;\r\n\t\t\t}else{\r\n\t\t\t\toThis.setColumnVisibleByIndex(index,true);\r\n\t\t\t\toThis.gridCompColumnArr[index].options.visible = true;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\toThis.saveGridCompColumnArrToLocal();\r\n\t\te.stopPropagation();\r\n\t});\r\n\t$('#' + this.options.id + '_column_menu_columns_ul li').on('click', function(e) {\r\n\t\tvar index = $(this).attr('index');\r\n\t\tvar gridCompColumn = oThis.gridCompColumnArr[index];\r\n\t\tif(!gridCompColumn.options.canVisible){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t//获取选中列数量，不能小于1\r\n\t\tif(gridCompColumn.options.visible){\r\n\t\t\t$('input',$(this))[0].checked = false;\r\n\t\t\tvar ll = $('input:checked',$('#' + oThis.options.id + '_column_menu_columns_ul')).length;\r\n\t\t\tif(ll == 0){\r\n\t\t\t\t$('input',$(this))[0].checked = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\toThis.setColumnVisibleByIndex(index,false);\r\n\t\t\toThis.gridCompColumnArr[index].options.visible = false;\r\n\t\t}else{\r\n\t\t\t$('input',$(this))[0].checked = true;\r\n\t\t\toThis.setColumnVisibleByIndex(index,true);\r\n\t\t\toThis.gridCompColumnArr[index].options.visible = true;\r\n\t\t}\r\n\t\toThis.saveGridCompColumnArrToLocal();\r\n\t});\r\n\t/*header 按钮处理结束*/\r\n};\r\n\r\nexport{\r\n\tre_initGridCompColumnColumnMenuFun,\r\n\tcolMenu_initGridCompColumn,\r\n\tre_createColumnMenu,\r\n\tcolMenu_initEventFun,\r\n\tcolMenu_initGridEventFun\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/re_gridCompColMenu.js\n **/","import {\r\n\tinitEventFun,\r\n    initGridEventFun\r\n} from './gridCompEvent';\r\n\r\nconst re_createHeaderDrag = function(){\r\n\treturn '<div class=\"u-grid-header-resize-handle\" id=\"' + this.options.id + '_resize_handle\"><div class=\"u-grid-header-resize-handle-inner\"></div></div>';\r\n};\r\n\r\nconst drag_initEventFun = function(){\r\n\t// 扩展方法\r\n\tvar oThis = this;\r\n\r\n\t$('#' + this.options.id).on('mousemove', function(e) {\r\n\t\tif ($(e.target).closest('#' + oThis.options.id + '_header').length > 0) {\r\n\t\t\t// 在header区域移动\r\n\t\t\tvar eleTh = $(e.target).closest('th')[0];\r\n\t\t\t// 将其他列的操作按钮隐藏，显示当前列的\r\n\t\t\toThis.headerThDrag(e, eleTh);\r\n\t\t}\r\n\r\n\t\toThis.dragFun(e);\r\n\t\te.stopPropagation();\r\n\t});\r\n\t$('#' + this.options.id + '_top').on('mousemove', function(e) {\r\n\t\toThis.dragFun(e);\r\n\t\te.stopPropagation();\r\n\t});\r\n\r\n\t$('#' + this.options.id).on('mouseup', function(e) {\r\n\t\toThis.dragEnd(e);\r\n\t});\r\n\r\n\t$('#' + this.options.id+ '_top').on('mouseup', function(e) {\r\n\t\toThis.dragEnd(e);\r\n\t});\r\n\r\n};\r\n\r\nconst drag_initGridEventFun = function(){\r\n\t// 扩展方法\r\n\tvar oThis = this;\r\n\t$('#' + this.options.id + '_resize_handle').on('mousedown', function(e) {\r\n\t\toThis.dragStart(e);\r\n\t\treturn false;\r\n\t});\r\n};\r\n/*\r\n * 拖动开始\r\n */\r\nconst dragStart = function(e) {\r\n\tthis.dragFlag = true;\r\n\tthis.dragW = null;\r\n\tthis.dragStartX = e.clientX;\r\n};\r\n/*\r\n * 改变列宽度处理\r\n */\r\nconst dragFun = function(e) {\r\n\tif (this.dragFlag) {\r\n\t\tvar nowTh = $('#' + this.options.id + '_resize_handle')[0].nowTh,\r\n\t\t\t$nowTh = $(nowTh),\r\n\t\t\tnowThIndex = $nowTh.attr('index'),\r\n\t\t\tcolumn = this.gridCompColumnArr[nowThIndex];\r\n\t\t\tnowVisibleThIndex = this.getVisibleIndexOfColumn(column);\r\n\t\tif (nowTh && column != this.lastVisibleColumn) {\r\n\t\t\tthis.dragEndX = e.clientX;\r\n\t\t\tvar changeWidth = this.dragEndX - this.dragStartX,\r\n\t\t\t\tnewWidth = nowTh.attrWidth + changeWidth;\r\n\t\t\t\tcWidth = this.contentWidth + changeWidth;\r\n\t\t\tif (newWidth > this.minColumnWidth) {\r\n\t\t\t\tthis.dragW = this.contentWidthChange(cWidth);\r\n\t\t\t\t$('#' + this.options.id + '_header_table col:eq(' + nowVisibleThIndex + ')').css('width', newWidth + \"px\");\r\n\t\t\t\t$('#' + this.options.id + '_content_table col:eq(' + nowVisibleThIndex + ')').css('width', newWidth + \"px\");\r\n\r\n\t\t\t\tcolumn.options.width = newWidth;\r\n\t\t\t\tcolumn.options.realWidth = newWidth;\r\n\t\t\t}\r\n\t\t}\r\n\t\t$('#' + this.options.id + '_top').css('display', 'block');\r\n\t}\r\n};\r\n/*\r\n * 拖动结束\r\n */\r\nconst dragEnd = function(e) {\r\n\tif (this.dragFlag) {\r\n\t\tthis.resetThVariable();\r\n\t\tthis.saveGridCompColumnArrToLocal();\r\n\t}\r\n\tthis.lastVisibleColumn.options.width = this.lastVisibleColumnWidth;\r\n\tif(this.dragW)\r\n\t\tthis.contentWidth = this.dragW;\r\n\t$('#' + this.options.id + '_resize_handle')[0].nowTh = null;\r\n\tthis.dragFlag = false;\r\n\t$('#' + this.options.id + '_top').css('display', 'none');\r\n};\r\n\r\n/*\r\n * 计算拖动div所在位置\r\n */\r\nconst headerThDrag = function(e, ele) {\r\n\tif (!this.dragFlag && !this.swapColumnFlag && ele && ele.gridCompColumn && ele.gridCompColumn.options.canDrag && $('#' + this.options.id + '_resize_handle')[0].nowTh != ele) {\r\n\t\tvar $ele = $(ele);\r\n\t\t$('#' + this.options.id + '_resize_handle').css('left', ele.attrRightTotalWidth - this.scrollLeft - 4 + this.leftW + this.fixedWidth);\r\n\t\t$('#' + this.options.id + '_resize_handle')[0].nowTh = ele;\r\n\t}\r\n};\r\nconst re_resetThVariableDrag = function(nowTh,gridCompColumn,width){\r\n\tif (!$('#' + this.options.id + '_resize_handle')[0].nowTh && gridCompColumn.options.canDrag) {\r\n\t\t$('#' + this.options.id + '_resize_handle').css('left', width - 4 + this.leftW);\r\n\t\t$('#' + this.options.id + '_resize_handle')[0].nowTh = nowTh;\r\n\t}\r\n};\r\nexport{\r\n    re_createHeaderDrag,\r\n    drag_initEventFun,\r\n    drag_initGridEventFun,\r\n    dragStart,\r\n    dragFun,\r\n    dragEnd,\r\n    headerThDrag,\r\n    re_resetThVariableDrag\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/re_gridCompDrag.js\n **/","import {\r\n\tinitEventFun\r\n} from './gridCompEvent';\r\n\r\nconst re_hideEditMenu = function(){\r\n\t$('#' +this.options.id + '_content_edit_menu').css('display','none');\r\n};\r\n\r\nconst re_clickFunEdit = function(e,index){\r\n\tvar $tr = $(e.target).closest('tr');\r\n\tvar $td = $(e.target).closest('td');\r\n\tvar colIndex = $td.index();\r\n\tif(this.options.editable && (this.eidtRowIndex != index || (this.options.editType == 'default' && this.editColIndex != colIndex))){\r\n\t\tif(typeof this.options.onBeforeEditFun == 'function'){\r\n\t\t\tvar obj = {};\r\n\t\t\tobj.gridObj = this;\r\n\t\t\tobj.rowObj = this.dataSourceObj.rows[index];\r\n\t\t\tobj.rowIndex = index;\r\n\t\t\tobj.colIndex = colIndex;\r\n\t\t\tobj.$tr = $tr;\r\n\t\t\tobj.e = e;\r\n\t\t\tif(!this.options.onBeforeEditFun(obj)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.editRowFun($tr,colIndex);\r\n\t}\r\n};\r\n\r\nconst editRowFun = function($tr, colIndex){\r\n\tif(this.eidtRowIndex != -1){\r\n\t\tthis.editClose();\r\n\t}\r\n\tvar index = typeof $tr === 'number' ? $tr : this.getTrIndex($tr);\r\n\tthis.eidtRowIndex = index;\r\n\tthis.editColIndex = colIndex;\r\n\tthis.editRow($tr, colIndex);\r\n};\r\nconst editRowIndexFun = function(i){\r\n\tif(this.eidtRowIndex != -1){\r\n\t\tthis.editClose();\r\n\t}\r\n\tthis.eidtRowIndex = i;\r\n\tthis.editColIndex = 0;\r\n\tthis.editRow();\r\n};\r\n/*\r\n * 创建编辑行\r\n */\r\nconst editRow = function($tr,colIndex){\r\n\tif(colIndex < 0)\r\n\t\treturn;\r\n\tvar oThis = this;\r\n\tvar isFixedCol = false\r\n\tif ($tr && $tr.parents('table').attr('id').indexOf('_fixed_') > -1)\r\n\t\tisFixedCol = true\r\n\t$tr = $tr || $('#' + this.options.id + '_content_tbody tr[role=\"row\"]:eq(' + this.eidtRowIndex+ ')');\r\n\tcolIndex = colIndex || 0\r\n\tvar row = this.dataSourceObj.rows[this.eidtRowIndex].value;\r\n\tthis.editRowObj = this.cloneObj(row);\r\n\tif(this.options.editType == 'default'){\r\n\t\tvar column = isFixedCol ? this.gridCompColumnFixedArr[colIndex] : this.gridCompColumnArr[colIndex]\r\n\t\t\tif(column.options.editable){\r\n\t\t\t\tvar td = $('td:eq(' + colIndex + ')',$tr)[0];\r\n\t\t\t\tvar field = column.options.field;\r\n\t\t\t\tvar value = $(row).attr(field);\r\n\t\t\t\tvalue = oThis.getString(value,'');\r\n\t\t\t\tvar obj = {};\r\n\t\t\t\tobj.td = td;\r\n\t\t\t\tobj.value = value;\r\n\t\t\t\tobj.field = field;\r\n\t\t\t\tobj.editType = column.options.editType;\r\n\t\t\t\tobj.rowObj = oThis.editRowObj;\r\n\t\t\t\tobj.$tr = $tr;\r\n\t\t\t\tobj.colIndex = colIndex;\r\n\t\t\t\toThis.editCell(obj);\r\n\t\t\t}\r\n\t\t$('#' +this.options.id + '_content_edit_menu').css('display','block');\r\n\t\t$('#' +this.options.id + '_content_edit_menu_cancel').css('marginLeft','10px');// 与form形式相比偏左\r\n\t\tvar topIndex = $('tr:visible',$tr.parent()).index($tr);\r\n\t\tthis.rowHeight = $tr.height(); // tianxq\r\n\t\tvar t = this.rowHeight * (topIndex + 1) + this.headerHeight + 1;\r\n\t}else if(this.options.editType == 'form'){\r\n\t\tif(typeof this.options.formEditRenderFun == 'function'){\r\n\t\t\tif(this.fixedWidth>0){\r\n\t\t\t\tvar table = $('#' + this.options.id + '_content_fixed_table')[0];\r\n\t\t\t}else{\r\n\t\t\t\tvar table = $('#' + this.options.id + '_content_table')[0];\r\n\t\t\t}\r\n\r\n\t\t\tvar tr = table.insertRow(this.eidtRowIndex + 2);\r\n\t\t\ttr.id = this.options.id + '_edit_tr';\r\n\t\t\tvar cell = tr.insertCell();\r\n\t\t\tcell.id = this.options.id + '_edit_td';\r\n\t\t\tcell.style.borderBottom = '0px';\r\n\t\t\tvar cWidth = parseInt(this.contentMinWidth) + parseInt(this.fixedWidth);\r\n\t\t\tvar htmlStr = '<div id=\"' + this.options.id + '_edit_form\" class=\"u-grid-edit-form\" style=\"width:' + cWidth + 'px;float:left;\">';\r\n\t\t\thtmlStr += '</div>';\r\n\t\t\tcell.innerHTML = htmlStr;\r\n\t\t\tvar obj = {};\r\n\t\t\tobj.grid = gridObj;\r\n\t\t\tobj.element = $('#' + this.options.id + '_edit_form')[0];\r\n\t\t\tobj.editRowObj = this.editRowObj;\r\n\t\t\tthis.options.formEditRenderFun.call(this,obj);\r\n\t\t\tvar htmlStr = '<div style=\"position:relative;float:left;width:100%;height:40px;\"></div>';\r\n\t\t\t$('#' + this.options.id + '_edit_form')[0].insertAdjacentHTML('beforeEnd',htmlStr);\r\n\t\t\tvar h = $('#' + this.options.id + '_edit_td')[0].offsetHeight;\r\n\t\t\tvar color = $('#' + this.options.id + '_edit_form').css('background-color');\r\n\t\t\tif(this.options.multiSelect){\r\n\t\t\t\tvar $div = $('#' + this.options.id + '_content_multiSelect > div').eq( this.eidtRowIndex );\r\n\t\t\t\tvar htmlStr = '<div class=\"grid_open_edit\" id=\"' + this.options.id + '_multiSelect_edit\" style=\"background-color:'+color+';float:left;position:relative;width:' + this.multiSelectWidth + 'px;height:'+ h +'px\"></div>';\r\n\t\t\t\t$div[0].insertAdjacentHTML('afterEnd',htmlStr);\r\n\t\t\t}\r\n\t\t\tif(this.options.showNumCol){\r\n\t\t\t\tvar $div = $('#' + this.options.id + '_content_numCol > .u-grid-content-num').eq( this.eidtRowIndex );\r\n\t\t\t\tvar htmlStr = '<div id=\"' + this.options.id + '_numCol_edit\" style=\"background-color:'+color+';float:left;position:relative;width:' + this.numWidth + 'px;\"></div>';\r\n\t\t\t\t$div[0].insertAdjacentHTML('afterEnd',htmlStr);\r\n\t\t\t}\r\n\t\t\t$('#' +this.options.id + '_content_edit_menu').css('display','block');\r\n\r\n\r\n\t\t\tif(this.fixedWidth>0){\r\n\t\t\t\tvar table1 = $('#' + this.options.id + '_content_table')[0];\r\n\t\t\t\tvar tr1 = table1.insertRow(this.eidtRowIndex + 2);\r\n\t\t\t\ttr1.id = this.options.id + '_edit_tr1';\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(this.fixedWidth>0){\r\n\t\t\t\tvar table = $('#' + this.options.id + '_content_fixed_table')[0];\r\n\t\t\t}else{\r\n\t\t\t\tvar table = $('#' + this.options.id + '_content_table')[0];\r\n\t\t\t}\r\n\r\n\t\t\tvar tr = table.insertRow(this.eidtRowIndex + 2);\r\n\t\t\ttr.id = this.options.id + '_edit_tr';\r\n\t\t\tvar cell = tr.insertCell();\r\n\t\t\tcell.id = this.options.id + '_edit_td';\r\n\t\t\tcell.style.borderBottom = '0px';\r\n\t\t\tvar cWidth = parseInt(this.contentMinWidth) + parseInt(this.fixedWidth);\r\n\t\t\tvar htmlStr = '<div id=\"' + this.options.id + '_edit_form\" class=\"u-grid-edit-form\" style=\"width:' + cWidth + 'px;float:left;\">';\r\n\t\t\t$.each(this.gridCompColumnFixedArr, function(i) {\r\n\t\t\t\tvar show = false;\r\n\t\t\t\tif(this.options.editFormShow && (this.options.editable || (!this.options.editable && oThis.options.noneEditableFormShow) ) ) {\r\n\t\t\t\t\tshow = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(show){\r\n\t\t\t\t\tvar field = this.options.field;\r\n\t\t\t\t\tvar value = $(row).attr(field);\r\n\t\t\t\t\tvalue = oThis.getString(value,'');\r\n\t\t\t\t\tvar title = this.options.title;\r\n\t\t\t\t\tvar headerColor = this.options.headerColor;\r\n\t\t\t\t\thtmlStr += oThis.formEditCell(value,field,title,this.options.required,headerColor);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t$.each(this.gridCompColumnArr, function(i) {\r\n\t\t\t\tvar show = false;\r\n\t\t\t\tif(this.options.editFormShow && (this.options.editable || (!this.options.editable && oThis.options.noneEditableFormShow) ) ) {\r\n\t\t\t\t\tshow = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(show){\r\n\t\t\t\t\tvar field = this.options.field;\r\n\t\t\t\t\tvar value = $(row).attr(field);\r\n\t\t\t\t\tvalue = oThis.getString(value,'');\r\n\t\t\t\t\tvar title = this.options.title;\r\n\t\t\t\t\tvar headerColor = this.options.headerColor;\r\n\t\t\t\t\thtmlStr += oThis.formEditCell(value,field,title,this.options.required,headerColor);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\thtmlStr += '</div>';\r\n\t\t\tcell.innerHTML = htmlStr;\r\n\r\n\t\t\t$.each(this.gridCompColumnFixedArr, function(i) {\r\n\t\t\t\tvar show = false;\r\n\t\t\t\tif(this.options.editFormShow && (this.options.editable || (!this.options.editable && oThis.options.noneEditableFormShow) ) ) {\r\n\t\t\t\t\tshow = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(show){\r\n\t\t\t\t\tvar field = this.options.field;\r\n\t\t\t\t\tvar td = $('#' + oThis.options.id + '_edit_' + field)[0];\r\n\t\t\t\t\tvar value = $(row).attr(field);\r\n\t\t\t\t\tvar title = this.options.title;\r\n\t\t\t\t\tvalue = oThis.getString(value,'');\r\n\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\tobj.td = td;\r\n\t\t\t\t\ttd.innerHTML = '<div class=\"u-grid-content-td-div\" title=\"\"></div>';\r\n\t\t\t\t\tobj.value = value;\r\n\t\t\t\t\tobj.field = field;\r\n\t\t\t\t\tobj.editType = this.options.editType;\r\n\t\t\t\t\tobj.rowObj = oThis.editRowObj;\r\n\t\t\t\t\tobj.$tr = $tr;\r\n\t\t\t\t\tobj.colIndex = colIndex;\r\n\t\t\t\t\thtmlStr += oThis.editCell(obj);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t$.each(this.gridCompColumnArr, function(i) {\r\n\t\t\t\tvar show = false;\r\n\t\t\t\tif(this.options.editFormShow && (this.options.editable || (!this.options.editable && oThis.options.noneEditableFormShow) ) ) {\r\n\t\t\t\t\tshow = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(show){\r\n\t\t\t\t\tvar field = this.options.field;\r\n\t\t\t\t\tvar td = $('#' + oThis.options.id + '_edit_' + field)[0];\r\n\t\t\t\t\tvar value = $(row).attr(field);\r\n\t\t\t\t\tvar title = this.options.title;\r\n\t\t\t\t\tvalue = oThis.getString(value,'');\r\n\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\tobj.td = td;\r\n\t\t\t\t\ttd.innerHTML = '<div class=\"u-grid-content-td-div\" title=\"\"></div>';\r\n\t\t\t\t\tobj.value = value;\r\n\t\t\t\t\tobj.field = field;\r\n\t\t\t\t\tobj.editType = this.options.editType;\r\n\t\t\t\t\tobj.rowObj = oThis.editRowObj;\r\n\t\t\t\t\tobj.$tr = $tr;\r\n\t\t\t\t\tobj.colIndex = colIndex;\r\n\t\t\t\t\thtmlStr += oThis.editCell(obj);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif(typeof(this.options.renderEditMemu) == \"function\"){\r\n\r\n\t\t\t\tthis.options.renderEditMemu.apply(this,[$('#' + this.options.id + '_edit_form')[0],this.eidtRowIndex,this.dataSourceObj.rows.length])\r\n\t\t\t}else{\r\n\t\t\t\tvar htmlStr = '<div id=\"'+ this.options.id+'_content_edit_menu\" style=\"position:relative;float:left;width:100%;height:40px;\"><button type=\"button\" class=\"u-grid-content-edit-menu-button u-grid-content-edit-menu-button-ok\" id=\"' + this.options.id + '_content_edit_menu_close\">' + this.transMap.ml_close + '</button></div>';\r\n\r\n\t\t\t\t$('#' + this.options.id + '_edit_form')[0].insertAdjacentHTML('beforeEnd',htmlStr);\r\n\t\t\t\t$('#' + this.options.id + '_content_edit_menu_close').on('click',function(e){\r\n\t\t\t\t\toThis.editClose();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// 处理左侧区域位置\r\n\t\t\tvar h = $('#' + this.options.id + '_edit_td')[0].offsetHeight;\r\n\t\t\tvar color = $('#' + this.options.id + '_edit_form').css('background-color');\r\n\t\t\tif(this.options.multiSelect){\r\n\t\t\t\tvar $div = $('#' + this.options.id + '_content_multiSelect > div').eq( this.eidtRowIndex );\r\n\t\t\t\tvar htmlStr = '<div class=\"grid_open_edit \" id=\"' + this.options.id + '_multiSelect_edit\" style=\"background-color:'+color+';float:left;position:relative;width:' + this.multiSelectWidth + 'px;height:'+ h +'px\"></div>';\r\n\t\t\t\t$div[0].insertAdjacentHTML('afterEnd',htmlStr);\r\n\t\t\t}\r\n\t\t\tif(this.options.showNumCol){\r\n\t\t\t\tvar $div = $('#' + this.options.id + '_content_numCol > .u-grid-content-num').eq( this.eidtRowIndex );\r\n\t\t\t\tvar htmlStr = '<div id=\"' + this.options.id + '_numCol_edit\" style=\"background-color:'+color+';float:left;position:relative;width:' + this.numWidth + 'px;\"></div>';\r\n\t\t\t\t$div[0].insertAdjacentHTML('afterEnd',htmlStr);\r\n\t\t\t}\r\n\t\t\t$('#' +this.options.id + '_content_edit_menu').css('display','block');\r\n\r\n\r\n\t\t\tif(this.fixedWidth>0){\r\n\t\t\t\tvar table1 = $('#' + this.options.id + '_content_table')[0];\r\n\t\t\t\tvar tr1 = table1.insertRow(this.eidtRowIndex + 2);\r\n\t\t\t\ttr1.id = this.options.id + '_edit_tr1';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n/*\r\n * 行编辑关闭\r\n */\r\nconst re_editClose = function(){\r\n\tvar row = this.dataSourceObj.rows[this.eidtRowIndex];\r\n\tif(!row)\r\n\t\treturn;\r\n\t\tif(this.options.editType != 'form'){\r\n\t\t\t//this.repaintRow(this.eidtRowIndex);\r\n\t\t\tvar obj = {};\r\n\t\t\tobj.begin = this.eidtRowIndex;\r\n\t\t\tobj.length = 1;\r\n\t\t\tthis.renderTypeFun(obj);\r\n\t\t}\r\n\r\n\t$('#' +this.options.id + '_content_edit_menu').css('display','none');\r\n\tthis.repairSumRow();\r\n\tthis.noRowsShowFun();\r\n\tthis.updateLastRowFlag();\r\n\tthis.eidtRowIndex = -1;\r\n\t// form形式删除对应区域,存在切换编辑形式的情况，所以一直删除\r\n\t// if(this.options.editType == 'form'){\r\n\t\t$('#' + this.options.id + '_multiSelect_edit').remove(null,true);\r\n\t\t$('#' + this.options.id + '_numCol_edit').remove(null,true);\r\n\t\t$('#' + this.options.id + '_edit_tr').remove(null,true);\r\n\t\t$('#' + this.options.id + '_edit_tr1').remove(null,true);\r\n\t// }\r\n};\r\n/*\r\n * 编辑单元格\r\n */\r\nconst editCell = function(obj){\r\n\tvar td = obj.td;\r\n\tvar value = obj.value;\r\n\tvar field = obj.field;\r\n\tvar editType = obj.editType;\r\n\tvar rowObj = obj.rowObj;\r\n\tvar $tr = obj.$tr;\r\n\tvar\tcolIndex = obj.colIndex;\r\n\tvar oThis = this;\r\n\r\n\tvar obj = {};\r\n\tobj.td = td;\r\n\tobj.field = field;\r\n\tobj.$tr = $tr;\r\n\tobj.colIndex = colIndex;\r\n\toThis.newEditObj = obj;\r\n\r\n\tif(editType == 'text'){\r\n\t\tif(this.options.editType == 'default'){\r\n\t\t\ttd.innerHTML = '<div class=\"u-grid-content-td-div\" style=\"position: relative; left: 0px;\"><div class=\"eType-input\"><input id=\"' + this.options.id + \"_edit_field_\" + field + '\" type=\"text\" value=\"' + value +'\" field=\"' + field+'\" style=\"width:100%;margin:0px;min-height:20px;font-size:12px;color:#444\"></div></div>';\r\n\t\t}else{\r\n\t\t\ttd.innerHTML = '<div class=\"u-grid-content-td-div\" style=\"position: relative; left: 0px;\"><div class=\"eType-input\"><input id=\"' + this.options.id + \"_edit_field_\" + field + '\" type=\"text\" value=\"' + value +'\" field=\"' + field+'\"></div></div>';\r\n\t\t}\r\n\t\t$('input',$(td)).on('blur',function(){\r\n\t\t\toThis.editValueChange(field,this.value);\r\n\t\t});\r\n\t}else if(typeof editType == 'function'){\r\n\t\tvar obj = {};\r\n\t\tvar $Div = $('.u-grid-content-td-div',$(td));\r\n\t\tobj.gridObj = this;\r\n\t\tobj.element = $Div[0];\r\n\t\tobj.value = value;\r\n\t\tobj.field = field;\r\n\t\tobj.rowObj = rowObj;\r\n\t\teditType.call(this,obj);\r\n\t}\r\n\tif (this.options.editType == 'default')\r\n\t\t$('input:first',$(td)).focus()\r\n\r\n\r\n};\r\n/*\r\n * 触发下一个编辑单元格\r\n */\r\nconst nextEditShow = function(){\r\n\tvar obj = this.newEditObj;\r\n\tvar td = obj.td;\r\n\tvar $tr = obj.$tr;\r\n\tvar colIndex = parseInt(obj.colIndex) + 1;\r\n\t// 如果是最后一列则换行\r\n\tif($(td).next('td').length == 0){\r\n\t\tvar $nextTr = $tr.next('tr')\r\n\t\tif($nextTr.length > 0){\r\n\t\t\t$tr = $nextTr;\r\n\t\t\tcolIndex = 0;\r\n\t\t\t$tr.click(); //触发下一行的焦点\r\n\t\t}else{\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tthis.editRowFun($tr,colIndex);\r\n};\r\nconst editValueChange=function(field,value){\r\n\t// 设置row的值为新值\r\n\tif(this.eidtRowIndex > -1 && this.eidtRowIndex < this.dataSourceObj.rows.length){\r\n\t\tthis.updateValueAt(this.eidtRowIndex,field,value);\r\n\t}\r\n\r\n};\r\nconst re_updateEditRowIndex = function(opType, opIndex, num) {\r\n\tif(this.eidtRowIndex < 0) return;\r\n\tif(opType == '-') {\r\n\t\tif(opIndex < this.eidtRowIndex) {\r\n\t\t\tthis.eidtRowIndex--;\r\n\t\t} else if(opIndex == this.eidtRowIndex) {\r\n\t\t\tthis.eidtRowIndex = -1;\r\n\t\t}\r\n\t} else if(opType == '+') {\r\n\t\tnum === undefined && (num = 1)\r\n\t\tif(opIndex <= this.eidtRowIndex) {\r\n\t\t\tthis.eidtRowIndex += num;\r\n\t\t}\r\n\t}\r\n};\r\nconst re_updateValueAtEdit = function(rowIndex,field,value,force){\r\n\tif(this.eidtRowIndex == rowIndex){\r\n\t\tif($('#' +  this.options.id + \"_edit_field_\" + field).length > 0){\r\n\t\t\tif($('#' +  this.options.id + \"_edit_field_\" + field)[0].type == 'checkbox'){\r\n\t\t\t\tif(value == 'Y' || value == 'true'){\r\n\t\t\t\t\t$('#' +  this.options.id + \"_edit_field_\" + field)[0].checked = true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$('#' +  this.options.id + \"_edit_field_\" + field)[0].checked = false;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t$('#' +  this.options.id + \"_edit_field_\" + field)[0].value = value;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n/*\r\n * 根据filed设置editType\r\n */\r\nconst setEditType = function(field,editType){\r\n\tvar gridCompColumn = this.getColumnByField(field);\r\n\tgridCompColumn.options.editType = editType;\r\n};\r\n/*\r\n * 设置是否可修改\r\n */\r\nconst setEditable = function(editable){\r\n\tthis.options.editable = editable;\r\n};\r\nconst edit_initEventFun = function(){\r\n\tvar oThis = this;\r\n\t$(document).on('click',function(e){\r\n\t\tif(oThis.options.editable && oThis.options.editType == 'default'){\r\n\t\t\tvar $e = $(e.target);\r\n\t\t\tvar flag = true;\r\n\t\t\tflag = $(e.target).closest('.u-grid-content-td-div').length > 0?false:flag;\r\n\t\t\tvar cusStr = oThis.options.customEditPanelClass\r\n\t\t\tif(cusStr){\r\n\t\t\t\tvar cArr = cusStr.split(',');\r\n\t\t\t\t$.each(cArr,function(){\r\n\t\t\t\t\tflag = $e.closest('.' + this).length > 0?false:flag;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif($e.attr('role') == 'grid-for-edit'){\r\n\t\t\t\tflag = false;\r\n\t\t\t}\r\n\t\t\tif(flag){\r\n\t\t\t\toThis.editClose();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tu.on(document,'scroll',function(){\r\n\t\toThis.editClose();\r\n\t})\r\n};\r\nconst setGridEditType = function(newEditType){\r\n\tthis.options.editType = newEditType;\r\n}\r\nconst setGridEditTypeAndEditRow = function(newEditType,rowIndex,colIndex){\r\n\tthis.options.editType = newEditType;\r\n\tvar $contentBody = $('#' + this.options.id + '_content_tbody');\r\n\tvar $tr = $('tr:eq(' + rowIndex + ')',$contentBody)\r\n\tthis.editRowFun($tr,colIndex)\r\n}\r\nexport{\r\n    re_hideEditMenu,\r\n    re_clickFunEdit,\r\n    editRowFun,\r\n    editRowIndexFun,\r\n    editRow,\r\n    re_editClose,\r\n    editCell,\r\n    nextEditShow,\r\n    editValueChange,\r\n    re_updateEditRowIndex,\r\n    re_updateValueAtEdit,\r\n    setEditType,\r\n    setEditable,\r\n    edit_initEventFun,\r\n    setGridEditType,\r\n    setGridEditTypeAndEditRow\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/re_gridCompEdit.js\n **/","import {\r\n\tinitDefault,\r\n    setRequired\r\n} from './gridCompInit';\r\n\r\nconst editForm_initDefault = function(){\r\n\t// 扩展方法\r\n\tthis.defaults = $.extend(true,{},this.defaults,{\r\n\t\tnoneEditableFormShow:true,// form编辑器是否显示不可编辑字段\r\n\t});\r\n};\r\n\r\nconst editForm_setRequired = function(field, value){\r\n\t// 扩展方法\r\n\tvar oThis = this;\r\n\t$.each(this.gridCompColumnArr,function(i){\r\n\t\tif(this.options.field == field){\r\n\t\t\tthis.options.required = value;\r\n\t\t\tif(!value) {\r\n\t\t\t\t$('#' + oThis.options.id +  '_edit_' + this.options.field).parent().find('.u-grid-edit-mustFlag').hide()\r\n\t\t\t} else {\r\n\t\t\t\t$('#' + oThis.options.id +  '_edit_' + this.options.field).parent().find('.u-grid-edit-mustFlag').show()\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\t});\r\n};\r\n\r\nconst re_editorRowChangeFun = function(){\r\n\tif($('#' + this.options.id + '_edit_form').length > 0){\r\n\t\tvar h = $('#' + this.options.id + '_edit_form')[0].offsetHeight;\r\n\t\t$('#' + this.options.id + '_numCol_edit').css('height',h);\r\n\t\t$('#' + this.options.id + '_multiSelect_edit').css('height',h);\r\n\t}\r\n};\r\n/*\r\n * form形式下编辑单元格\r\n */\r\nconst formEditCell = function(value,field,title,required,headerColor){\r\n\t// 创建lable\r\n\tvar st = (title+'')\r\n\tif(st.lengthb() > 28) {\r\n\t\tst = st.substrCH(26)+'...'\r\n\t}\r\n\tvar htmlStr = '<div class=\"u-grid-edit-whole-div\"><div class=\"u-grid-edit-label\"><div title=\"'+title+'\" style=\"color:' +headerColor+ '\">' + st + '<span style=\"color:red;' + (!required? 'display: none':'') + '\" class=\"u-grid-edit-mustFlag\">*</span></div></div>';\t\t\t// 创建编辑区域\r\n\thtmlStr += '<div id=\"' + this.options.id + '_edit_' + field + '\" class=\"u-grid-edit-div\"></div>';\r\n\thtmlStr += '</div>';\r\n\treturn htmlStr;\r\n};\r\nexport{\r\n    editForm_initDefault,\r\n    editForm_setRequired,\r\n    re_editorRowChangeFun,\r\n    formEditCell\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/re_gridCompEditForm.js\n **/","import {columnsVisibleFun} from './gridCompOther';\r\n/*\r\n * 将固定列放入gridCompColumnFixedArr\r\n */\r\nconst re_initGridCompFixedColumn = function(){\r\n\tvar oThis = this;\r\n\tvar w = 0;\r\n\t$.each(this.gridCompColumnArr,function(i){\r\n\t\tif(this.options.fixed == true){\r\n\t\t\toThis.gridCompColumnFixedArr.push(this);\r\n\t\t}\r\n\t});\r\n\t$.each(this.gridCompColumnFixedArr,function(i){\r\n\t\tfor(var i = oThis.gridCompColumnArr.length;i >-1;i-- ){\r\n\t\t\tif(oThis.gridCompColumnArr[i] == this){\r\n\t\t\t\toThis.gridCompColumnArr.splice(i,1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\nconst fixed_columnsVisibleFun = function(){\r\n\t// 扩展方法\r\n\tvar oThis = this,\r\n\t\tfixW = 0;\r\n\t$.each(this.gridCompColumnFixedArr,function(){\r\n\t\tif(this.options.visible){\r\n\t\t\tfixW += parseInt(this.options.width);\r\n\t\t\tthis.firstColumn = oThis.firstColumn;\r\n\t\t\toThis.firstColumn = false;\r\n\t\t}\r\n\t});\r\n\tthis.fixedRealWidth = fixW;\r\n};\r\n\r\nconst re_createHeaderTableFixed = function(){\r\n\treturn this.createHeaderTable('fixed');\r\n};\r\n\r\nconst re_createContentTableFixed = function(){\r\n\treturn this.createContentTable('fixed');\r\n}\r\nconst re_createContentOneRowFixed = function(rowObj){\r\n\treturn this.createContentOneRow(rowObj,'fixed')\r\n}\r\nconst re_widthChangeGridFunFixed = function(halfWholeWidth){\r\n\t// 固定区域宽度不大于整体宽度的一半\r\n\tif(this.fixedRealWidth > halfWholeWidth){\r\n\t\tthis.fixedWidth = halfWholeWidth;\r\n\t}else{\r\n\t\tthis.fixedWidth = this.fixedRealWidth;\r\n\t}\r\n}\r\nexport{\r\n    re_initGridCompFixedColumn,\r\n    fixed_columnsVisibleFun,\r\n    re_createHeaderTableFixed,\r\n    re_createContentTableFixed,\r\n    re_createContentOneRowFixed,\r\n    re_widthChangeGridFunFixed\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/re_gridCompFixed.js\n **/","/*\r\n * 创建form形式下div\r\n */\r\nconst createFromDivs = function() {\r\n\tif (this.createFormFlag) {\r\n\t\treturn;\r\n\t}\r\n\tvar htmlStr = '<div id=\"' + this.options.id + '_form\" class=\"u-grid-form\">';\r\n\thtmlStr += this.createFromContent();\r\n\t$('#' + this.options.id)[0].insertAdjacentHTML('afterBegin', htmlStr);\r\n\tthis.createFormFlag = true;\r\n};\r\n\r\n/*\r\n * 创建form形式下内容区域\r\n */\r\nconst createFromContent = function() {\r\n\tvar htmlStr = '<div class=\"u-grid-form-content\" id=\"' + this.options.id + '_form_content\" class=\"u-grid-content\">';\r\n\thtmlStr += '<table role=\"grid\" id=\"' + this.options.id + '_form_content_table\">';\r\n\thtmlStr += this.createFormContentRows();\r\n\thtmlStr += '</table>';\r\n\treturn htmlStr;\r\n};\r\n\r\n/*\r\n * 创建form形式下内容区域所有行\r\n */\r\nconst createFormContentRows = function() {\r\n\tvar oThis = this,\r\n\t\thtmlStr = \"\";\r\n\t// 遍历生成所有行\r\n\tif (this.dataSourceObj.rows) {\r\n\t\thtmlStr += '<tbody role=\"rowgroup\" id=\"' + this.options.id + '_form_content_tbody\">';\r\n\t\t$.each(this.dataSourceObj.rows, function() {\r\n\t\t\thtmlStr += '<tr role=\"row\"><td role=\"rowcell\">';\r\n\t\t\tvar value = this.value;\r\n\t\t\t$.each(oThis.gridCompColumnArr, function() {\r\n\t\t\t\tvar f = this.options.field,\r\n\t\t\t\t\tt = this.options.title,\r\n\t\t\t\t\tv = $(value).attr(f);\r\n\t\t\t\thtmlStr += '<div>' + t + ':</div>';\r\n\t\t\t\thtmlStr += '<div>' + v + '</div>';\r\n\t\t\t});\r\n\t\t\thtmlStr += '</td></tr>';\r\n\t\t});\r\n\t\thtmlStr += '</tbody>';\r\n\t}\r\n\treturn htmlStr;\r\n};\r\n\r\n/*\r\n * 整体宽度改变处理(form形式)\r\n */\r\nconst widthChangeFormFun = function() {\r\n\tthis.createFromDivs();\r\n\t$('#' + this.options.id + '_grid').css('display', 'none');\r\n\t$('#' + this.options.id + '_form').css('display', 'block');\r\n\tthis.showType = 'form';\r\n\tif(typeof this.options.afterCreate == 'function'){\r\n\t\tthis.options.afterCreate.call(this);\r\n\t}\r\n};\r\nexport{\r\n    createFromDivs,\r\n    createFromContent,\r\n    createFormContentRows,\r\n    widthChangeFormFun\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/re_gridCompFormShow.js\n **/","const re_resetThVariableHeaderLevel = function(){\r\n\tvar oThis = this,oldParentHeaderStr = '',parentWidth = 0;\r\n\t$('#' + this.options.id + '_header_table th', this.$ele).each(function(i) {\r\n\t\tvar gridCompColumn = oThis.gridCompColumnArr[i];\r\n\t\tvar parentHeaderStr = oThis.getString(gridCompColumn.options.parentHeader,'');\r\n\t\tvar w = 0;\r\n\t\tif(gridCompColumn.options.visible){\r\n\t\t\tw = gridCompColumn.options.width;\r\n\t\t}\r\n\t\t// 处理多表头\r\n\t\tif(oldParentHeaderStr != '' && parentHeaderStr != oldParentHeaderStr){ // 上一个父项结束\r\n\t\t\t// 设置宽度\r\n\t\t\t$('#' + oThis.options.id + oldParentHeaderStr).css('width',parentWidth - 1 + 'px');\r\n\t\t}\r\n\t\tif(parentHeaderStr != ''){\r\n\t\t\tvar parentHeaderTitleStr = oThis.getLevelTitleByField(parentHeaderStr);\r\n\t\t\tif(parentHeaderStr != oldParentHeaderStr){  //一个新的父项开始\r\n\t\t\t\tparentWidth = 0;\r\n\t\t\t\tif(!oThis.parentFlag){ //只添加一次\r\n\t\t\t\t\tvar htmlStr ='<div id=\"' + oThis.options.id + parentHeaderStr + '\" class=\"u-gird-parent\"><div class=\"u-grid-header-link\" title=\"' + parentHeaderTitleStr + '\">' + parentHeaderTitleStr +'</div></div>';\r\n\t\t\t\t\tthis.insertAdjacentHTML('afterBegin',htmlStr);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tparentWidth += w;\r\n\t\t}\r\n\t\toldParentHeaderStr = parentHeaderStr;\r\n\t});\r\n\tif(oldParentHeaderStr != ''){\r\n\t\t$('#' + oThis.options.id + oldParentHeaderStr).css('width',parentWidth - 1 + 'px');\r\n\t}\r\n\tthis.parentFlag = true;\r\n};\r\n\r\nconst re_initGridCompColumnHeaderLevelFun = function(columnOptions){\r\n\t// 扩展方法\r\n\tif(columnOptions.headerLevel > 1){\r\n\t\tthis.gridCompLevelColumn.push(columnOptions);\r\n\t\tvar oldLength = this.gridCompColumnArr.length;\r\n\t\tthis.gridCompColumnArr.length = oldLength - 1;\r\n\t\tif(this.basicGridCompColumnArr && this.basicGridCompColumnArr.length > 0){\r\n\t\t\tthis.basicGridCompColumnArr.length = oldLength - 1;\r\n\t\t}\r\n\t}\r\n};\r\n/*\r\n * 按照hiddenLevel对column进行排序\r\n */\r\nconst initGridHiddenLevelColumn = function(){\r\n\tif(!this.options.overWidthHiddenColumn)\r\n\t\treturn;\r\n\tvar oThis = this;\r\n\tvar w = 0;\r\n\r\n\tthis.gridCompHiddenLevelColumnArr = this.gridCompColumnArr.slice(0);\r\n\r\n\tthis.gridCompHiddenLevelColumnArr.sort(function(a, b) {\r\n\t\tvar hiddenLevel1 = a.options.hiddenLevel;\r\n\t\tvar hiddenLevel2 = b.options.hiddenLevel;\r\n\t\tif(hiddenLevel1 > hiddenLevel2){\r\n\t\t\treturn -1;\r\n\t\t}else{\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t});\r\n};\r\n\r\nconst getLevelTitleByField = function(field){\r\n\tfor(var i = 0; i < this.gridCompLevelColumn.length; i++){\r\n\t\tvar columnField = this.gridCompLevelColumn[i].field;\r\n\t\tif(columnField == field){\r\n\t\t\treturn this.gridCompLevelColumn[i].title;\r\n\t\t}\r\n\t}\r\n\treturn '';\r\n};\r\nexport{\r\n    re_resetThVariableHeaderLevel,\r\n    re_initGridCompColumnHeaderLevelFun,\r\n    initGridHiddenLevelColumn,\r\n    getLevelTitleByField\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/re_gridCompHeaderLevel.js\n **/","const re_initGridCompColumnLoacl = function(){\r\n\tvar oThis = this,\r\n\t\tlocalGridCompColumnArr = this.getGridCompColumnArrFromLocal();\r\n\t// 获取本地缓存中的数据\r\n\tif(localGridCompColumnArr != null){\r\n\t\tthis.gridCompColumnArr = localGridCompColumnArr;\r\n\t\t$.each(this.gridCompColumnArr,function(){\r\n\t\t\tvar field = this.options.field;\r\n\t\t\tfor(var i =0;i < oThis.options.columns.length;i++){\r\n\t\t\t\tvar c = oThis.options.columns[i];\r\n\t\t\t\tif(c.field == field){\r\n\t\t\t\t\tvar options = $.extend({},c,this.options);\r\n\t\t\t\t\tthis.options = options;\r\n\t\t\t\t\tthis.options.realWidth = this.options.width;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n};\r\n/*\r\n * 获取本地个性化存储的设置\r\n */\r\nconst getLocalData = function(){\r\n\treturn null; //暂时不用缓存\r\n\tif (window.localStorage == null)\r\n\t\treturn null;\r\n\tif (this.$sd_storageData != null)\r\n\t\treturn this.$sd_storageData;\r\n\telse{\r\n\t\tif (window.localStorage.getItem(this.localStorageId) == null){\r\n\t\t\ttry{\r\n\t\t\t\twindow.localStorage.setItem(this.localStorageId,\"{}\");\r\n\t\t\t}\r\n\t\t\tcatch(e){\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar storageDataStr = window.localStorage.getItem(this.localStorageId);\r\n\t\tif(typeof(JSON) == \"undefined\")\r\n\t\t\tthis.$sd_storageData = eval(\"(\"+storageDataStr+\")\");\r\n\t\telse\r\n\t\t\tthis.$sd_storageData = JSON.parse(storageDataStr);\r\n\t\treturn this.$sd_storageData;\r\n\t}\r\n};\r\n/*\r\n * 保存本地个性化存储的设置\r\n */\r\nconst saveLocalData = function(){\r\n\treturn null; //暂时不用缓存\r\n\tvar oThis = this;\r\n\tif(this.saveSettimeout){\r\n\t\tclearTimeout(this.saveSettimeout);\r\n\t}\r\n\tthis.saveSettimeout = setTimeout(function(){\r\n\t\tif (oThis.$sd_storageData == null || window.localStorage == null)\r\n\t\t\treturn;\r\n\t\tvar strogeDataStr = JSON.stringify(oThis.$sd_storageData);\r\n\t\ttry{\r\n\t\t\twindow.localStorage.setItem(oThis.localStorageId,strogeDataStr);\r\n\t\t}catch(e){\r\n\r\n\t\t}\r\n\t},200);\r\n};\r\n/*\r\n * 清除本地个性化存储的设置\r\n */\r\nconst clearLocalData = function(){\r\n\treturn null; //暂时不用缓存\r\n\tif(this.saveSettimeout){\r\n\t\tclearTimeout(this.saveSettimeout);\r\n\t}\r\n\twindow.localStorage.setItem(this.localStorageId,\"{}\");\r\n\tthis.$sd_storageData = {};\r\n};\r\n/*\r\n * 将数据列顺序保存至本地个性化存储\r\n */\r\nconst saveGridCompColumnArrToLocal = function(){\r\n\treturn null; //暂时不用缓存\r\n\tvar defData = this.getLocalData();\r\n\tdefData[\"gridCompColumnArr\"] = this.gridCompColumnArr.concat(this.gridCompColumnFixedArr);\r\n\tthis.saveLocalData();\r\n};\r\n/*\r\n * 从本地个性化存储中取出数据列顺序\r\n */\r\nconst getGridCompColumnArrFromLocal = function(){\r\n\treturn null; //暂时不用缓存\r\n\tvar defData = this.getLocalData();\r\n\tif (defData == null) return null;\r\n\tif(defData[\"gridCompColumnArr\"] == null) return null;\r\n\treturn defData[\"gridCompColumnArr\"];\r\n};\r\nexport{\r\n\tre_initGridCompColumnLoacl,\r\n\tgetLocalData,\r\n\tsaveLocalData,\r\n\tclearLocalData,\r\n\tsaveGridCompColumnArrToLocal,\r\n\tgetGridCompColumnArrFromLocal\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/re_gridCompLocalStorage.js\n **/","const re_initGridHiddenLevelColumn = function(){\r\n\tif(!this.options.overWidthHiddenColumn)\r\n\t\treturn;\r\n\tvar oThis = this;\r\n\tvar w = 0;\r\n\r\n\tthis.gridCompHiddenLevelColumnArr = this.gridCompColumnArr.slice(0);\r\n\r\n\tthis.gridCompHiddenLevelColumnArr.sort(function(a, b) {\r\n\t\tvar hiddenLevel1 = a.options.hiddenLevel;\r\n\t\tvar hiddenLevel2 = b.options.hiddenLevel;\r\n\t\tif(hiddenLevel1 > hiddenLevel2){\r\n\t\t\treturn -1;\r\n\t\t}else{\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t});\r\n};\r\nconst re_widthChangeGridFunOverWidthHidden = function(){\r\n\tif(this.options.overWidthHiddenColumn){\r\n\t\tthis.lastVisibleColumn.options.width = this.lastVisibleColumn.options.realWidth;\r\n\t\tvar wholeWidth = parseInt(this.wholeWidth) - parseInt(this.leftW);\r\n\t\tvar columnWholeWidth = parseInt(this.fixedWidth) + parseInt(this.contentRealWidth);\r\n\t\tif(columnWholeWidth > wholeWidth){\r\n\t\t\tfor(var i = 0;i < this.gridCompHiddenLevelColumnArr.length;i++){\r\n\t\t\t\tvar column = this.gridCompHiddenLevelColumnArr[i];\r\n\t\t\t\tif(column.options.visible){\r\n\t\t\t\t\tcolumn.options.visible = false;\r\n\t\t\t\t\tcolumnWholeWidth = columnWholeWidth - column.options.width;\r\n\t\t\t\t}\r\n\t\t\t\tif(!(columnWholeWidth > wholeWidth)){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.columnsVisibleFun();\r\n\t\t}else{\r\n\t\t\tfor(var i = this.gridCompHiddenLevelColumnArr.length -1;i>-1;i--){\r\n\t\t\t\tvar column = this.gridCompHiddenLevelColumnArr[i];\r\n\t\t\t\tif(!column.options.visible){\r\n\t\t\t\t\tcolumnWholeWidth = columnWholeWidth + column.options.width;\r\n\t\t\t\t\tif(columnWholeWidth > wholeWidth){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcolumn.options.visible = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.columnsVisibleFun();\r\n\t\t}\r\n\t}\r\n};\r\nexport{\r\n    re_initGridHiddenLevelColumn,\r\n    re_widthChangeGridFunOverWidthHidden\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/re_gridCompOverWidthHidden.js\n **/","\r\nconst re_createContentRowsSumRow = function(createFlag){\r\n\tvar htmlStr = '';\r\n\tif(this.options.showSumRow && this.dataSourceObj.rows && this.dataSourceObj.rows.length > 0){\r\n\t\thtmlStr += this.createSumRow(createFlag);\r\n\t}\r\n\treturn htmlStr;\r\n};\r\nconst re_createContentSumRow = function(bottonStr){\r\n\tvar htmlStr = '';\r\n\tif(this.options.showSumRow){\r\n\t\thtmlStr += '<div class=\"u-grid-content-left-sum-bottom\" id=\"' + this.options.id + '_content_left_sum_bottom\" style=\"width:' + (this.leftW + this.fixedWidth) + 'px;'+bottonStr+'\">';\r\n\t\thtmlStr += '</div>';\r\n\t}\r\n\treturn htmlStr;\r\n}\r\n/*\r\n * 创建合计行\r\n */\r\nconst createSumRow = function(createFlag){\r\n\tif(this.options.showSumRow){\r\n\t\tvar oThis = this,idStr,gridCompColumnArr;\r\n\t\tif(createFlag == 'fixed'){\r\n\t\t\tidStr = 'fixed_';\r\n\t\t\tgridCompColumnArr = this.gridCompColumnFixedArr;\r\n\t\t}else{\r\n\t\t\tidStr = '';\r\n\t\t\tgridCompColumnArr = this.gridCompColumnArr;\r\n\t\t}\r\n\t\tvar t = parseInt(this.wholeHeight) - this.exceptContentHeight - 48 - this.scrollBarHeight;\r\n\t\tt = t> 0?t:0;\r\n\t\tvar htmlStr = '<tr role=\"row\" class=\"u-grid-content-sum-row\" id=\"' + this.options.id + '_content_'+idStr+'sum_row\" style=\"top:'+t+'px;\">';\r\n\t\t$.each(gridCompColumnArr, function() {\r\n\t\t\tvar f = this.options.field;\r\n\t\t\tvar precision = this.options.precision;\r\n\t\t\tvar dataType = this.options.dataType;\r\n\t\t\tvar sumValue = oThis.dataSourceObj.getSumValue(f,this,oThis);\r\n\t\t\tif(dataType == 'float'){\r\n\t\t\t\tvar o = {};\r\n\t\t\t\to.value = sumValue;\r\n\t\t\t\to.precision = precision?precision:2;\r\n\t\t\t\tsumValue = oThis.DicimalFormater(o)\r\n\t\t\t}\r\n\t\t\tvar tdStyle = '';\r\n\t\t\tif(!this.options.visible){\r\n\t\t\t\ttdStyle = 'style=\"display:none;\"';\r\n\t\t\t}\r\n\t\t\thtmlStr += '<td role=\"rowcell\" title=\"' + sumValue + '\" ' + tdStyle + '>';\r\n\t\t\tif(this.firstColumn){\r\n\t\t\t\thtmlStr += '<div class=\"u-gird-centent-sum-div\"><span>' + oThis.transMap.ml_sum + '</span></div>';\r\n\t\t\t}\r\n\t\t\tvar contentStyle = '';\r\n\t\t\tif(this.options.dataType == 'integer' || this.options.dataType == 'float') {\r\n\t\t\t\tcontentStyle = 'style=\"text-align: right;\"'\r\n\t\t\t}\r\n\t\t\thtmlStr += '<div class=\"u-grid-content-td-div\" ' + contentStyle + '><span value=\"' + sumValue + '\">' + sumValue + '</span></div></td>';\t\t\t\t});\r\n\t\thtmlStr += '</tr>';\r\n\t\treturn htmlStr;\r\n\t}\r\n};\r\n\r\n/*\r\n * 创建合计行 for ie\r\n */\r\nconst createSumRowForIE = function(table,createFlag){\r\n\tif(this.options.showSumRow){\r\n\t\tvar oThis = this,idStr,gridCompColumnArr;\r\n\t\tif(createFlag == 'fixed'){\r\n\t\t\tidStr = 'fixed_';\r\n\t\t\tgridCompColumnArr = this.gridCompColumnFixedArr;\r\n\t\t}else{\r\n\t\t\tidStr = '';\r\n\t\t\tgridCompColumnArr = this.gridCompColumnArr;\r\n\t\t}\r\n\t\tvar t = parseInt(this.wholeHeight) - this.exceptContentHeight - 48 - this.scrollBarHeight;\r\n\t\tt = t> 0?t:0;\r\n\t\tvar row = table.insertRow();\r\n\t\trow.row = 'row';\r\n\t\trow.className = 'u-grid-content-sum-row';\r\n\t\trow.id = this.options.id + '_content_'+idStr+'sum_row';\r\n\t\trow.style.top = t + 'px';\r\n\t\t$.each(gridCompColumnArr, function() {\r\n\t\t\tvar f = this.options.field;\r\n\t\t\tvar precision = this.options.precision;\r\n\t\t\tvar dataType = this.options.dataType;\r\n\t\t\tvar sumValue = oThis.dataSourceObj.getSumValue(f,this,oThis);\r\n\t\t\tif(dataType == 'float'){\r\n\t\t\t\tvar o = {};\r\n\t\t\t\to.value = sumValue;\r\n\t\t\t\to.precision = precision?precision:2;\r\n\t\t\t\tsumValue = oThis.DicimalFormater(o)\r\n\t\t\t}\r\n\t\t\tvar newCell= row.insertCell();\r\n\t\t\tnewCell.role = 'rowcell';\r\n\t\t\tnewCell.title = sumValue;\r\n\t\t\tvar contentStyle = '';\r\n\t\t\tif(this.options.dataType == 'integer' || this.options.dataType == 'float') {\r\n\t\t\t\tcontentStyle = 'style=\"text-align: right;\"'\r\n\t\t\t}\r\n\r\n\t\t\tvar htmlStr = '<div class=\"u-grid-content-td-div\" ' + contentStyle + '>';\r\n\t\t\tif(this.firstColumn){\r\n\t\t\t\thtmlStr += '<div class=\"u-gird-centent-sum-div\"><span>' + oThis.transMap.ml_sum + '</span></div>';\r\n\t\t\t}\r\n\t\t\t\thtmlStr += '<span value=\"' + sumValue + '\">' + sumValue + '</span></div>';\r\n\t\t\tnewCell.insertAdjacentHTML('afterBegin',htmlStr);\r\n\t\t});\r\n\t}\r\n};\r\n/*\r\n * 重画合计行\r\n */\r\nconst re_repairSumRow = function(){\r\n\tif(this.options.showSumRow){\r\n\t\t$('#' + this.options.id + '_content_div tbody .u-grid-content-sum-row').remove();\r\n\t\t$('#' + this.options.id + '_content_fixed_div tbody .u-grid-content-sum-row').remove();\r\n\t\ttry{\r\n\t\t\tif(this.dataSourceObj.rows && this.dataSourceObj.rows.length > 0){\r\n\t\t\t\tvar htmlStr = this.createSumRow();\r\n\t\t\t\t$('#' + this.options.id + '_content_div tbody')[0].insertAdjacentHTML('beforeEnd',htmlStr);\r\n\t\t\t\tvar htmlStr = this.createSumRow('fixed');\r\n\t\t\t\tif($('#' + this.options.id + '_content_fixed_div tbody')[0])\r\n\t\t\t\t\t$('#' + this.options.id + '_content_fixed_div tbody')[0].insertAdjacentHTML('beforeEnd',htmlStr);\r\n\t\t\t}\r\n\t\t}catch(e){\r\n\t\t\tvar table = $('#' + this.options.id + '_content_div table')[0];\r\n\t\t\tvar fixedTable = $('#' + this.options.id + '_content_fixed_div table')[0];\r\n\t\t\tthis.createSumRowForIE(table);\r\n\t\t\tthis.createSumRowForIE(table,'fixed');\r\n\t\t}\r\n\t\tthis.renderSumRow();\r\n\t}\r\n};\r\n\r\nconst renderSumRow = function(){\r\n\tvar oThis = this;\r\n\t$.each(this.gridCompColumnFixedArr, function(i) {\r\n\t\tvar sumCol = this.options.sumCol;\r\n\t\tvar sumRenderType = this.options.sumRenderType;\r\n\t\tvar idStr = 'fixed_';\r\n\t\tif(sumCol) {\r\n\t\t\tvar sumSpans = $('#' + oThis.options.id + '_content_'+idStr+'sum_row').find('td').eq(i).find('span');\r\n\t\t\tvar sumSpan = sumSpans[sumSpans.length-1];\r\n\t\t\tif(sumSpan) {\r\n\t\t\t\tif(typeof sumRenderType == 'function') {\r\n\t\t\t\t\tvar sumV = $(sumSpan).attr('value');\r\n\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\tobj.value = sumV;\r\n\t\t\t\t\tobj.element = sumSpan;\r\n\t\t\t\t\tobj.gridObj = oThis;\r\n\t\t\t\t\tobj.gridCompColumn = this;\r\n\t\t\t\t\tsumRenderType.call(oThis,obj);\r\n\t\t\t\t} else if(dataType == 'integer' || dataType == 'float'){\r\n\t\t\t\t\tsumSpan.style.textAlign = 'right';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t$.each(this.gridCompColumnArr, function(i) {\r\n\t\tvar sumCol = this.options.sumCol;\r\n\t\tvar sumRenderType = this.options.sumRenderType;\r\n\t\tvar idStr = '';\r\n\t\tif(sumCol) {\r\n\t\t\tvar sumSpans = $('#' + oThis.options.id + '_content_'+idStr+'sum_row').find('td').eq(i).find('span');\r\n\t\t\tvar sumSpan = sumSpans[sumSpans.length-1];\r\n\t\t\tif(sumSpan) {\r\n\t\t\t\tif(typeof sumRenderType == 'function') {\r\n\t\t\t\t\tvar sumV = $(sumSpan).attr('value');\r\n\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\tobj.value = sumV;\r\n\t\t\t\t\tobj.element = sumSpan;\r\n\t\t\t\t\tobj.gridObj = oThis;\r\n\t\t\t\t\tobj.gridCompColumn = this;\r\n\t\t\t\t\tsumRenderType.call(oThis,obj);\r\n\t\t\t\t} else if(dataType == 'integer' || dataType == 'float'){\r\n\t\t\t\t\tsumSpan.style.textAlign = 'right';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\nconst re_renderTypeSumRow = function(gridCompColumn,i,begin,length, isFixedColumn){\r\n\tvar oThis = this;\r\n\tvar sumCol = gridCompColumn.options.sumCol;\r\n\tvar sumRenderType = gridCompColumn.options.sumRenderType;\r\n\tvar dataType = gridCompColumn.options.dataType;\r\n\tvar idStr = isFixedColumn === true? 'fixed_' : '';\r\n\tif(sumCol) {\r\n\t\tvar sumSpans = $('#' + this.options.id + '_content_'+idStr+'sum_row').find('td').eq(i).find('span');\r\n\t\tvar sumSpan = sumSpans[sumSpans.length-1];\r\n\t\tif(sumSpan) {\r\n\t\t\tif(typeof sumRenderType == 'function') {\r\n\t\t\t\tvar sumV = $(sumSpan).attr('value');\r\n\t\t\t\tvar obj = {};\r\n\t\t\t\tobj.value = sumV;\r\n\t\t\t\tobj.element = sumSpan;\r\n\t\t\t\tobj.gridObj = oThis;\r\n\t\t\t\tobj.gridCompColumn = gridCompColumn;\r\n\t\t\t\tsumRenderType.call(oThis,obj);\r\n\t\t\t} else if(dataType == 'integer' || dataType == 'float'){\r\n\t\t\t\tsumSpan.style.textAlign = 'right';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\nexport{\r\n    re_createContentRowsSumRow,\r\n    re_createContentSumRow,\r\n    createSumRow,\r\n    createSumRowForIE,\r\n    re_repairSumRow,\r\n    renderSumRow,\r\n    re_renderTypeSumRow\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/re_gridCompSumRow.js\n **/","import {\r\n\tinitEventFun,\r\n    initGridEventFun\r\n} from './gridCompEvent';\r\n\r\nconst swap_initEventFun = function(){\r\n\t// 扩展方法\r\n\tvar oThis = this;\r\n\t$('#' + this.options.id).on('mousedown', function(e) {\r\n\t\tif ($(e.target).closest('#' + oThis.options.id + '_header').length > 0) {\r\n\t\t\t// 点击的是header区域\r\n\t\t\tvar eleTh = $(e.target).closest('th')[0];\r\n\t\t\tif(oThis.options.canSwap){\r\n\t\t\t\toThis.swapColumnStart(e, eleTh);\r\n\t\t\t}\r\n\t\t\te.preventDefault();\r\n\t\t} else if ($(e.target).closest('#' + oThis.options.id + '_content').length > 0) {\r\n\t\t\t// 点击的是数据区域\r\n\t\t}\r\n\t});\r\n\r\n\t$('#' + this.options.id).on('mousemove', function(e) {\r\n\t\toThis.mouseMoveX = e.clientX;\r\n\t\toThis.mouseMoveY = e.clientY;\r\n\t\tif ((oThis.mouseMoveX != oThis.mouseDownX || oThis.mouseDownY != oThis.mouseMoveY) && oThis.mouseDownX != 'mouseDownX' && oThis.options.canSwap) {\r\n\t\t\t// 鼠标按下之后移动了\r\n\t\t\toThis.swapColumnFlag = true;\r\n\t\t}\r\n\t\toThis.swapColumnFun(e);\r\n\t\te.stopPropagation();\r\n\t});\r\n\r\n\t$('#' + this.options.id + '_top').on('mousemove', function(e) {\r\n\t\toThis.mouseMoveX = e.clientX;\r\n\t\toThis.mouseMoveY = e.clientY;\r\n\t\tif ((oThis.mouseMoveX != oThis.mouseDownX || oThis.mouseDownY != oThis.mouseMoveY) && oThis.mouseDownX != 'mouseDownX' && oThis.options.canSwap) {\r\n\t\t\t// 鼠标按下之后移动了\r\n\t\t\toThis.swapColumnFlag = true;\r\n\t\t}\r\n\t\toThis.swapColumnFun(e);\r\n\t\te.stopPropagation();\r\n\t});\r\n\r\n\t$('#' + this.options.id).on('mouseup', function(e) {\r\n\t\toThis.mouseUpX = e.clientX;\r\n\t\toThis.mouseUpY = e.clientY;\r\n\t\toThis.swapColumnEnd(e);\r\n\t\toThis.mouseUpX = 'mouseUpX';\r\n\t\toThis.mouseUpY = 'mouseUpY';\r\n\t\toThis.mouseDownX = 'mouseDownX';\r\n\t\toThis.mouseDownY = 'mouseDownY';\r\n\t\toThis.mouseMoveX = 'mouseMoveX';\r\n\t\toThis.mouseMoveY = 'mouseMoveY';\r\n\t});\r\n\r\n\t$('#' + this.options.id+ '_top').on('mouseup', function(e) {\r\n\t\toThis.mouseUpX = e.clientX;\r\n\t\toThis.mouseUpY = e.clientY;\r\n\t\toThis.swapColumnEnd(e);\r\n\t\toThis.mouseUpX = 'mouseUpX';\r\n\t\toThis.mouseUpY = 'mouseUpY';\r\n\t\toThis.mouseDownX = 'mouseDownX';\r\n\t\toThis.mouseDownY = 'mouseDownY';\r\n\t\toThis.mouseMoveX = 'mouseMoveX';\r\n\t\toThis.mouseMoveY = 'mouseMoveY';\r\n\t});\r\n};\r\n\r\nconst swap_initGridEventFun = function(){\r\n\t// 扩展方法\r\n\tvar oThis = this;\r\n};\r\n\r\n/*\r\n * 交换列位置开始，并不修改swapColumnFlag，当移动的时候才修改swapColumnFlag\r\n */\r\nconst swapColumnStart = function(e, ele) {\r\n\tif(!this.options.canSwap){\r\n\t\treturn;\r\n\t}\r\n\tthis.swapColumnEle = ele;\r\n\tthis.swapColumnStartX = e.clientX;\r\n\tthis.swapColumnStartY = e.clientY;\r\n};\r\n/*\r\n * 交换位置\r\n */\r\nconst swapColumnFun = function(e) {\r\n\tif(!this.options.canSwap){\r\n\t\treturn;\r\n\t}\r\n\tvar oThis = this;\r\n\tif (this.swapColumnFlag) {\r\n\t\tvar nowTh = this.swapColumnEle,\r\n\t\t\t$nowTh = $(nowTh),\r\n\t\t\tnowGridCompColumn = nowTh.gridCompColumn;\r\n\t\t//创建拖动区域\r\n\t\tif ($('#' + this.options.id + '_clue').length == 0) {\r\n\t\t\tvar $d = $('<div class=\"u-grid u-grid-header-drag-clue\" id=\"' + this.options.id + '_clue\" />').css({\r\n\t\t\t\twidth: nowTh.scrollWidth + \"px\",\r\n\t\t\t\tleft: nowTh.attrLeftTotalWidth - oThis.scrollLeft + oThis.leftW +oThis.fixedWidth + \"px\",\r\n\t\t\t\ttop: \"0px\",\r\n\t\t\t\tpaddingLeft: $nowTh.css(\"paddingLeft\"),\r\n\t\t\t\tpaddingRight: $nowTh.css(\"paddingRight\"),\r\n\t\t\t\tlineHeight: $nowTh.height() + \"px\",\r\n\t\t\t\tpaddingTop: $nowTh.css(\"paddingTop\"),\r\n\t\t\t\tpaddingBottom: $nowTh.css(\"paddingBottom\")\r\n\t\t\t}).html(nowGridCompColumn.options.title || nowGridCompColumn.options.field).prepend('<span class=\"uf uf-bancirclesymbol u-grid-header-drag-status\" />');\r\n\t\t\ttry{\r\n\t\t\t\t$('#' + this.options.id)[0].insertAdjacentElement('afterBegin',$d[0]);\r\n\t\t\t}catch(e){\r\n\t\t\t\t$('#' + this.options.id)[0].insertBefore($d[0],$('#' + this.options.id)[0].firstChild);\r\n\t\t\t}\r\n\t\t\t$d.on('mousemove',function(){\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.swapColumnEndX = e.clientX;\r\n\t\tthis.swapColumnEndY = e.clientY;\r\n\t\tvar changeX = this.swapColumnEndX - this.swapColumnStartX,\r\n\t\t\tchangeY = this.swapColumnEndY - this.swapColumnStartY;\r\n\t\t$('#' + this.options.id + '_clue').css({\r\n\t\t\tleft: nowTh.attrLeftTotalWidth + changeX - oThis.scrollLeft + oThis.leftW + oThis.fixedWidth + \"px\",\r\n\t\t\ttop: changeY + \"px\"\r\n\t\t});\r\n\r\n\t\t// 创建提示div\r\n\t\tif ($('#' + this.options.id + '_swap_top').length == 0) {\r\n\t\t\tvar $d = $('<span class=\"uf uf-sortdown u-grid-header-swap-tip-span\"  id=\"' + this.options.id + '_swap_top\"/>');\r\n\t\t\t$d.css({\r\n\t\t\t\ttop: $nowTh.height() - 6 + 'px'\r\n\t\t\t});\r\n\t\t\tvar $d1 = $('<span class=\"uf uf-sortup u-grid-header-swap-tip-span\" id=\"' + this.options.id + '_swap_down\" />');\r\n\t\t\t$d1.css({\r\n\t\t\t\ttop: '6px'\r\n\t\t\t});\r\n\t\t\ttry{\r\n\t\t\t\t$('#' + this.options.id)[0].insertAdjacentElement('afterBegin',$d[0]);\r\n\t\t\t\t$('#' + this.options.id)[0].insertAdjacentElement('afterBegin',$d1[0]);\r\n\t\t\t}catch(e){\r\n\t\t\t\t$('#' + this.options.id)[0].insertBefore($d[0],$('#' + this.options.id)[0].firstChild);\r\n\t\t\t\t$('#' + this.options.id)[0].insertBefore($d1[0],$('#' + this.options.id)[0].firstChild);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.canSwap = false;\r\n\t\t$('#' + this.options.id + '_header_table th').each(function(i) {\r\n\t\t\tvar left = $(this).offset().left,\r\n\t\t\t\tright = left + parseInt(this.attrWidth);\r\n\t\t\tif (i == 0 && e.clientX < left) {\r\n\t\t\t\t// 移动到最左边\r\n\t\t\t\tif (oThis.swapColumnEle != this) {\r\n\t\t\t\t\toThis.swapToColumnEle = 'LeftEle';\r\n\t\t\t\t\t$('#' + oThis.options.id + '_swap_top').css({\r\n\t\t\t\t\t\tleft: -oThis.scrollLeft - 3 + oThis.leftW +oThis.fixedWidth + 'px',\r\n\t\t\t\t\t\tdisplay: 'block'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$('#' + oThis.options.id + '_swap_down').css({\r\n\t\t\t\t\t\tleft: -oThis.scrollLeft - 3 + oThis.leftW + oThis.fixedWidth + 'px',\r\n\t\t\t\t\t\tdisplay: 'block'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\toThis.canSwap = true;\r\n\t\t\t} else if (left < e.clientX && e.clientX < right) {\r\n\t\t\t\tif (oThis.swapColumnEle != this && parseInt($(this).attr('index')) + 1 != parseInt($(oThis.swapColumnEle).attr('index'))) {\r\n\t\t\t\t\tif (oThis.swapToColumnEle != this) {\r\n\t\t\t\t\t\toThis.swapToColumnEle = this;\r\n\t\t\t\t\t\t$('#' + oThis.options.id + '_swap_top').css({\r\n\t\t\t\t\t\t\tleft: this.attrRightTotalWidth - oThis.scrollLeft - 3 + oThis.leftW  + oThis.fixedWidth + 'px',\r\n\t\t\t\t\t\t\tdisplay: 'block'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t$('#' + oThis.options.id + '_swap_down').css({\r\n\t\t\t\t\t\t\tleft: this.attrRightTotalWidth - oThis.scrollLeft - 3 + oThis.leftW + oThis.fixedWidth + 'px',\r\n\t\t\t\t\t\t\tdisplay: 'block'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\toThis.canSwap = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (this.canSwap) {\r\n\t\t\t$('.u-grid-header-drag-status').removeClass('uf-bancirclesymbol').addClass('uf-plussigninablackcircle');\r\n\t\t} else {\r\n\t\t\t$('#' + this.options.id + '_swap_top').css('display', 'none');\r\n\t\t\t$('#' + this.options.id + '_swap_down').css('display', 'none');\r\n\t\t\t$('.u-grid-header-drag-status').removeClass('uf-plussigninablackcircle').addClass('uf-bancirclesymbol');\r\n\t\t\tthis.swapToColumnEle = null;\r\n\t\t}\r\n\t\t$('#' + this.options.id + '_top').css('display', 'block');\r\n\t}\r\n};\r\n/*\r\n * 交换位置结束\r\n */\r\nconst swapColumnEnd = function(e) {\r\n\tif(!this.options.canSwap){\r\n\t\treturn;\r\n\t}\r\n\tvar oThis = this;\r\n\tif (this.swapColumnFlag) {\r\n\t\tif (this.swapToColumnEle) {\r\n\t\t\tvar swapColumnEle = this.swapColumnEle,\r\n\t\t\t\tswapToColumnEle = this.swapToColumnEle,\r\n\t\t\t\tswapColumnIndex = $(swapColumnEle).attr('index'),\r\n\t\t\t\tswapToColumnIndex = $(swapToColumnEle).attr('index'),\r\n\t\t\t\tswapGridCompColumn = this.gridCompColumnArr[swapColumnIndex];\r\n\t\t\tthis.gridCompColumnArr.splice(parseInt(swapToColumnIndex) + 1, 0, swapGridCompColumn);\r\n\t\t\tif (swapColumnIndex < swapToColumnIndex)\r\n\t\t\t\tthis.gridCompColumnArr.splice(swapColumnIndex, 1);\r\n\t\t\telse\r\n\t\t\t\tthis.gridCompColumnArr.splice(parseInt(swapColumnIndex) + 1, 1);\r\n\t\t\tthis.saveGridCompColumnArrToLocal();\r\n\t\t\tthis.repaintGridDivs();\r\n\t\t}\r\n\t\t$('#' + this.options.id + '_clue').remove();\r\n\t\t$('#' + this.options.id + '_swap_top').css('display', 'none');\r\n\t\t$('#' + this.options.id + '_swap_down').css('display', 'none');\r\n\t}\r\n\tthis.swapColumnFlag = false;\r\n\t$('#' + this.options.id + '_top').css('display', 'none');\r\n};\r\nexport{\r\n    swap_initEventFun,\r\n    swap_initGridEventFun,\r\n    swapColumnStart,\r\n    swapColumnFun,\r\n    swapColumnEnd\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/re_gridCompSwap.js\n **/"],"sourceRoot":""}